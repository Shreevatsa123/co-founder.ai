(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function Om(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cu={exports:{}},To={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function jy(){if(eh)return To;eh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(s,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:s,key:p,ref:r!==void 0?r:null,props:f}}return To.Fragment=t,To.jsx=o,To.jsxs=o,To}var th;function ev(){return th||(th=1,Cu.exports=jy()),Cu.exports}var S=ev(),Au={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function tv(){if(nh)return me;nh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,R={};function H(N,P,$){this.props=N,this.context=P,this.refs=R,this.updater=$||U}H.prototype.isReactComponent={},H.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function X(){}X.prototype=H.prototype;function Y(N,P,$){this.props=N,this.context=P,this.refs=R,this.updater=$||U}var Q=Y.prototype=new X;Q.constructor=Y,q(Q,H.prototype),Q.isPureReactComponent=!0;var W=Array.isArray;function se(){}var K={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function ee(N,P,$){var ie=$.ref;return{$$typeof:i,type:N,key:P,ref:ie!==void 0?ie:null,props:$}}function ye(N,P){return ee(N.type,P,N.props)}function ve(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function Ve(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function($){return P[$]})}var _e=/\/+/g;function Re(N,P){return typeof N=="object"&&N!==null&&N.key!=null?Ve(""+N.key):P.toString(36)}function te(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(se,se):(N.status="pending",N.then(function(P){N.status==="pending"&&(N.status="fulfilled",N.value=P)},function(P){N.status==="pending"&&(N.status="rejected",N.reason=P)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function M(N,P,$,ie,pe){var ce=typeof N;(ce==="undefined"||ce==="boolean")&&(N=null);var Ue=!1;if(N===null)Ue=!0;else switch(ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(N.$$typeof){case i:case t:Ue=!0;break;case v:return Ue=N._init,M(Ue(N._payload),P,$,ie,pe)}}if(Ue)return pe=pe(N),Ue=ie===""?"."+Re(N,0):ie,W(pe)?($="",Ue!=null&&($=Ue.replace(_e,"$&/")+"/"),M(pe,P,$,"",function(nn){return nn})):pe!=null&&(ve(pe)&&(pe=ye(pe,$+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(_e,"$&/")+"/")+Ue)),P.push(pe)),1;Ue=0;var ut=ie===""?".":ie+":";if(W(N))for(var Qe=0;Qe<N.length;Qe++)ie=N[Qe],ce=ut+Re(ie,Qe),Ue+=M(ie,P,$,ce,pe);else if(Qe=C(N),typeof Qe=="function")for(N=Qe.call(N),Qe=0;!(ie=N.next()).done;)ie=ie.value,ce=ut+Re(ie,Qe++),Ue+=M(ie,P,$,ce,pe);else if(ce==="object"){if(typeof N.then=="function")return M(te(N),P,$,ie,pe);throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function F(N,P,$){if(N==null)return N;var ie=[],pe=0;return M(N,ie,"","",function(ce){return P.call($,ce,pe++)}),ie}function ne(N){if(N._status===-1){var P=N._result;P=P(),P.then(function($){(N._status===0||N._status===-1)&&(N._status=1,N._result=$)},function($){(N._status===0||N._status===-1)&&(N._status=2,N._result=$)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var Ee=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Te={map:F,forEach:function(N,P,$){F(N,function(){P.apply(this,arguments)},$)},count:function(N){var P=0;return F(N,function(){P++}),P},toArray:function(N){return F(N,function(P){return P})||[]},only:function(N){if(!ve(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return me.Activity=x,me.Children=Te,me.Component=H,me.Fragment=o,me.Profiler=r,me.PureComponent=Y,me.StrictMode=s,me.Suspense=y,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return K.H.useMemoCache(N)}},me.cache=function(N){return function(){return N.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(N,P,$){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=q({},N.props),pe=N.key;if(P!=null)for(ce in P.key!==void 0&&(pe=""+P.key),P)!ge.call(P,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&P.ref===void 0||(ie[ce]=P[ce]);var ce=arguments.length-2;if(ce===1)ie.children=$;else if(1<ce){for(var Ue=Array(ce),ut=0;ut<ce;ut++)Ue[ut]=arguments[ut+2];ie.children=Ue}return ee(N.type,pe,ie)},me.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},me.createElement=function(N,P,$){var ie,pe={},ce=null;if(P!=null)for(ie in P.key!==void 0&&(ce=""+P.key),P)ge.call(P,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=P[ie]);var Ue=arguments.length-2;if(Ue===1)pe.children=$;else if(1<Ue){for(var ut=Array(Ue),Qe=0;Qe<Ue;Qe++)ut[Qe]=arguments[Qe+2];pe.children=ut}if(N&&N.defaultProps)for(ie in Ue=N.defaultProps,Ue)pe[ie]===void 0&&(pe[ie]=Ue[ie]);return ee(N,ce,pe)},me.createRef=function(){return{current:null}},me.forwardRef=function(N){return{$$typeof:g,render:N}},me.isValidElement=ve,me.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:ne}},me.memo=function(N,P){return{$$typeof:m,type:N,compare:P===void 0?null:P}},me.startTransition=function(N){var P=K.T,$={};K.T=$;try{var ie=N(),pe=K.S;pe!==null&&pe($,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(se,Ee)}catch(ce){Ee(ce)}finally{P!==null&&$.types!==null&&(P.types=$.types),K.T=P}},me.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},me.use=function(N){return K.H.use(N)},me.useActionState=function(N,P,$){return K.H.useActionState(N,P,$)},me.useCallback=function(N,P){return K.H.useCallback(N,P)},me.useContext=function(N){return K.H.useContext(N)},me.useDebugValue=function(){},me.useDeferredValue=function(N,P){return K.H.useDeferredValue(N,P)},me.useEffect=function(N,P){return K.H.useEffect(N,P)},me.useEffectEvent=function(N){return K.H.useEffectEvent(N)},me.useId=function(){return K.H.useId()},me.useImperativeHandle=function(N,P,$){return K.H.useImperativeHandle(N,P,$)},me.useInsertionEffect=function(N,P){return K.H.useInsertionEffect(N,P)},me.useLayoutEffect=function(N,P){return K.H.useLayoutEffect(N,P)},me.useMemo=function(N,P){return K.H.useMemo(N,P)},me.useOptimistic=function(N,P){return K.H.useOptimistic(N,P)},me.useReducer=function(N,P,$){return K.H.useReducer(N,P,$)},me.useRef=function(N){return K.H.useRef(N)},me.useState=function(N){return K.H.useState(N)},me.useSyncExternalStore=function(N,P,$){return K.H.useSyncExternalStore(N,P,$)},me.useTransition=function(){return K.H.useTransition()},me.version="19.2.3",me}var ih;function Ju(){return ih||(ih=1,Au.exports=tv()),Au.exports}var ue=Ju();const nv=Om(ue);var Nu={exports:{}},xo={},bu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function iv(){return lh||(lh=1,(function(i){function t(M,F){var ne=M.length;M.push(F);e:for(;0<ne;){var Ee=ne-1>>>1,Te=M[Ee];if(0<r(Te,F))M[Ee]=F,M[ne]=Te,ne=Ee;else break e}}function o(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var F=M[0],ne=M.pop();if(ne!==F){M[0]=ne;e:for(var Ee=0,Te=M.length,N=Te>>>1;Ee<N;){var P=2*(Ee+1)-1,$=M[P],ie=P+1,pe=M[ie];if(0>r($,ne))ie<Te&&0>r(pe,$)?(M[Ee]=pe,M[ie]=ne,Ee=ie):(M[Ee]=$,M[P]=ne,Ee=P);else if(ie<Te&&0>r(pe,ne))M[Ee]=pe,M[ie]=ne,Ee=ie;else break e}}return F}function r(M,F){var ne=M.sortIndex-F.sortIndex;return ne!==0?ne:M.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],m=[],v=1,x=null,E=3,C=!1,U=!1,q=!1,R=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function Q(M){for(var F=o(m);F!==null;){if(F.callback===null)s(m);else if(F.startTime<=M)s(m),F.sortIndex=F.expirationTime,t(y,F);else break;F=o(m)}}function W(M){if(q=!1,Q(M),!U)if(o(y)!==null)U=!0,se||(se=!0,Ve());else{var F=o(m);F!==null&&te(W,F.startTime-M)}}var se=!1,K=-1,ge=5,ee=-1;function ye(){return R?!0:!(i.unstable_now()-ee<ge)}function ve(){if(R=!1,se){var M=i.unstable_now();ee=M;var F=!0;try{e:{U=!1,q&&(q=!1,X(K),K=-1),C=!0;var ne=E;try{t:{for(Q(M),x=o(y);x!==null&&!(x.expirationTime>M&&ye());){var Ee=x.callback;if(typeof Ee=="function"){x.callback=null,E=x.priorityLevel;var Te=Ee(x.expirationTime<=M);if(M=i.unstable_now(),typeof Te=="function"){x.callback=Te,Q(M),F=!0;break t}x===o(y)&&s(y),Q(M)}else s(y);x=o(y)}if(x!==null)F=!0;else{var N=o(m);N!==null&&te(W,N.startTime-M),F=!1}}break e}finally{x=null,E=ne,C=!1}F=void 0}}finally{F?Ve():se=!1}}}var Ve;if(typeof Y=="function")Ve=function(){Y(ve)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Re=_e.port2;_e.port1.onmessage=ve,Ve=function(){Re.postMessage(null)}}else Ve=function(){H(ve,0)};function te(M,F){K=H(function(){M(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(M){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var ne=E;E=F;try{return M()}finally{E=ne}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ne=E;E=M;try{return F()}finally{E=ne}},i.unstable_scheduleCallback=function(M,F,ne){var Ee=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ee+ne:Ee):ne=Ee,M){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ne+Te,M={id:v++,callback:F,priorityLevel:M,startTime:ne,expirationTime:Te,sortIndex:-1},ne>Ee?(M.sortIndex=ne,t(m,M),o(y)===null&&M===o(m)&&(q?(X(K),K=-1):q=!0,te(W,ne-Ee))):(M.sortIndex=Te,t(y,M),U||C||(U=!0,se||(se=!0,Ve()))),M},i.unstable_shouldYield=ye,i.unstable_wrapCallback=function(M){var F=E;return function(){var ne=E;E=F;try{return M.apply(this,arguments)}finally{E=ne}}}})(Ru)),Ru}var oh;function lv(){return oh||(oh=1,bu.exports=iv()),bu.exports}var Mu={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function ov(){if(sh)return St;sh=1;var i=Ju();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,m,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:y,containerInfo:m,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,St.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return f(y,m,null,v)},St.flushSync=function(y){var m=p.T,v=s.p;try{if(p.T=null,s.p=2,y)return y()}finally{p.T=m,s.p=v,s.d.f()}},St.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},St.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},St.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,x=g(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:x,integrity:E,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},St.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},St.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,x=g(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},St.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},St.requestFormReset=function(y){s.d.r(y)},St.unstable_batchedUpdates=function(y,m){return y(m)},St.useFormState=function(y,m,v){return p.H.useFormState(y,m,v)},St.useFormStatus=function(){return p.H.useHostTransitionStatus()},St.version="19.2.3",St}var ah;function sv(){if(ah)return Mu.exports;ah=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Mu.exports=ov(),Mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function av(){if(rh)return xo;rh=1;var i=lv(),t=Ju(),o=sv();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,a=n;;){var d=l.return;if(d===null)break;var h=d.alternate;if(h===null){if(a=d.return,a!==null){l=a;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===l)return y(d),e;if(h===a)return y(d),n;h=h.sibling}throw Error(s(188))}if(l.return!==a.return)l=d,a=h;else{for(var T=!1,_=d.child;_;){if(_===l){T=!0,l=d,a=h;break}if(_===a){T=!0,a=d,l=h;break}_=_.sibling}if(!T){for(_=h.child;_;){if(_===l){T=!0,l=h,a=d;break}if(_===a){T=!0,a=h,l=d;break}_=_.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function Ve(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case H:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case se:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case Y:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case Q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:Re(e.type)||"Memo";case ge:n=e._payload,e=e._init;try{return Re(e(n))}catch{}}return null}var te=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ee=[],Te=-1;function N(e){return{current:e}}function P(e){0>Te||(e.current=Ee[Te],Ee[Te]=null,Te--)}function $(e,n){Te++,Ee[Te]=e.current,e.current=n}var ie=N(null),pe=N(null),ce=N(null),Ue=N(null);function ut(e,n){switch($(ce,n),$(pe,e),$(ie,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?_p(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=_p(n),e=Cp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(ie),$(ie,e)}function Qe(){P(ie),P(pe),P(ce)}function nn(e){e.memoizedState!==null&&$(Ue,e);var n=ie.current,l=Cp(n,e.type);n!==l&&($(pe,e),$(ie,l))}function li(e){pe.current===e&&(P(ie),P(pe)),Ue.current===e&&(P(Ue),go._currentValue=ne)}var Tl,No;function ln(e){if(Tl===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Tl=n&&n[1]||"",No=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tl+e+No}var xl=!1;function El(e,n){if(!e||xl)return"";xl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(L){var G=L}Reflect.construct(e,[],O)}else{try{O.call()}catch(L){G=L}e.call(O.prototype)}}else{try{throw Error()}catch(L){G=L}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(L){if(L&&G&&typeof L.stack=="string")return[L.stack,G.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),T=h[0],_=h[1];if(T&&_){var A=T.split(`
`),D=_.split(`
`);for(d=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(a===A.length||d===D.length)for(a=A.length-1,d=D.length-1;1<=a&&0<=d&&A[a]!==D[d];)d--;for(;1<=a&&0<=d;a--,d--)if(A[a]!==D[d]){if(a!==1||d!==1)do if(a--,d--,0>d||A[a]!==D[d]){var z=`
`+A[a].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=a&&0<=d);break}}}finally{xl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ln(l):""}function _l(e,n){switch(e.tag){case 26:case 27:case 5:return ln(e.type);case 16:return ln("Lazy");case 13:return e.child!==n&&n!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return El(e.type,!1);case 11:return El(e.type.render,!1);case 1:return El(e.type,!0);case 31:return ln("Activity");default:return""}}function bo(e){try{var n="",l=null;do n+=_l(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ai=Object.prototype.hasOwnProperty,Cl=i.unstable_scheduleCallback,Al=i.unstable_cancelCallback,Ro=i.unstable_shouldYield,ca=i.unstable_requestPaint,vt=i.unstable_now,fa=i.unstable_getCurrentPriorityLevel,Nl=i.unstable_ImmediatePriority,V=i.unstable_UserBlockingPriority,J=i.unstable_NormalPriority,de=i.unstable_LowPriority,Ce=i.unstable_IdlePriority,De=i.log,je=i.unstable_setDisableYieldValue,ae=null,ke=null;function Je(e){if(typeof De=="function"&&je(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(ae,e)}catch{}}var et=Math.clz32?Math.clz32:fn,bl=Math.log,cn=Math.LN2;function fn(e){return e>>>=0,e===0?32:31-(bl(e)/cn|0)|0}var on=256,Mo=262144,wo=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Io(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var d=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=a&134217727;return _!==0?(a=_&~h,a!==0?d=oi(a):(T&=_,T!==0?d=oi(T):l||(l=_&~e,l!==0&&(d=oi(l))))):(_=a&~h,_!==0?d=oi(_):T!==0?d=oi(T):l||(l=a&~e,l!==0&&(d=oi(l)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:d}function Rl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ic(){var e=wo;return wo<<=1,(wo&62914560)===0&&(wo=4194304),e}function da(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Ml(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pg(e,n,l,a,d,h){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(l=T&~l;0<l;){var z=31-et(l),O=1<<z;_[z]=0,A[z]=-1;var G=D[z];if(G!==null)for(D[z]=null,z=0;z<G.length;z++){var L=G[z];L!==null&&(L.lane&=-536870913)}l&=~O}a!==0&&lc(e,a,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~n))}function lc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-et(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function oc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-et(l),d=1<<a;d&n|e[a]&n&&(e[a]|=n),l&=~d}}function sc(e,n){var l=n&-n;return l=(l&42)!==0?1:pa(l),(l&(e.suspendedLanes|n))!==0?0:l}function pa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ha(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ac(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Xp(e.type))}function rc(e,n){var l=F.p;try{return F.p=e,n()}finally{F.p=l}}var Un=Math.random().toString(36).slice(2),pt="__reactFiber$"+Un,Ct="__reactProps$"+Un,Ni="__reactContainer$"+Un,ma="__reactEvents$"+Un,Bg="__reactListeners$"+Un,Og="__reactHandles$"+Un,uc="__reactResources$"+Un,wl="__reactMarker$"+Un;function ga(e){delete e[pt],delete e[Ct],delete e[ma],delete e[Bg],delete e[Og]}function bi(e){var n=e[pt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Ni]||l[pt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Ip(e);e!==null;){if(l=e[pt])return l;e=Ip(e)}return n}e=l,l=e.parentNode}return null}function Ri(e){if(e=e[pt]||e[Ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Il(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Mi(e){var n=e[uc];return n||(n=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ct(e){e[wl]=!0}var cc=new Set,fc={};function si(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(fc[e]=n,e=0;e<n.length;e++)cc.add(n[e])}var Fg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dc={},pc={};function Yg(e){return Ai.call(pc,e)?!0:Ai.call(dc,e)?!1:Fg.test(e)?pc[e]=!0:(dc[e]=!0,!1)}function Do(e,n,l){if(Yg(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Uo(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function dn(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jg(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,h.call(this,T)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ya(e){if(!e._valueTracker){var n=hc(e)?"checked":"value";e._valueTracker=Jg(e,n,""+e[n])}}function mc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=hc(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xg=/[\n"\\]/g;function Vt(e){return e.replace(Xg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(e,n,l,a,d,h,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qt(n)):e.value!==""+qt(n)&&(e.value=""+qt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?Sa(e,T,qt(n)):l!=null?Sa(e,T,qt(l)):a!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+qt(_):e.removeAttribute("name")}function gc(e,n,l,a,d,h,T,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){ya(e);return}l=l!=null?""+qt(l):"",n=n!=null?""+qt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=_?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ya(e)}function Sa(e,n,l){n==="number"&&ko(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ii(e,n,l,a){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&a&&(e[l].defaultSelected=!0)}else{for(l=""+qt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function yc(e,n,l){if(n!=null&&(n=""+qt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+qt(l):""}function vc(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(s(92));if(te(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=qt(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),ya(e)}function Di(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Kg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sc(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||Kg.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Tc(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var d in n)a=n[d],n.hasOwnProperty(d)&&l[d]!==a&&Sc(e,d,a)}else for(var h in n)n.hasOwnProperty(h)&&Sc(e,h,n[h])}function Ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$g=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(e){return $g.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var xa=null;function Ea(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,ki=null;function xc(e){var n=Ri(e);if(n&&(e=n.stateNode)){var l=e[Ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(va(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Vt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var d=a[Ct]||null;if(!d)throw Error(s(90));va(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&mc(a)}break e;case"textarea":yc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ii(e,!!l.multiple,n,!1)}}}var _a=!1;function Ec(e,n,l){if(_a)return e(n,l);_a=!0;try{var a=e(n);return a}finally{if(_a=!1,(Ui!==null||ki!==null)&&(Es(),Ui&&(n=Ui,e=ki,ki=Ui=null,xc(n),e)))for(n=0;n<e.length;n++)xc(e[n])}}function Dl(e,n){var l=e.stateNode;if(l===null)return null;var a=l[Ct]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(hn)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Ca=!1}var kn=null,Aa=null,Lo=null;function _c(){if(Lo)return Lo;var e,n=Aa,l=n.length,a,d="value"in kn?kn.value:kn.textContent,h=d.length;for(e=0;e<l&&n[e]===d[e];e++);var T=l-e;for(a=1;a<=T&&n[l-a]===d[h-a];a++);return Lo=d.slice(e,1<a?1-a:void 0)}function Ho(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function qo(){return!0}function Cc(){return!1}function At(e){function n(l,a,d,h,T){this._reactName=l,this._targetInst=d,this.type=a,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?qo:Cc,this.isPropagationStopped=Cc,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),n}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=At(ai),kl=x({},ai,{view:0,detail:0}),Zg=At(kl),Na,ba,Gl,zo=x({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(Na=e.screenX-Gl.screenX,ba=e.screenY-Gl.screenY):ba=Na=0,Gl=e),Na)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Ac=At(zo),Wg=x({},zo,{dataTransfer:0}),jg=At(Wg),e0=x({},kl,{relatedTarget:0}),Ra=At(e0),t0=x({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),n0=At(t0),i0=x({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l0=At(i0),o0=x({},ai,{data:0}),Nc=At(o0),s0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=r0[e])?!!n[e]:!1}function Ma(){return u0}var c0=x({},kl,{key:function(e){if(e.key){var n=s0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(e){return e.type==="keypress"?Ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f0=At(c0),d0=x({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=At(d0),p0=x({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),h0=At(p0),m0=x({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),g0=At(m0),y0=x({},zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=At(y0),S0=x({},ai,{newState:0,oldState:0}),T0=At(S0),x0=[9,13,27,32],wa=hn&&"CompositionEvent"in window,Ll=null;hn&&"documentMode"in document&&(Ll=document.documentMode);var E0=hn&&"TextEvent"in window&&!Ll,Rc=hn&&(!wa||Ll&&8<Ll&&11>=Ll),Mc=" ",wc=!1;function Ic(e,n){switch(e){case"keyup":return x0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function _0(e,n){switch(e){case"compositionend":return Dc(n);case"keypress":return n.which!==32?null:(wc=!0,Mc);case"textInput":return e=n.data,e===Mc&&wc?null:e;default:return null}}function C0(e,n){if(Gi)return e==="compositionend"||!wa&&Ic(e,n)?(e=_c(),Lo=Aa=kn=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Rc&&n.locale!=="ko"?null:n.data;default:return null}}var A0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!A0[e.type]:n==="textarea"}function kc(e,n,l,a){Ui?ki?ki.push(a):ki=[a]:Ui=a,n=Ms(n,"onChange"),0<n.length&&(l=new Vo("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var Hl=null,ql=null;function N0(e){yp(e,0)}function Po(e){var n=Il(e);if(mc(n))return e}function Gc(e,n){if(e==="change")return n}var Lc=!1;if(hn){var Ia;if(hn){var Da="oninput"in document;if(!Da){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),Da=typeof Hc.oninput=="function"}Ia=Da}else Ia=!1;Lc=Ia&&(!document.documentMode||9<document.documentMode)}function qc(){Hl&&(Hl.detachEvent("onpropertychange",Vc),ql=Hl=null)}function Vc(e){if(e.propertyName==="value"&&Po(ql)){var n=[];kc(n,ql,e,Ea(e)),Ec(N0,n)}}function b0(e,n,l){e==="focusin"?(qc(),Hl=n,ql=l,Hl.attachEvent("onpropertychange",Vc)):e==="focusout"&&qc()}function R0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(ql)}function M0(e,n){if(e==="click")return Po(n)}function w0(e,n){if(e==="input"||e==="change")return Po(n)}function I0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var It=typeof Object.is=="function"?Object.is:I0;function Vl(e,n){if(It(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var d=l[a];if(!Ai.call(n,d)||!It(e[d],n[d]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,n){var l=zc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zc(l)}}function Bc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Oc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ko(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=ko(e.document)}return n}function Ua(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D0=hn&&"documentMode"in document&&11>=document.documentMode,Li=null,ka=null,zl=null,Ga=!1;function Fc(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ga||Li==null||Li!==ko(a)||(a=Li,"selectionStart"in a&&Ua(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),zl&&Vl(zl,a)||(zl=a,a=Ms(ka,"onSelect"),0<a.length&&(n=new Vo("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=Li)))}function ri(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Hi={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},La={},Yc={};hn&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function ui(e){if(La[e])return La[e];if(!Hi[e])return e;var n=Hi[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Yc)return La[e]=n[l];return e}var Jc=ui("animationend"),Xc=ui("animationiteration"),Kc=ui("animationstart"),U0=ui("transitionrun"),k0=ui("transitionstart"),G0=ui("transitioncancel"),Qc=ui("transitionend"),$c=new Map,Ha="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ha.push("scrollEnd");function $t(e,n){$c.set(e,n),si(n,[e])}var Bo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],qi=0,qa=0;function Oo(){for(var e=qi,n=qa=qi=0;n<e;){var l=zt[n];zt[n++]=null;var a=zt[n];zt[n++]=null;var d=zt[n];zt[n++]=null;var h=zt[n];if(zt[n++]=null,a!==null&&d!==null){var T=a.pending;T===null?d.next=d:(d.next=T.next,T.next=d),a.pending=d}h!==0&&Zc(l,d,h)}}function Fo(e,n,l,a){zt[qi++]=e,zt[qi++]=n,zt[qi++]=l,zt[qi++]=a,qa|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Va(e,n,l,a){return Fo(e,n,l,a),Yo(e)}function ci(e,n){return Fo(e,null,null,n),Yo(e)}function Zc(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var d=!1,h=e.return;h!==null;)h.childLanes|=l,a=h.alternate,a!==null&&(a.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-et(l),e=h.hiddenUpdates,a=e[d],a===null?e[d]=[n]:a.push(n),n.lane=l|536870912),h):null}function Yo(e){if(50<ro)throw ro=0,Kr=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Vi={};function L0(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,n,l,a){return new L0(e,n,l,a)}function za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mn(e,n){var l=e.alternate;return l===null?(l=Dt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Wc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Jo(e,n,l,a,d,h){var T=0;if(a=e,typeof e=="function")za(e)&&(T=1);else if(typeof e=="string")T=Py(e,l,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Dt(31,l,n,d),e.elementType=ee,e.lanes=h,e;case q:return fi(l.children,d,h,n);case R:T=8,d|=24;break;case H:return e=Dt(12,l,n,d|2),e.elementType=H,e.lanes=h,e;case W:return e=Dt(13,l,n,d),e.elementType=W,e.lanes=h,e;case se:return e=Dt(19,l,n,d),e.elementType=se,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:T=10;break e;case X:T=9;break e;case Q:T=11;break e;case K:T=14;break e;case ge:T=16,a=null;break e}T=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=Dt(T,l,n,d),n.elementType=e,n.type=a,n.lanes=h,n}function fi(e,n,l,a){return e=Dt(7,e,a,n),e.lanes=l,e}function Pa(e,n,l){return e=Dt(6,e,null,n),e.lanes=l,e}function jc(e){var n=Dt(18,null,null,0);return n.stateNode=e,n}function Ba(e,n,l){return n=Dt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ef=new WeakMap;function Pt(e,n){if(typeof e=="object"&&e!==null){var l=ef.get(e);return l!==void 0?l:(n={value:e,source:n,stack:bo(n)},ef.set(e,n),n)}return{value:e,source:n,stack:bo(n)}}var zi=[],Pi=0,Xo=null,Pl=0,Bt=[],Ot=0,Gn=null,sn=1,an="";function gn(e,n){zi[Pi++]=Pl,zi[Pi++]=Xo,Xo=e,Pl=n}function tf(e,n,l){Bt[Ot++]=sn,Bt[Ot++]=an,Bt[Ot++]=Gn,Gn=e;var a=sn;e=an;var d=32-et(a)-1;a&=~(1<<d),l+=1;var h=32-et(n)+d;if(30<h){var T=d-d%5;h=(a&(1<<T)-1).toString(32),a>>=T,d-=T,sn=1<<32-et(n)+d|l<<d|a,an=h+e}else sn=1<<h|l<<d|a,an=e}function Oa(e){e.return!==null&&(gn(e,1),tf(e,1,0))}function Fa(e){for(;e===Xo;)Xo=zi[--Pi],zi[Pi]=null,Pl=zi[--Pi],zi[Pi]=null;for(;e===Gn;)Gn=Bt[--Ot],Bt[Ot]=null,an=Bt[--Ot],Bt[Ot]=null,sn=Bt[--Ot],Bt[Ot]=null}function nf(e,n){Bt[Ot++]=sn,Bt[Ot++]=an,Bt[Ot++]=Gn,sn=n.id,an=n.overflow,Gn=e}var ht=null,Xe=null,Ie=!1,Ln=null,Ft=!1,Ya=Error(s(519));function Hn(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Pt(n,e)),Ya}function lf(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[pt]=e,n[Ct]=a,l){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(l=0;l<co.length;l++)be(co[l],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":be("invalid",n),gc(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":be("invalid",n);break;case"textarea":be("invalid",n),vc(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||xp(n.textContent,l)?(a.popover!=null&&(be("beforetoggle",n),be("toggle",n)),a.onScroll!=null&&be("scroll",n),a.onScrollEnd!=null&&be("scrollend",n),a.onClick!=null&&(n.onclick=pn),n=!0):n=!1,n||Hn(e,!0)}function of(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 31:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:ht=ht.return}}function Bi(e){if(e!==ht)return!1;if(!Ie)return of(e),Ie=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||uu(e.type,e.memoizedProps)),l=!l),l&&Xe&&Hn(e),of(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xe=wp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xe=wp(e)}else n===27?(n=Xe,Zn(e.type)?(e=hu,hu=null,Xe=e):Xe=n):Xe=ht?Jt(e.stateNode.nextSibling):null;return!0}function di(){Xe=ht=null,Ie=!1}function Ja(){var e=Ln;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),Ln=null),e}function Bl(e){Ln===null?Ln=[e]:Ln.push(e)}var Xa=N(null),pi=null,yn=null;function qn(e,n,l){$(Xa,n._currentValue),n._currentValue=l}function vn(e){e._currentValue=Xa.current,P(Xa)}function Ka(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function Qa(e,n,l,a){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){h.lanes|=l,_=h.alternate,_!==null&&(_.lanes|=l),Ka(h.return,l,e),a||(T=null);break e}h=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=l,h=T.alternate,h!==null&&(h.lanes|=l),Ka(T,l,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Oi(e,n,l,a){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var _=d.type;It(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===Ue.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(go):e=[go])}d=d.return}e!==null&&Qa(n,e,l,a),n.flags|=262144}function Ko(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hi(e){pi=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return sf(pi,e)}function Qo(e,n){return pi===null&&hi(e),sf(e,n)}function sf(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},yn===null){if(e===null)throw Error(s(308));yn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else yn=yn.next=n;return l}var H0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},q0=i.unstable_scheduleCallback,V0=i.unstable_NormalPriority,lt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $a(){return{controller:new H0,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&q0(V0,function(){e.controller.abort()})}var Fl=null,Za=0,Fi=0,Yi=null;function z0(e,n){if(Fl===null){var l=Fl=[];Za=0,Fi=eu(),Yi={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Za++,n.then(af,af),n}function af(){if(--Za===0&&Fl!==null){Yi!==null&&(Yi.status="fulfilled");var e=Fl;Fl=null,Fi=0,Yi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function P0(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(a.status="rejected",a.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),a}var rf=M.S;M.S=function(e,n){Yd=vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&z0(e,n),rf!==null&&rf(e,n)};var mi=N(null);function Wa(){var e=mi.current;return e!==null?e:Ye.pooledCache}function $o(e,n){n===null?$(mi,mi.current):$(mi,n.pool)}function uf(){var e=Wa();return e===null?null:{parent:lt._currentValue,pool:e}}var Ji=Error(s(460)),ja=Error(s(474)),Zo=Error(s(542)),Wo={then:function(){}};function cf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ff(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(pn,pn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pf(e),e;default:if(typeof n.status=="string")n.then(pn,pn);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=a}},function(a){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pf(e),e}throw yi=n,Ji}}function gi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(yi=l,Ji):l}}var yi=null;function df(){if(yi===null)throw Error(s(459));var e=yi;return yi=null,e}function pf(e){if(e===Ji||e===Zo)throw Error(s(483))}var Xi=null,Yl=0;function jo(e){var n=Yl;return Yl+=1,Xi===null&&(Xi=[]),ff(Xi,e,n)}function Jl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function es(e,n){throw n.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hf(e){function n(w,b){if(e){var I=w.deletions;I===null?(w.deletions=[b],w.flags|=16):I.push(b)}}function l(w,b){if(!e)return null;for(;b!==null;)n(w,b),b=b.sibling;return null}function a(w){for(var b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function d(w,b){return w=mn(w,b),w.index=0,w.sibling=null,w}function h(w,b,I){return w.index=I,e?(I=w.alternate,I!==null?(I=I.index,I<b?(w.flags|=67108866,b):I):(w.flags|=67108866,b)):(w.flags|=1048576,b)}function T(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,b,I,B){return b===null||b.tag!==6?(b=Pa(I,w.mode,B),b.return=w,b):(b=d(b,I),b.return=w,b)}function A(w,b,I,B){var re=I.type;return re===q?z(w,b,I.props.children,B,I.key):b!==null&&(b.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ge&&gi(re)===b.type)?(b=d(b,I.props),Jl(b,I),b.return=w,b):(b=Jo(I.type,I.key,I.props,null,w.mode,B),Jl(b,I),b.return=w,b)}function D(w,b,I,B){return b===null||b.tag!==4||b.stateNode.containerInfo!==I.containerInfo||b.stateNode.implementation!==I.implementation?(b=Ba(I,w.mode,B),b.return=w,b):(b=d(b,I.children||[]),b.return=w,b)}function z(w,b,I,B,re){return b===null||b.tag!==7?(b=fi(I,w.mode,B,re),b.return=w,b):(b=d(b,I),b.return=w,b)}function O(w,b,I){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Pa(""+b,w.mode,I),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C:return I=Jo(b.type,b.key,b.props,null,w.mode,I),Jl(I,b),I.return=w,I;case U:return b=Ba(b,w.mode,I),b.return=w,b;case ge:return b=gi(b),O(w,b,I)}if(te(b)||Ve(b))return b=fi(b,w.mode,I,null),b.return=w,b;if(typeof b.then=="function")return O(w,jo(b),I);if(b.$$typeof===Y)return O(w,Qo(w,b),I);es(w,b)}return null}function G(w,b,I,B){var re=b!==null?b.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return re!==null?null:_(w,b,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return I.key===re?A(w,b,I,B):null;case U:return I.key===re?D(w,b,I,B):null;case ge:return I=gi(I),G(w,b,I,B)}if(te(I)||Ve(I))return re!==null?null:z(w,b,I,B,null);if(typeof I.then=="function")return G(w,b,jo(I),B);if(I.$$typeof===Y)return G(w,b,Qo(w,I),B);es(w,I)}return null}function L(w,b,I,B,re){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return w=w.get(I)||null,_(b,w,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return w=w.get(B.key===null?I:B.key)||null,A(b,w,B,re);case U:return w=w.get(B.key===null?I:B.key)||null,D(b,w,B,re);case ge:return B=gi(B),L(w,b,I,B,re)}if(te(B)||Ve(B))return w=w.get(I)||null,z(b,w,B,re,null);if(typeof B.then=="function")return L(w,b,I,jo(B),re);if(B.$$typeof===Y)return L(w,b,I,Qo(b,B),re);es(b,B)}return null}function le(w,b,I,B){for(var re=null,Ge=null,oe=b,xe=b=0,we=null;oe!==null&&xe<I.length;xe++){oe.index>xe?(we=oe,oe=null):we=oe.sibling;var Le=G(w,oe,I[xe],B);if(Le===null){oe===null&&(oe=we);break}e&&oe&&Le.alternate===null&&n(w,oe),b=h(Le,b,xe),Ge===null?re=Le:Ge.sibling=Le,Ge=Le,oe=we}if(xe===I.length)return l(w,oe),Ie&&gn(w,xe),re;if(oe===null){for(;xe<I.length;xe++)oe=O(w,I[xe],B),oe!==null&&(b=h(oe,b,xe),Ge===null?re=oe:Ge.sibling=oe,Ge=oe);return Ie&&gn(w,xe),re}for(oe=a(oe);xe<I.length;xe++)we=L(oe,w,xe,I[xe],B),we!==null&&(e&&we.alternate!==null&&oe.delete(we.key===null?xe:we.key),b=h(we,b,xe),Ge===null?re=we:Ge.sibling=we,Ge=we);return e&&oe.forEach(function(ni){return n(w,ni)}),Ie&&gn(w,xe),re}function fe(w,b,I,B){if(I==null)throw Error(s(151));for(var re=null,Ge=null,oe=b,xe=b=0,we=null,Le=I.next();oe!==null&&!Le.done;xe++,Le=I.next()){oe.index>xe?(we=oe,oe=null):we=oe.sibling;var ni=G(w,oe,Le.value,B);if(ni===null){oe===null&&(oe=we);break}e&&oe&&ni.alternate===null&&n(w,oe),b=h(ni,b,xe),Ge===null?re=ni:Ge.sibling=ni,Ge=ni,oe=we}if(Le.done)return l(w,oe),Ie&&gn(w,xe),re;if(oe===null){for(;!Le.done;xe++,Le=I.next())Le=O(w,Le.value,B),Le!==null&&(b=h(Le,b,xe),Ge===null?re=Le:Ge.sibling=Le,Ge=Le);return Ie&&gn(w,xe),re}for(oe=a(oe);!Le.done;xe++,Le=I.next())Le=L(oe,w,xe,Le.value,B),Le!==null&&(e&&Le.alternate!==null&&oe.delete(Le.key===null?xe:Le.key),b=h(Le,b,xe),Ge===null?re=Le:Ge.sibling=Le,Ge=Le);return e&&oe.forEach(function(Wy){return n(w,Wy)}),Ie&&gn(w,xe),re}function Fe(w,b,I,B){if(typeof I=="object"&&I!==null&&I.type===q&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case C:e:{for(var re=I.key;b!==null;){if(b.key===re){if(re=I.type,re===q){if(b.tag===7){l(w,b.sibling),B=d(b,I.props.children),B.return=w,w=B;break e}}else if(b.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ge&&gi(re)===b.type){l(w,b.sibling),B=d(b,I.props),Jl(B,I),B.return=w,w=B;break e}l(w,b);break}else n(w,b);b=b.sibling}I.type===q?(B=fi(I.props.children,w.mode,B,I.key),B.return=w,w=B):(B=Jo(I.type,I.key,I.props,null,w.mode,B),Jl(B,I),B.return=w,w=B)}return T(w);case U:e:{for(re=I.key;b!==null;){if(b.key===re)if(b.tag===4&&b.stateNode.containerInfo===I.containerInfo&&b.stateNode.implementation===I.implementation){l(w,b.sibling),B=d(b,I.children||[]),B.return=w,w=B;break e}else{l(w,b);break}else n(w,b);b=b.sibling}B=Ba(I,w.mode,B),B.return=w,w=B}return T(w);case ge:return I=gi(I),Fe(w,b,I,B)}if(te(I))return le(w,b,I,B);if(Ve(I)){if(re=Ve(I),typeof re!="function")throw Error(s(150));return I=re.call(I),fe(w,b,I,B)}if(typeof I.then=="function")return Fe(w,b,jo(I),B);if(I.$$typeof===Y)return Fe(w,b,Qo(w,I),B);es(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,b!==null&&b.tag===6?(l(w,b.sibling),B=d(b,I),B.return=w,w=B):(l(w,b),B=Pa(I,w.mode,B),B.return=w,w=B),T(w)):l(w,b)}return function(w,b,I,B){try{Yl=0;var re=Fe(w,b,I,B);return Xi=null,re}catch(oe){if(oe===Ji||oe===Zo)throw oe;var Ge=Dt(29,oe,null,w.mode);return Ge.lanes=B,Ge.return=w,Ge}finally{}}}var vi=hf(!0),mf=hf(!1),Vn=!1;function er(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(qe&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,n=Yo(e),Zc(e,null,l),n}return Fo(e,a,n,l),Yo(e)}function Xl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,oc(e,l)}}function nr(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var d=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,l=l.next}while(l!==null);h===null?d=h=n:h=h.next=n}else d=h=n;l={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var ir=!1;function Kl(){if(ir){var e=Yi;if(e!==null)throw e}}function Ql(e,n,l,a){ir=!1;var d=e.updateQueue;Vn=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,D=A.next;A.next=null,T===null?h=D:T.next=D,T=A;var z=e.alternate;z!==null&&(z=z.updateQueue,_=z.lastBaseUpdate,_!==T&&(_===null?z.firstBaseUpdate=D:_.next=D,z.lastBaseUpdate=A))}if(h!==null){var O=d.baseState;T=0,z=D=A=null,_=h;do{var G=_.lane&-536870913,L=G!==_.lane;if(L?(Me&G)===G:(a&G)===G){G!==0&&G===Fi&&(ir=!0),z!==null&&(z=z.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=e,fe=_;G=n;var Fe=l;switch(fe.tag){case 1:if(le=fe.payload,typeof le=="function"){O=le.call(Fe,O,G);break e}O=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=fe.payload,G=typeof le=="function"?le.call(Fe,O,G):le,G==null)break e;O=x({},O,G);break e;case 2:Vn=!0}}G=_.callback,G!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[G]:L.push(G))}else L={lane:G,tag:_.tag,payload:_.payload,callback:_.callback,next:null},z===null?(D=z=L,A=O):z=z.next=L,T|=G;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;L=_,_=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);z===null&&(A=O),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=z,h===null&&(d.shared.lanes=0),Jn|=T,e.lanes=T,e.memoizedState=O}}function gf(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function yf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)gf(l[e],n)}var Ki=N(null),ts=N(0);function vf(e,n){e=bn,$(ts,e),$(Ki,n),bn=e|n.baseLanes}function lr(){$(ts,bn),$(Ki,Ki.current)}function or(){bn=ts.current,P(Ki),P(ts)}var Ut=N(null),Yt=null;function Bn(e){var n=e.alternate;$(tt,tt.current&1),$(Ut,e),Yt===null&&(n===null||Ki.current!==null||n.memoizedState!==null)&&(Yt=e)}function sr(e){$(tt,tt.current),$(Ut,e),Yt===null&&(Yt=e)}function Sf(e){e.tag===22?($(tt,tt.current),$(Ut,e),Yt===null&&(Yt=e)):On()}function On(){$(tt,tt.current),$(Ut,Ut.current)}function kt(e){P(Ut),Yt===e&&(Yt=null),P(tt)}var tt=N(0);function ns(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||du(l)||pu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sn=0,Se=null,Be=null,ot=null,is=!1,Qi=!1,Si=!1,ls=0,$l=0,$i=null,B0=0;function Ze(){throw Error(s(321))}function ar(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!It(e[l],n[l]))return!1;return!0}function rr(e,n,l,a,d,h){return Sn=h,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?nd:_r,Si=!1,h=l(a,d),Si=!1,Qi&&(h=xf(n,l,a,d)),Tf(e),h}function Tf(e){M.H=jl;var n=Be!==null&&Be.next!==null;if(Sn=0,ot=Be=Se=null,is=!1,$l=0,$i=null,n)throw Error(s(300));e===null||st||(e=e.dependencies,e!==null&&Ko(e)&&(st=!0))}function xf(e,n,l,a){Se=e;var d=0;do{if(Qi&&($i=null),$l=0,Qi=!1,25<=d)throw Error(s(301));if(d+=1,ot=Be=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=id,h=n(l,a)}while(Qi);return h}function O0(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?Zl(n):n,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(Se.flags|=1024),n}function ur(){var e=ls!==0;return ls=0,e}function cr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function fr(e){if(is){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}is=!1}Sn=0,ot=Be=Se=null,Qi=!1,$l=ls=0,$i=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Se.memoizedState=ot=e:ot=ot.next=e,ot}function nt(){if(Be===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var n=ot===null?Se.memoizedState:ot.next;if(n!==null)ot=n,Be=e;else{if(e===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},ot===null?Se.memoizedState=ot=e:ot=ot.next=e}return ot}function os(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var n=$l;return $l+=1,$i===null&&($i=[]),e=ff($i,e,n),n=Se,(ot===null?n.memoizedState:ot.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?nd:_r),e}function ss(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===Y)return mt(e)}throw Error(s(438,String(e)))}function dr(e){var n=null,l=Se.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=Se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=os(),Se.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=ye;return n.index++,l}function Tn(e,n){return typeof n=="function"?n(e):n}function as(e){var n=nt();return pr(n,Be,e)}function pr(e,n,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var d=e.baseQueue,h=a.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}n.baseQueue=d=h,a.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var _=T=null,A=null,D=n,z=!1;do{var O=D.lane&-536870913;if(O!==D.lane?(Me&O)===O:(Sn&O)===O){var G=D.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),O===Fi&&(z=!0);else if((Sn&G)===G){D=D.next,G===Fi&&(z=!0);continue}else O={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=O,T=h):A=A.next=O,Se.lanes|=G,Jn|=G;O=D.action,Si&&l(h,O),h=D.hasEagerState?D.eagerState:l(h,O)}else G={lane:O,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=G,T=h):A=A.next=G,Se.lanes|=O,Jn|=O;D=D.next}while(D!==null&&D!==n);if(A===null?T=h:A.next=_,!It(h,e.memoizedState)&&(st=!0,z&&(l=Yi,l!==null)))throw l;e.memoizedState=h,e.baseState=T,e.baseQueue=A,a.lastRenderedState=h}return d===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function hr(e){var n=nt(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,d=l.pending,h=n.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do h=e(h,T.action),T=T.next;while(T!==d);It(h,n.memoizedState)||(st=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,a]}function Ef(e,n,l){var a=Se,d=nt(),h=Ie;if(h){if(l===void 0)throw Error(s(407));l=l()}else l=n();var T=!It((Be||d).memoizedState,l);if(T&&(d.memoizedState=l,st=!0),d=d.queue,yr(Af.bind(null,a,d,e),[e]),d.getSnapshot!==n||T||ot!==null&&ot.memoizedState.tag&1){if(a.flags|=2048,Zi(9,{destroy:void 0},Cf.bind(null,a,d,l,n),null),Ye===null)throw Error(s(349));h||(Sn&127)!==0||_f(a,n,l)}return l}function _f(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Se.updateQueue,n===null?(n=os(),Se.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Cf(e,n,l,a){n.value=l,n.getSnapshot=a,Nf(n)&&bf(e)}function Af(e,n,l){return l(function(){Nf(n)&&bf(e)})}function Nf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!It(e,l)}catch{return!0}}function bf(e){var n=ci(e,2);n!==null&&wt(n,e,2)}function mr(e){var n=xt();if(typeof e=="function"){var l=e;if(e=l(),Si){Je(!0);try{l()}finally{Je(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},n}function Rf(e,n,l,a){return e.baseState=l,pr(e,Be,typeof a=="function"?a:Tn)}function F0(e,n,l,a,d){if(cs(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};M.T!==null?l(!0):h.isTransition=!1,a(h),l=n.pending,l===null?(h.next=n.pending=h,Mf(n,h)):(h.next=l.next,n.pending=l.next=h)}}function Mf(e,n){var l=n.action,a=n.payload,d=e.state;if(n.isTransition){var h=M.T,T={};M.T=T;try{var _=l(d,a),A=M.S;A!==null&&A(T,_),wf(e,n,_)}catch(D){gr(e,n,D)}finally{h!==null&&T.types!==null&&(h.types=T.types),M.T=h}}else try{h=l(d,a),wf(e,n,h)}catch(D){gr(e,n,D)}}function wf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){If(e,n,a)},function(a){return gr(e,n,a)}):If(e,n,l)}function If(e,n,l){n.status="fulfilled",n.value=l,Df(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Mf(e,l)))}function gr(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,Df(n),n=n.next;while(n!==a)}e.action=null}function Df(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Uf(e,n){return n}function kf(e,n){if(Ie){var l=Ye.formState;if(l!==null){e:{var a=Se;if(Ie){if(Xe){t:{for(var d=Xe,h=Ft;d.nodeType!==8;){if(!h){d=null;break t}if(d=Jt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Xe=Jt(d.nextSibling),a=d.data==="F!";break e}}Hn(a)}a=!1}a&&(n=l[0])}}return l=xt(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:n},l.queue=a,l=jf.bind(null,Se,a),a.dispatch=l,a=mr(!1),h=Er.bind(null,Se,!1,a.queue),a=xt(),d={state:n,dispatch:null,action:e,pending:null},a.queue=d,l=F0.bind(null,Se,d,h,l),d.dispatch=l,a.memoizedState=e,[n,l,!1]}function Gf(e){var n=nt();return Lf(n,Be,e)}function Lf(e,n,l){if(n=pr(e,n,Uf)[0],e=as(Tn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Zl(n)}catch(T){throw T===Ji?Zo:T}else a=n;n=nt();var d=n.queue,h=d.dispatch;return l!==n.memoizedState&&(Se.flags|=2048,Zi(9,{destroy:void 0},Y0.bind(null,d,l),null)),[a,h,e]}function Y0(e,n){e.action=n}function Hf(e){var n=nt(),l=Be;if(l!==null)return Lf(n,l,e);nt(),n=n.memoizedState,l=nt();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function Zi(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=Se.updateQueue,n===null&&(n=os(),Se.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function qf(){return nt().memoizedState}function rs(e,n,l,a){var d=xt();Se.flags|=e,d.memoizedState=Zi(1|n,{destroy:void 0},l,a===void 0?null:a)}function us(e,n,l,a){var d=nt();a=a===void 0?null:a;var h=d.memoizedState.inst;Be!==null&&a!==null&&ar(a,Be.memoizedState.deps)?d.memoizedState=Zi(n,h,l,a):(Se.flags|=e,d.memoizedState=Zi(1|n,h,l,a))}function Vf(e,n){rs(8390656,8,e,n)}function yr(e,n){us(2048,8,e,n)}function J0(e){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=os(),Se.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function zf(e){var n=nt().memoizedState;return J0({ref:n,nextImpl:e}),function(){if((qe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Pf(e,n){return us(4,2,e,n)}function Bf(e,n){return us(4,4,e,n)}function Of(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ff(e,n,l){l=l!=null?l.concat([e]):null,us(4,4,Of.bind(null,n,e),l)}function vr(){}function Yf(e,n){var l=nt();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&ar(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function Jf(e,n){var l=nt();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&ar(n,a[1]))return a[0];if(a=e(),Si){Je(!0);try{e()}finally{Je(!1)}}return l.memoizedState=[a,n],a}function Sr(e,n,l){return l===void 0||(Sn&1073741824)!==0&&(Me&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Xd(),Se.lanes|=e,Jn|=e,l)}function Xf(e,n,l,a){return It(l,n)?l:Ki.current!==null?(e=Sr(e,l,a),It(e,n)||(st=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(Me&261930)===0?(st=!0,e.memoizedState=l):(e=Xd(),Se.lanes|=e,Jn|=e,n)}function Kf(e,n,l,a,d){var h=F.p;F.p=h!==0&&8>h?h:8;var T=M.T,_={};M.T=_,Er(e,!1,n,l);try{var A=d(),D=M.S;if(D!==null&&D(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=P0(A,a);Wl(e,n,z,Ht(e))}else Wl(e,n,a,Ht(e))}catch(O){Wl(e,n,{then:function(){},status:"rejected",reason:O},Ht())}finally{F.p=h,T!==null&&_.types!==null&&(T.types=_.types),M.T=T}}function X0(){}function Tr(e,n,l,a){if(e.tag!==5)throw Error(s(476));var d=Qf(e).queue;Kf(e,d,n,ne,l===null?X0:function(){return $f(e),l(a)})}function Qf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:ne},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $f(e){var n=Qf(e);n.next===null&&(n=e.alternate.memoizedState),Wl(e,n.next.queue,{},Ht())}function xr(){return mt(go)}function Zf(){return nt().memoizedState}function Wf(){return nt().memoizedState}function K0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Ht();e=zn(l);var a=Pn(n,e,l);a!==null&&(wt(a,n,l),Xl(a,n,l)),n={cache:$a()},e.payload=n;return}n=n.return}}function Q0(e,n,l){var a=Ht();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cs(e)?ed(n,l):(l=Va(e,n,l,a),l!==null&&(wt(l,e,a),td(l,n,a)))}function jf(e,n,l){var a=Ht();Wl(e,n,l,a)}function Wl(e,n,l,a){var d={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(cs(e))ed(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var T=n.lastRenderedState,_=h(T,l);if(d.hasEagerState=!0,d.eagerState=_,It(_,T))return Fo(e,n,d,0),Ye===null&&Oo(),!1}catch{}finally{}if(l=Va(e,n,d,a),l!==null)return wt(l,e,a),td(l,n,a),!0}return!1}function Er(e,n,l,a){if(a={lane:2,revertLane:eu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cs(e)){if(n)throw Error(s(479))}else n=Va(e,l,a,2),n!==null&&wt(n,e,2)}function cs(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function ed(e,n){Qi=is=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function td(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,oc(e,l)}}var jl={readContext:mt,use:ss,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};jl.useEffectEvent=Ze;var nd={readContext:mt,use:ss,useCallback:function(e,n){return xt().memoizedState=[e,n===void 0?null:n],e},useContext:mt,useEffect:Vf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,rs(4194308,4,Of.bind(null,n,e),l)},useLayoutEffect:function(e,n){return rs(4194308,4,e,n)},useInsertionEffect:function(e,n){rs(4,2,e,n)},useMemo:function(e,n){var l=xt();n=n===void 0?null:n;var a=e();if(Si){Je(!0);try{e()}finally{Je(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=xt();if(l!==void 0){var d=l(n);if(Si){Je(!0);try{l(n)}finally{Je(!1)}}}else d=n;return a.memoizedState=a.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},a.queue=e,e=e.dispatch=Q0.bind(null,Se,e),[a.memoizedState,e]},useRef:function(e){var n=xt();return e={current:e},n.memoizedState=e},useState:function(e){e=mr(e);var n=e.queue,l=jf.bind(null,Se,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:vr,useDeferredValue:function(e,n){var l=xt();return Sr(l,e,n)},useTransition:function(){var e=mr(!1);return e=Kf.bind(null,Se,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=Se,d=xt();if(Ie){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Ye===null)throw Error(s(349));(Me&127)!==0||_f(a,n,l)}d.memoizedState=l;var h={value:l,getSnapshot:n};return d.queue=h,Vf(Af.bind(null,a,h,e),[e]),a.flags|=2048,Zi(9,{destroy:void 0},Cf.bind(null,a,h,l,n),null),l},useId:function(){var e=xt(),n=Ye.identifierPrefix;if(Ie){var l=an,a=sn;l=(a&~(1<<32-et(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=ls++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=B0++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xr,useFormState:kf,useActionState:kf,useOptimistic:function(e){var n=xt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Er.bind(null,Se,!0,l),l.dispatch=n,[e,n]},useMemoCache:dr,useCacheRefresh:function(){return xt().memoizedState=K0.bind(null,Se)},useEffectEvent:function(e){var n=xt(),l={impl:e};return n.memoizedState=l,function(){if((qe&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},_r={readContext:mt,use:ss,useCallback:Yf,useContext:mt,useEffect:yr,useImperativeHandle:Ff,useInsertionEffect:Pf,useLayoutEffect:Bf,useMemo:Jf,useReducer:as,useRef:qf,useState:function(){return as(Tn)},useDebugValue:vr,useDeferredValue:function(e,n){var l=nt();return Xf(l,Be.memoizedState,e,n)},useTransition:function(){var e=as(Tn)[0],n=nt().memoizedState;return[typeof e=="boolean"?e:Zl(e),n]},useSyncExternalStore:Ef,useId:Zf,useHostTransitionStatus:xr,useFormState:Gf,useActionState:Gf,useOptimistic:function(e,n){var l=nt();return Rf(l,Be,e,n)},useMemoCache:dr,useCacheRefresh:Wf};_r.useEffectEvent=zf;var id={readContext:mt,use:ss,useCallback:Yf,useContext:mt,useEffect:yr,useImperativeHandle:Ff,useInsertionEffect:Pf,useLayoutEffect:Bf,useMemo:Jf,useReducer:hr,useRef:qf,useState:function(){return hr(Tn)},useDebugValue:vr,useDeferredValue:function(e,n){var l=nt();return Be===null?Sr(l,e,n):Xf(l,Be.memoizedState,e,n)},useTransition:function(){var e=hr(Tn)[0],n=nt().memoizedState;return[typeof e=="boolean"?e:Zl(e),n]},useSyncExternalStore:Ef,useId:Zf,useHostTransitionStatus:xr,useFormState:Hf,useActionState:Hf,useOptimistic:function(e,n){var l=nt();return Be!==null?Rf(l,Be,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:dr,useCacheRefresh:Wf};id.useEffectEvent=zf;function Cr(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:x({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ar={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=Ht(),d=zn(a);d.payload=n,l!=null&&(d.callback=l),n=Pn(e,d,a),n!==null&&(wt(n,e,a),Xl(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=Ht(),d=zn(a);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Pn(e,d,a),n!==null&&(wt(n,e,a),Xl(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Ht(),a=zn(l);a.tag=2,n!=null&&(a.callback=n),n=Pn(e,a,l),n!==null&&(wt(n,e,l),Xl(n,e,l))}};function ld(e,n,l,a,d,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,T):n.prototype&&n.prototype.isPureReactComponent?!Vl(l,a)||!Vl(d,h):!0}function od(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&Ar.enqueueReplaceState(n,n.state,null)}function Ti(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=x({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function sd(e){Bo(e)}function ad(e){console.error(e)}function rd(e){Bo(e)}function fs(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function ud(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Nr(e,n,l){return l=zn(l),l.tag=3,l.payload={element:null},l.callback=function(){fs(e,n)},l}function cd(e){return e=zn(e),e.tag=3,e}function fd(e,n,l,a){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var h=a.value;e.payload=function(){return d(h)},e.callback=function(){ud(n,l,a)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){ud(n,l,a),typeof d!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})})}function $0(e,n,l,a,d){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&Oi(n,l,d,!0),l=Ut.current,l!==null){switch(l.tag){case 31:case 13:return Yt===null?_s():l.alternate===null&&We===0&&(We=3),l.flags&=-257,l.flags|=65536,l.lanes=d,a===Wo?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),Zr(e,a,d)),!1;case 22:return l.flags|=65536,a===Wo?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),Zr(e,a,d)),!1}throw Error(s(435,l.tag))}return Zr(e,a,d),_s(),!1}if(Ie)return n=Ut.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,a!==Ya&&(e=Error(s(422),{cause:a}),Bl(Pt(e,l)))):(a!==Ya&&(n=Error(s(423),{cause:a}),Bl(Pt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,a=Pt(a,l),d=Nr(e.stateNode,a,d),nr(e,d),We!==4&&(We=2)),!1;var h=Error(s(520),{cause:a});if(h=Pt(h,l),ao===null?ao=[h]:ao.push(h),We!==4&&(We=2),n===null)return!0;a=Pt(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=Nr(l.stateNode,a,e),nr(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xn===null||!Xn.has(h))))return l.flags|=65536,d&=-d,l.lanes|=d,d=cd(d),fd(d,e,l,a),nr(l,d),!1}l=l.return}while(l!==null);return!1}var br=Error(s(461)),st=!1;function gt(e,n,l,a){n.child=e===null?mf(n,null,l,a):vi(n,e.child,l,a)}function dd(e,n,l,a,d){l=l.render;var h=n.ref;if("ref"in a){var T={};for(var _ in a)_!=="ref"&&(T[_]=a[_])}else T=a;return hi(n),a=rr(e,n,l,T,h,d),_=ur(),e!==null&&!st?(cr(e,n,d),xn(e,n,d)):(Ie&&_&&Oa(n),n.flags|=1,gt(e,n,a,d),n.child)}function pd(e,n,l,a,d){if(e===null){var h=l.type;return typeof h=="function"&&!za(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,hd(e,n,h,a,d)):(e=Jo(l.type,null,a,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Gr(e,d)){var T=h.memoizedProps;if(l=l.compare,l=l!==null?l:Vl,l(T,a)&&e.ref===n.ref)return xn(e,n,d)}return n.flags|=1,e=mn(h,a),e.ref=n.ref,e.return=n,n.child=e}function hd(e,n,l,a,d){if(e!==null){var h=e.memoizedProps;if(Vl(h,a)&&e.ref===n.ref)if(st=!1,n.pendingProps=a=h,Gr(e,d))(e.flags&131072)!==0&&(st=!0);else return n.lanes=e.lanes,xn(e,n,d)}return Rr(e,n,l,a,d)}function md(e,n,l,a){var d=a.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(a=n.child=e.child,d=0;a!==null;)d=d|a.lanes|a.childLanes,a=a.sibling;a=d&~h}else a=0,n.child=null;return gd(e,n,h,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&$o(n,h!==null?h.cachePool:null),h!==null?vf(n,h):lr(),Sf(n);else return a=n.lanes=536870912,gd(e,n,h!==null?h.baseLanes|l:l,l,a)}else h!==null?($o(n,h.cachePool),vf(n,h),On(),n.memoizedState=null):(e!==null&&$o(n,null),lr(),On());return gt(e,n,d,l),n.child}function eo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gd(e,n,l,a,d){var h=Wa();return h=h===null?null:{parent:lt._currentValue,pool:h},n.memoizedState={baseLanes:l,cachePool:h},e!==null&&$o(n,null),lr(),Sf(n),e!==null&&Oi(e,n,a,!0),n.childLanes=d,null}function ds(e,n){return n=hs({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function yd(e,n,l){return vi(n,e.child,null,l),e=ds(n,n.pendingProps),e.flags|=2,kt(n),n.memoizedState=null,e}function Z0(e,n,l){var a=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ie){if(a.mode==="hidden")return e=ds(n,a),n.lanes=536870912,eo(null,e);if(sr(n),(e=Xe)?(e=Mp(e,Ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:sn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},l=jc(e),l.return=n,n.child=l,ht=n,Xe=null)):e=null,e===null)throw Hn(n);return n.lanes=536870912,null}return ds(n,a)}var h=e.memoizedState;if(h!==null){var T=h.dehydrated;if(sr(n),d)if(n.flags&256)n.flags&=-257,n=yd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(st||Oi(e,n,l,!1),d=(l&e.childLanes)!==0,st||d){if(a=Ye,a!==null&&(T=sc(a,l),T!==0&&T!==h.retryLane))throw h.retryLane=T,ci(e,T),wt(a,e,T),br;_s(),n=yd(e,n,l)}else e=h.treeContext,Xe=Jt(T.nextSibling),ht=n,Ie=!0,Ln=null,Ft=!1,e!==null&&nf(n,e),n=ds(n,a),n.flags|=4096;return n}return e=mn(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ps(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Rr(e,n,l,a,d){return hi(n),l=rr(e,n,l,a,void 0,d),a=ur(),e!==null&&!st?(cr(e,n,d),xn(e,n,d)):(Ie&&a&&Oa(n),n.flags|=1,gt(e,n,l,d),n.child)}function vd(e,n,l,a,d,h){return hi(n),n.updateQueue=null,l=xf(n,a,l,d),Tf(e),a=ur(),e!==null&&!st?(cr(e,n,h),xn(e,n,h)):(Ie&&a&&Oa(n),n.flags|=1,gt(e,n,l,h),n.child)}function Sd(e,n,l,a,d){if(hi(n),n.stateNode===null){var h=Vi,T=l.contextType;typeof T=="object"&&T!==null&&(h=mt(T)),h=new l(a,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ar,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=a,h.state=n.memoizedState,h.refs={},er(n),T=l.contextType,h.context=typeof T=="object"&&T!==null?mt(T):Vi,h.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Cr(n,l,T,a),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Ar.enqueueReplaceState(h,h.state,null),Ql(n,a,h,d),Kl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,A=Ti(l,_);h.props=A;var D=h.context,z=l.contextType;T=Vi,typeof z=="object"&&z!==null&&(T=mt(z));var O=l.getDerivedStateFromProps;z=typeof O=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||D!==T)&&od(n,h,a,T),Vn=!1;var G=n.memoizedState;h.state=G,Ql(n,a,h,d),Kl(),D=n.memoizedState,_||G!==D||Vn?(typeof O=="function"&&(Cr(n,l,O,a),D=n.memoizedState),(A=Vn||ld(n,l,A,a,G,D,T))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=D),h.props=a,h.state=D,h.context=T,a=A):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{h=n.stateNode,tr(e,n),T=n.memoizedProps,z=Ti(l,T),h.props=z,O=n.pendingProps,G=h.context,D=l.contextType,A=Vi,typeof D=="object"&&D!==null&&(A=mt(D)),_=l.getDerivedStateFromProps,(D=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==O||G!==A)&&od(n,h,a,A),Vn=!1,G=n.memoizedState,h.state=G,Ql(n,a,h,d),Kl();var L=n.memoizedState;T!==O||G!==L||Vn||e!==null&&e.dependencies!==null&&Ko(e.dependencies)?(typeof _=="function"&&(Cr(n,l,_,a),L=n.memoizedState),(z=Vn||ld(n,l,z,a,G,L,A)||e!==null&&e.dependencies!==null&&Ko(e.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,L,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,L,A)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=L),h.props=a,h.state=L,h.context=A,a=z):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),a=!1)}return h=a,ps(e,n),a=(n.flags&128)!==0,h||a?(h=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&a?(n.child=vi(n,e.child,null,d),n.child=vi(n,null,l,d)):gt(e,n,l,d),n.memoizedState=h.state,e=n.child):e=xn(e,n,d),e}function Td(e,n,l,a){return di(),n.flags|=256,gt(e,n,l,a),n.child}var Mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wr(e){return{baseLanes:e,cachePool:uf()}}function Ir(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Lt),e}function xd(e,n,l){var a=n.pendingProps,d=!1,h=(n.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ie){if(d?Bn(n):On(),(e=Xe)?(e=Mp(e,Ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Gn!==null?{id:sn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},l=jc(e),l.return=n,n.child=l,ht=n,Xe=null)):e=null,e===null)throw Hn(n);return pu(e)?n.lanes=32:n.lanes=536870912,null}var _=a.children;return a=a.fallback,d?(On(),d=n.mode,_=hs({mode:"hidden",children:_},d),a=fi(a,d,l,null),_.return=n,a.return=n,_.sibling=a,n.child=_,a=n.child,a.memoizedState=wr(l),a.childLanes=Ir(e,T,l),n.memoizedState=Mr,eo(null,a)):(Bn(n),Dr(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(h)n.flags&256?(Bn(n),n.flags&=-257,n=Ur(e,n,l)):n.memoizedState!==null?(On(),n.child=e.child,n.flags|=128,n=null):(On(),_=a.fallback,d=n.mode,a=hs({mode:"visible",children:a.children},d),_=fi(_,d,l,null),_.flags|=2,a.return=n,_.return=n,a.sibling=_,n.child=a,vi(n,e.child,null,l),a=n.child,a.memoizedState=wr(l),a.childLanes=Ir(e,T,l),n.memoizedState=Mr,n=eo(null,a));else if(Bn(n),pu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var D=T.dgst;T=D,a=Error(s(419)),a.stack="",a.digest=T,Bl({value:a,source:null,stack:null}),n=Ur(e,n,l)}else if(st||Oi(e,n,l,!1),T=(l&e.childLanes)!==0,st||T){if(T=Ye,T!==null&&(a=sc(T,l),a!==0&&a!==A.retryLane))throw A.retryLane=a,ci(e,a),wt(T,e,a),br;du(_)||_s(),n=Ur(e,n,l)}else du(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Xe=Jt(_.nextSibling),ht=n,Ie=!0,Ln=null,Ft=!1,e!==null&&nf(n,e),n=Dr(n,a.children),n.flags|=4096);return n}return d?(On(),_=a.fallback,d=n.mode,A=e.child,D=A.sibling,a=mn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,D!==null?_=mn(D,_):(_=fi(_,d,l,null),_.flags|=2),_.return=n,a.return=n,a.sibling=_,n.child=a,eo(null,a),a=n.child,_=e.child.memoizedState,_===null?_=wr(l):(d=_.cachePool,d!==null?(A=lt._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=uf(),_={baseLanes:_.baseLanes|l,cachePool:d}),a.memoizedState=_,a.childLanes=Ir(e,T,l),n.memoizedState=Mr,eo(e.child,a)):(Bn(n),l=e.child,e=l.sibling,l=mn(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Dr(e,n){return n=hs({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function hs(e,n){return e=Dt(22,e,null,n),e.lanes=0,e}function Ur(e,n,l){return vi(n,e.child,null,l),e=Dr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ed(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Ka(e.return,n,l)}function kr(e,n,l,a,d,h){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:d,treeForkCount:h}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=l,T.tailMode=d,T.treeForkCount=h)}function _d(e,n,l){var a=n.pendingProps,d=a.revealOrder,h=a.tail;a=a.children;var T=tt.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,$(tt,T),gt(e,n,a,l),a=Ie?Pl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,l,n);else if(e.tag===19)Ed(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&ns(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),kr(n,!1,d,l,h,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ns(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}kr(n,!0,l,null,h,a);break;case"together":kr(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function xn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Jn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Oi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=mn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=mn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Gr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ko(e)))}function W0(e,n,l){switch(n.tag){case 3:ut(n,n.stateNode.containerInfo),qn(n,lt,e.memoizedState.cache),di();break;case 27:case 5:nn(n);break;case 4:ut(n,n.stateNode.containerInfo);break;case 10:qn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sr(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Bn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?xd(e,n,l):(Bn(n),e=xn(e,n,l),e!==null?e.sibling:null);Bn(n);break;case 19:var d=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(Oi(e,n,l,!1),a=(l&n.childLanes)!==0),d){if(a)return _d(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(tt,tt.current),a)break;return null;case 22:return n.lanes=0,md(e,n,l,n.pendingProps);case 24:qn(n,lt,e.memoizedState.cache)}return xn(e,n,l)}function Cd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)st=!0;else{if(!Gr(e,l)&&(n.flags&128)===0)return st=!1,W0(e,n,l);st=(e.flags&131072)!==0}else st=!1,Ie&&(n.flags&1048576)!==0&&tf(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=gi(n.elementType),n.type=e,typeof e=="function")za(e)?(a=Ti(e,a),n.tag=1,n=Sd(null,n,e,a,l)):(n.tag=0,n=Rr(null,n,e,a,l));else{if(e!=null){var d=e.$$typeof;if(d===Q){n.tag=11,n=dd(null,n,e,a,l);break e}else if(d===K){n.tag=14,n=pd(null,n,e,a,l);break e}}throw n=Re(e)||e,Error(s(306,n,""))}}return n;case 0:return Rr(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,d=Ti(a,n.pendingProps),Sd(e,n,a,d,l);case 3:e:{if(ut(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var h=n.memoizedState;d=h.element,tr(e,n),Ql(n,a,null,l);var T=n.memoizedState;if(a=T.cache,qn(n,lt,a),a!==h.cache&&Qa(n,[lt],l,!0),Kl(),a=T.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Td(e,n,a,l);break e}else if(a!==d){d=Pt(Error(s(424)),n),Bl(d),n=Td(e,n,a,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=Jt(e.firstChild),ht=n,Ie=!0,Ln=null,Ft=!0,l=mf(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(di(),a===d){n=xn(e,n,l);break e}gt(e,n,a,l)}n=n.child}return n;case 26:return ps(e,n),e===null?(l=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ie||(l=n.type,e=n.pendingProps,a=ws(ce.current).createElement(l),a[pt]=n,a[Ct]=e,yt(a,l,e),ct(a),n.stateNode=a):n.memoizedState=Gp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nn(n),e===null&&Ie&&(a=n.stateNode=Dp(n.type,n.pendingProps,ce.current),ht=n,Ft=!0,d=Xe,Zn(n.type)?(hu=d,Xe=Jt(a.firstChild)):Xe=d),gt(e,n,n.pendingProps.children,l),ps(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ie&&((d=a=Xe)&&(a=Ry(a,n.type,n.pendingProps,Ft),a!==null?(n.stateNode=a,ht=n,Xe=Jt(a.firstChild),Ft=!1,d=!0):d=!1),d||Hn(n)),nn(n),d=n.type,h=n.pendingProps,T=e!==null?e.memoizedProps:null,a=h.children,uu(d,h)?a=null:T!==null&&uu(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=rr(e,n,O0,null,null,l),go._currentValue=d),ps(e,n),gt(e,n,a,l),n.child;case 6:return e===null&&Ie&&((e=l=Xe)&&(l=My(l,n.pendingProps,Ft),l!==null?(n.stateNode=l,ht=n,Xe=null,e=!0):e=!1),e||Hn(n)),null;case 13:return xd(e,n,l);case 4:return ut(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=vi(n,null,a,l):gt(e,n,a,l),n.child;case 11:return dd(e,n,n.type,n.pendingProps,l);case 7:return gt(e,n,n.pendingProps,l),n.child;case 8:return gt(e,n,n.pendingProps.children,l),n.child;case 12:return gt(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,qn(n,n.type,a.value),gt(e,n,a.children,l),n.child;case 9:return d=n.type._context,a=n.pendingProps.children,hi(n),d=mt(d),a=a(d),n.flags|=1,gt(e,n,a,l),n.child;case 14:return pd(e,n,n.type,n.pendingProps,l);case 15:return hd(e,n,n.type,n.pendingProps,l);case 19:return _d(e,n,l);case 31:return Z0(e,n,l);case 22:return md(e,n,l,n.pendingProps);case 24:return hi(n),a=mt(lt),e===null?(d=Wa(),d===null&&(d=Ye,h=$a(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=l),d=h),n.memoizedState={parent:a,cache:d},er(n),qn(n,lt,d)):((e.lanes&l)!==0&&(tr(e,n),Ql(n,null,null,l),Kl()),d=e.memoizedState,h=n.memoizedState,d.parent!==a?(d={parent:a,cache:a},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),qn(n,lt,a)):(a=h.cache,qn(n,lt,a),a!==d.cache&&Qa(n,[lt],l,!0))),gt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function En(e){e.flags|=4}function Lr(e,n,l,a,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Zd())e.flags|=8192;else throw yi=Wo,ja}else e.flags&=-16777217}function Ad(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zp(n))if(Zd())e.flags|=8192;else throw yi=Wo,ja}function ms(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ic():536870912,e.lanes|=n,tl|=n)}function to(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ke(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function j0(e,n,l){var a=n.pendingProps;switch(Fa(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(n),null;case 1:return Ke(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),vn(lt),Qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Bi(n)?En(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ja())),Ke(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(En(n),h!==null?(Ke(n),Ad(n,h)):(Ke(n),Lr(n,d,null,a,l))):h?h!==e.memoizedState?(En(n),Ke(n),Ad(n,h)):(Ke(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&En(n),Ke(n),Lr(n,d,e,a,l)),null;case 27:if(li(n),l=ce.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&En(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ke(n),null}e=ie.current,Bi(n)?lf(n):(e=Dp(d,a,l),n.stateNode=e,En(n))}return Ke(n),null;case 5:if(li(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&En(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Ke(n),null}if(h=ie.current,Bi(n))lf(n);else{var T=ws(ce.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?h.multiple=!0:a.size&&(h.size=a.size);break;default:h=typeof a.is=="string"?T.createElement(d,{is:a.is}):T.createElement(d)}}h[pt]=n,h[Ct]=a;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=h;e:switch(yt(h,d,a),d){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&En(n)}}return Ke(n),Lr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&En(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=ce.current,Bi(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,d=ht,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}e[pt]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||xp(e.nodeValue,l)),e||Hn(n,!0)}else e=ws(e).createTextNode(a),e[pt]=n,n.stateNode=e}return Ke(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=Bi(n),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[pt]=n}else di(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),e=!1}else l=Ja(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(kt(n),n):(kt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ke(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Bi(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[pt]=n}else di(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ke(n),d=!1}else d=Ja(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(kt(n),n):(kt(n),null)}return kt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==d&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),ms(n,n.updateQueue),Ke(n),null);case 4:return Qe(),e===null&&lu(n.stateNode.containerInfo),Ke(n),null;case 10:return vn(n.type),Ke(n),null;case 19:if(P(tt),a=n.memoizedState,a===null)return Ke(n),null;if(d=(n.flags&128)!==0,h=a.rendering,h===null)if(d)to(a,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=ns(e),h!==null){for(n.flags|=128,to(a,!1),e=h.updateQueue,n.updateQueue=e,ms(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Wc(l,e),l=l.sibling;return $(tt,tt.current&1|2),Ie&&gn(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&vt()>Ts&&(n.flags|=128,d=!0,to(a,!1),n.lanes=4194304)}else{if(!d)if(e=ns(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ms(n,e),to(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!Ie)return Ke(n),null}else 2*vt()-a.renderingStartTime>Ts&&l!==536870912&&(n.flags|=128,d=!0,to(a,!1),n.lanes=4194304);a.isBackwards?(h.sibling=n.child,n.child=h):(e=a.last,e!==null?e.sibling=h:n.child=h,a.last=h)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=vt(),e.sibling=null,l=tt.current,$(tt,d?l&1|2:l&1),Ie&&gn(n,a.treeForkCount),e):(Ke(n),null);case 22:case 23:return kt(n),or(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(Ke(n),n.subtreeFlags&6&&(n.flags|=8192)):Ke(n),l=n.updateQueue,l!==null&&ms(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&P(mi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vn(lt),Ke(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function ey(e,n){switch(Fa(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vn(lt),Qe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 31:if(n.memoizedState!==null){if(kt(n),n.alternate===null)throw Error(s(340));di()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(kt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));di()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(tt),null;case 4:return Qe(),null;case 10:return vn(n.type),null;case 22:case 23:return kt(n),or(),e!==null&&P(mi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return vn(lt),null;case 25:return null;default:return null}}function Nd(e,n){switch(Fa(n),n.tag){case 3:vn(lt),Qe();break;case 26:case 27:case 5:li(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&kt(n);break;case 13:kt(n);break;case 19:P(tt);break;case 10:vn(n.type);break;case 22:case 23:kt(n),or(),e!==null&&P(mi);break;case 24:vn(lt)}}function no(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var d=a.next;l=d;do{if((l.tag&e)===e){a=void 0;var h=l.create,T=l.inst;a=h(),T.destroy=a}l=l.next}while(l!==d)}}catch(_){Pe(n,n.return,_)}}function Fn(e,n,l){try{var a=n.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var h=d.next;a=h;do{if((a.tag&e)===e){var T=a.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=n;var A=l,D=_;try{D()}catch(z){Pe(d,A,z)}}}a=a.next}while(a!==h)}}catch(z){Pe(n,n.return,z)}}function bd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{yf(n,l)}catch(a){Pe(e,e.return,a)}}}function Rd(e,n,l){l.props=Ti(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Pe(e,n,a)}}function io(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(d){Pe(e,n,d)}}function rn(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(d){Pe(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Pe(e,n,d)}else l.current=null}function Md(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(d){Pe(e,e.return,d)}}function Hr(e,n,l){try{var a=e.stateNode;Ey(a,e.type,l,n),a[Ct]=n}catch(d){Pe(e,e.return,d)}}function wd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zn(e.type)||e.tag===4}function qr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vr(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=pn));else if(a!==4&&(a===27&&Zn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Vr(e,n,l),e=e.sibling;e!==null;)Vr(e,n,l),e=e.sibling}function gs(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Zn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(gs(e,n,l),e=e.sibling;e!==null;)gs(e,n,l),e=e.sibling}function Id(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);yt(n,a,l),n[pt]=e,n[Ct]=l}catch(h){Pe(e,e.return,h)}}var _n=!1,at=!1,zr=!1,Dd=typeof WeakSet=="function"?WeakSet:Set,ft=null;function ty(e,n){if(e=e.containerInfo,au=Hs,e=Oc(e),Ua(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var d=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var T=0,_=-1,A=-1,D=0,z=0,O=e,G=null;t:for(;;){for(var L;O!==l||d!==0&&O.nodeType!==3||(_=T+d),O!==h||a!==0&&O.nodeType!==3||(A=T+a),O.nodeType===3&&(T+=O.nodeValue.length),(L=O.firstChild)!==null;)G=O,O=L;for(;;){if(O===e)break t;if(G===l&&++D===d&&(_=T),G===h&&++z===a&&(A=T),(L=O.nextSibling)!==null)break;O=G,G=O.parentNode}O=L}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(ru={focusedElem:e,selectionRange:l},Hs=!1,ft=n;ft!==null;)if(n=ft,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ft=e;else for(;ft!==null;){switch(n=ft,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,d=h.memoizedProps,h=h.memoizedState,a=l.stateNode;try{var le=Ti(l.type,d);e=a.getSnapshotBeforeUpdate(le,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Pe(l,l.return,fe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)fu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ft=e;break}ft=n.return}}function Ud(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:An(e,l),a&4&&no(5,l);break;case 1:if(An(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Pe(l,l.return,T)}else{var d=Ti(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Pe(l,l.return,T)}}a&64&&bd(l),a&512&&io(l,l.return);break;case 3:if(An(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{yf(e,n)}catch(T){Pe(l,l.return,T)}}break;case 27:n===null&&a&4&&Id(l);case 26:case 5:An(e,l),n===null&&a&4&&Md(l),a&512&&io(l,l.return);break;case 12:An(e,l);break;case 31:An(e,l),a&4&&Ld(e,l);break;case 13:An(e,l),a&4&&Hd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=cy.bind(null,l),wy(e,l))));break;case 22:if(a=l.memoizedState!==null||_n,!a){n=n!==null&&n.memoizedState!==null||at,d=_n;var h=at;_n=a,(at=n)&&!h?Nn(e,l,(l.subtreeFlags&8772)!==0):An(e,l),_n=d,at=h}break;case 30:break;default:An(e,l)}}function kd(e){var n=e.alternate;n!==null&&(e.alternate=null,kd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ga(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Nt=!1;function Cn(e,n,l){for(l=l.child;l!==null;)Gd(e,n,l),l=l.sibling}function Gd(e,n,l){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(ae,l)}catch{}switch(l.tag){case 26:at||rn(l,n),Cn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:at||rn(l,n);var a=$e,d=Nt;Zn(l.type)&&($e=l.stateNode,Nt=!1),Cn(e,n,l),po(l.stateNode),$e=a,Nt=d;break;case 5:at||rn(l,n);case 6:if(a=$e,d=Nt,$e=null,Cn(e,n,l),$e=a,Nt=d,$e!==null)if(Nt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(l.stateNode)}catch(h){Pe(l,n,h)}else try{$e.removeChild(l.stateNode)}catch(h){Pe(l,n,h)}break;case 18:$e!==null&&(Nt?(e=$e,bp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ul(e)):bp($e,l.stateNode));break;case 4:a=$e,d=Nt,$e=l.stateNode.containerInfo,Nt=!0,Cn(e,n,l),$e=a,Nt=d;break;case 0:case 11:case 14:case 15:Fn(2,l,n),at||Fn(4,l,n),Cn(e,n,l);break;case 1:at||(rn(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Rd(l,n,a)),Cn(e,n,l);break;case 21:Cn(e,n,l);break;case 22:at=(a=at)||l.memoizedState!==null,Cn(e,n,l),at=a;break;default:Cn(e,n,l)}}function Ld(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ul(e)}catch(l){Pe(n,n.return,l)}}}function Hd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(l){Pe(n,n.return,l)}}function ny(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dd),n;default:throw Error(s(435,e.tag))}}function ys(e,n){var l=ny(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var d=fy.bind(null,e,a);a.then(d,d)}})}function bt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var d=l[a],h=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Zn(_.type)){$e=_.stateNode,Nt=!1;break e}break;case 5:$e=_.stateNode,Nt=!1;break e;case 3:case 4:$e=_.stateNode.containerInfo,Nt=!0;break e}_=_.return}if($e===null)throw Error(s(160));Gd(h,T,d),$e=null,Nt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)qd(n,e),n=n.sibling}var Zt=null;function qd(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(n,e),Rt(e),a&4&&(Fn(3,e,e.return),no(3,e),Fn(5,e,e.return));break;case 1:bt(n,e),Rt(e),a&512&&(at||l===null||rn(l,l.return)),a&64&&_n&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var d=Zt;if(bt(n,e),Rt(e),a&512&&(at||l===null||rn(l,l.return)),a&4){var h=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(a){case"title":h=d.getElementsByTagName("title")[0],(!h||h[wl]||h[pt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(a),d.head.insertBefore(h,d.querySelector("head > title"))),yt(h,a,l),h[pt]=e,ct(h),a=h;break e;case"link":var T=qp("link","href",d).get(a+(l.href||""));if(T){for(var _=0;_<T.length;_++)if(h=T[_],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(_,1);break t}}h=d.createElement(a),yt(h,a,l),d.head.appendChild(h);break;case"meta":if(T=qp("meta","content",d).get(a+(l.content||""))){for(_=0;_<T.length;_++)if(h=T[_],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(_,1);break t}}h=d.createElement(a),yt(h,a,l),d.head.appendChild(h);break;default:throw Error(s(468,a))}h[pt]=e,ct(h),a=h}e.stateNode=a}else Vp(d,e.type,e.stateNode);else e.stateNode=Hp(d,a,e.memoizedProps);else h!==a?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,a===null?Vp(d,e.type,e.stateNode):Hp(d,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Hr(e,e.memoizedProps,l.memoizedProps)}break;case 27:bt(n,e),Rt(e),a&512&&(at||l===null||rn(l,l.return)),l!==null&&a&4&&Hr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(bt(n,e),Rt(e),a&512&&(at||l===null||rn(l,l.return)),e.flags&32){d=e.stateNode;try{Di(d,"")}catch(le){Pe(e,e.return,le)}}a&4&&e.stateNode!=null&&(d=e.memoizedProps,Hr(e,d,l!==null?l.memoizedProps:d)),a&1024&&(zr=!0);break;case 6:if(bt(n,e),Rt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(le){Pe(e,e.return,le)}}break;case 3:if(Us=null,d=Zt,Zt=Is(n.containerInfo),bt(n,e),Zt=d,Rt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{ul(n.containerInfo)}catch(le){Pe(e,e.return,le)}zr&&(zr=!1,Vd(e));break;case 4:a=Zt,Zt=Is(e.stateNode.containerInfo),bt(n,e),Rt(e),Zt=a;break;case 12:bt(n,e),Rt(e);break;case 31:bt(n,e),Rt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ys(e,a)));break;case 13:bt(n,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ss=vt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ys(e,a)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=_n,z=at;if(_n=D||d,at=z||A,bt(n,e),at=z,_n=D,Rt(e),a&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||_n||at||xi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(h=A.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=A.stateNode;var O=A.memoizedProps.style,G=O!=null&&O.hasOwnProperty("display")?O.display:null;_.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(le){Pe(A,A.return,le)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(le){Pe(A,A.return,le)}}}else if(n.tag===18){if(l===null){A=n;try{var L=A.stateNode;d?Rp(L,!0):Rp(A.stateNode,!1)}catch(le){Pe(A,A.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,ys(e,l))));break;case 19:bt(n,e),Rt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ys(e,a)));break;case 30:break;case 21:break;default:bt(n,e),Rt(e)}}function Rt(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(wd(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var d=l.stateNode,h=qr(e);gs(e,h,d);break;case 5:var T=l.stateNode;l.flags&32&&(Di(T,""),l.flags&=-33);var _=qr(e);gs(e,_,T);break;case 3:case 4:var A=l.stateNode.containerInfo,D=qr(e);Vr(e,D,A);break;default:throw Error(s(161))}}catch(z){Pe(e,e.return,z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Vd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Vd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function An(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ud(e,n.alternate,n),n=n.sibling}function xi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fn(4,n,n.return),xi(n);break;case 1:rn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Rd(n,n.return,l),xi(n);break;case 27:po(n.stateNode);case 26:case 5:rn(n,n.return),xi(n);break;case 22:n.memoizedState===null&&xi(n);break;case 30:xi(n);break;default:xi(n)}e=e.sibling}}function Nn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,d=e,h=n,T=h.flags;switch(h.tag){case 0:case 11:case 15:Nn(d,h,l),no(4,h);break;case 1:if(Nn(d,h,l),a=h,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Pe(a,a.return,D)}if(a=h,d=a.updateQueue,d!==null){var _=a.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)gf(A[d],_)}catch(D){Pe(a,a.return,D)}}l&&T&64&&bd(h),io(h,h.return);break;case 27:Id(h);case 26:case 5:Nn(d,h,l),l&&a===null&&T&4&&Md(h),io(h,h.return);break;case 12:Nn(d,h,l);break;case 31:Nn(d,h,l),l&&T&4&&Ld(d,h);break;case 13:Nn(d,h,l),l&&T&4&&Hd(d,h);break;case 22:h.memoizedState===null&&Nn(d,h,l),io(h,h.return);break;case 30:break;default:Nn(d,h,l)}n=n.sibling}}function Pr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ol(l))}function Br(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e))}function Wt(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zd(e,n,l,a),n=n.sibling}function zd(e,n,l,a){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Wt(e,n,l,a),d&2048&&no(9,n);break;case 1:Wt(e,n,l,a);break;case 3:Wt(e,n,l,a),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e)));break;case 12:if(d&2048){Wt(e,n,l,a),e=n.stateNode;try{var h=n.memoizedProps,T=h.id,_=h.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Pe(n,n.return,A)}}else Wt(e,n,l,a);break;case 31:Wt(e,n,l,a);break;case 13:Wt(e,n,l,a);break;case 23:break;case 22:h=n.stateNode,T=n.alternate,n.memoizedState!==null?h._visibility&2?Wt(e,n,l,a):lo(e,n):h._visibility&2?Wt(e,n,l,a):(h._visibility|=2,Wi(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Pr(T,n);break;case 24:Wt(e,n,l,a),d&2048&&Br(n.alternate,n);break;default:Wt(e,n,l,a)}}function Wi(e,n,l,a,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,T=n,_=l,A=a,D=T.flags;switch(T.tag){case 0:case 11:case 15:Wi(h,T,_,A,d),no(8,T);break;case 23:break;case 22:var z=T.stateNode;T.memoizedState!==null?z._visibility&2?Wi(h,T,_,A,d):lo(h,T):(z._visibility|=2,Wi(h,T,_,A,d)),d&&D&2048&&Pr(T.alternate,T);break;case 24:Wi(h,T,_,A,d),d&&D&2048&&Br(T.alternate,T);break;default:Wi(h,T,_,A,d)}n=n.sibling}}function lo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,d=a.flags;switch(a.tag){case 22:lo(l,a),d&2048&&Pr(a.alternate,a);break;case 24:lo(l,a),d&2048&&Br(a.alternate,a);break;default:lo(l,a)}n=n.sibling}}var oo=8192;function ji(e,n,l){if(e.subtreeFlags&oo)for(e=e.child;e!==null;)Pd(e,n,l),e=e.sibling}function Pd(e,n,l){switch(e.tag){case 26:ji(e,n,l),e.flags&oo&&e.memoizedState!==null&&By(l,Zt,e.memoizedState,e.memoizedProps);break;case 5:ji(e,n,l);break;case 3:case 4:var a=Zt;Zt=Is(e.stateNode.containerInfo),ji(e,n,l),Zt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=oo,oo=16777216,ji(e,n,l),oo=a):ji(e,n,l));break;default:ji(e,n,l)}}function Bd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function so(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];ft=a,Fd(a,e)}Bd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Od(e),e=e.sibling}function Od(e){switch(e.tag){case 0:case 11:case 15:so(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:so(e);break;case 12:so(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,vs(e)):so(e);break;default:so(e)}}function vs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];ft=a,Fd(a,e)}Bd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fn(8,n,n.return),vs(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,vs(n));break;default:vs(n)}e=e.sibling}}function Fd(e,n){for(;ft!==null;){var l=ft;switch(l.tag){case 0:case 11:case 15:Fn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ol(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,ft=a;else e:for(l=e;ft!==null;){a=ft;var d=a.sibling,h=a.return;if(kd(a),a===l){ft=null;break e}if(d!==null){d.return=h,ft=d;break e}ft=h}}}var iy={getCacheForType:function(e){var n=mt(lt),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return mt(lt).controller.signal}},ly=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ye=null,Ne=null,Me=0,ze=0,Gt=null,Yn=!1,el=!1,Or=!1,bn=0,We=0,Jn=0,Ei=0,Fr=0,Lt=0,tl=0,ao=null,Mt=null,Yr=!1,Ss=0,Yd=0,Ts=1/0,xs=null,Xn=null,rt=0,Kn=null,nl=null,Rn=0,Jr=0,Xr=null,Jd=null,ro=0,Kr=null;function Ht(){return(qe&2)!==0&&Me!==0?Me&-Me:M.T!==null?eu():ac()}function Xd(){if(Lt===0)if((Me&536870912)===0||Ie){var e=Mo;Mo<<=1,(Mo&3932160)===0&&(Mo=262144),Lt=e}else Lt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Lt}function wt(e,n,l){(e===Ye&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(il(e,0),Qn(e,Me,Lt,!1)),Ml(e,l),((qe&2)===0||e!==Ye)&&(e===Ye&&((qe&2)===0&&(Ei|=l),We===4&&Qn(e,Me,Lt,!1)),un(e))}function Kd(e,n,l){if((qe&6)!==0)throw Error(s(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||Rl(e,n),d=a?ay(e,n):$r(e,n,!0),h=a;do{if(d===0){el&&!a&&Qn(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!oy(l)){d=$r(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;d=ao;var A=_.current.memoizedState.isDehydrated;if(A&&(il(_,T).flags|=256),T=$r(_,T,!1),T!==2){if(Or&&!A){_.errorRecoveryDisabledLanes|=h,Ei|=h,d=4;break e}h=Mt,Mt=d,h!==null&&(Mt===null?Mt=h:Mt.push.apply(Mt,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){il(e,0),Qn(e,n,0,!0);break}e:{switch(a=e,h=d,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qn(a,n,Lt,!Yn);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=Ss+300-vt(),10<d)){if(Qn(a,n,Lt,!Yn),Io(a,0,!0)!==0)break e;Rn=n,a.timeoutHandle=Ap(Qd.bind(null,a,l,Mt,xs,Yr,n,Lt,Ei,tl,Yn,h,"Throttled",-0,0),d);break e}Qd(a,l,Mt,xs,Yr,n,Lt,Ei,tl,Yn,h,null,-0,0)}}break}while(!0);un(e)}function Qd(e,n,l,a,d,h,T,_,A,D,z,O,G,L){if(e.timeoutHandle=-1,O=n.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},Pd(n,h,O);var le=(h&62914560)===h?Ss-vt():(h&4194048)===h?Yd-vt():0;if(le=Oy(O,le),le!==null){Rn=h,e.cancelPendingCommit=le(ip.bind(null,e,n,h,l,a,d,T,_,A,z,O,null,G,L)),Qn(e,h,T,!D);return}}ip(e,n,h,l,a,d,T,_,A)}function oy(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var d=l[a],h=d.getSnapshot;d=d.value;try{if(!It(h(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qn(e,n,l,a){n&=~Fr,n&=~Ei,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var d=n;0<d;){var h=31-et(d),T=1<<h;a[h]=-1,d&=~T}l!==0&&lc(e,l,n)}function Es(){return(qe&6)===0?(uo(0),!1):!0}function Qr(){if(Ne!==null){if(ze===0)var e=Ne.return;else e=Ne,yn=pi=null,fr(e),Xi=null,Yl=0,e=Ne;for(;e!==null;)Nd(e.alternate,e),e=e.return;Ne=null}}function il(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Ay(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Rn=0,Qr(),Ye=e,Ne=l=mn(e.current,null),Me=n,ze=0,Gt=null,Yn=!1,el=Rl(e,n),Or=!1,tl=Lt=Fr=Ei=Jn=We=0,Mt=ao=null,Yr=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var d=31-et(a),h=1<<d;n|=e[d],a&=~h}return bn=n,Oo(),l}function $d(e,n){Se=null,M.H=jl,n===Ji||n===Zo?(n=df(),ze=3):n===ja?(n=df(),ze=4):ze=n===br?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gt=n,Ne===null&&(We=1,fs(e,Pt(n,e.current)))}function Zd(){var e=Ut.current;return e===null?!0:(Me&4194048)===Me?Yt===null:(Me&62914560)===Me||(Me&536870912)!==0?e===Yt:!1}function Wd(){var e=M.H;return M.H=jl,e===null?jl:e}function jd(){var e=M.A;return M.A=iy,e}function _s(){We=4,Yn||(Me&4194048)!==Me&&Ut.current!==null||(el=!0),(Jn&134217727)===0&&(Ei&134217727)===0||Ye===null||Qn(Ye,Me,Lt,!1)}function $r(e,n,l){var a=qe;qe|=2;var d=Wd(),h=jd();(Ye!==e||Me!==n)&&(xs=null,il(e,n)),n=!1;var T=We;e:do try{if(ze!==0&&Ne!==null){var _=Ne,A=Gt;switch(ze){case 8:Qr(),T=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(n=!0);var D=ze;if(ze=0,Gt=null,ll(e,_,A,D),l&&el){T=0;break e}break;default:D=ze,ze=0,Gt=null,ll(e,_,A,D)}}sy(),T=We;break}catch(z){$d(e,z)}while(!0);return n&&e.shellSuspendCounter++,yn=pi=null,qe=a,M.H=d,M.A=h,Ne===null&&(Ye=null,Me=0,Oo()),T}function sy(){for(;Ne!==null;)ep(Ne)}function ay(e,n){var l=qe;qe|=2;var a=Wd(),d=jd();Ye!==e||Me!==n?(xs=null,Ts=vt()+500,il(e,n)):el=Rl(e,n);e:do try{if(ze!==0&&Ne!==null){n=Ne;var h=Gt;t:switch(ze){case 1:ze=0,Gt=null,ll(e,n,h,1);break;case 2:case 9:if(cf(h)){ze=0,Gt=null,tp(n);break}n=function(){ze!==2&&ze!==9||Ye!==e||(ze=7),un(e)},h.then(n,n);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:cf(h)?(ze=0,Gt=null,tp(n)):(ze=0,Gt=null,ll(e,n,h,7));break;case 5:var T=null;switch(Ne.tag){case 26:T=Ne.memoizedState;case 5:case 27:var _=Ne;if(T?zp(T):_.stateNode.complete){ze=0,Gt=null;var A=_.sibling;if(A!==null)Ne=A;else{var D=_.return;D!==null?(Ne=D,Cs(D)):Ne=null}break t}}ze=0,Gt=null,ll(e,n,h,5);break;case 6:ze=0,Gt=null,ll(e,n,h,6);break;case 8:Qr(),We=6;break e;default:throw Error(s(462))}}ry();break}catch(z){$d(e,z)}while(!0);return yn=pi=null,M.H=a,M.A=d,qe=l,Ne!==null?0:(Ye=null,Me=0,Oo(),We)}function ry(){for(;Ne!==null&&!Ro();)ep(Ne)}function ep(e){var n=Cd(e.alternate,e,bn);e.memoizedProps=e.pendingProps,n===null?Cs(e):Ne=n}function tp(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=vd(l,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=vd(l,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:fr(n);default:Nd(l,n),n=Ne=Wc(n,bn),n=Cd(l,n,bn)}e.memoizedProps=e.pendingProps,n===null?Cs(e):Ne=n}function ll(e,n,l,a){yn=pi=null,fr(n),Xi=null,Yl=0;var d=n.return;try{if($0(e,d,n,l,Me)){We=1,fs(e,Pt(l,e.current)),Ne=null;return}}catch(h){if(d!==null)throw Ne=d,h;We=1,fs(e,Pt(l,e.current)),Ne=null;return}n.flags&32768?(Ie||a===1?e=!0:el||(Me&536870912)!==0?e=!1:(Yn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ut.current,a!==null&&a.tag===13&&(a.flags|=16384))),np(n,e)):Cs(n)}function Cs(e){var n=e;do{if((n.flags&32768)!==0){np(n,Yn);return}e=n.return;var l=j0(n.alternate,n,bn);if(l!==null){Ne=l;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=e}while(n!==null);We===0&&(We=5)}function np(e,n){do{var l=ey(e.alternate,e);if(l!==null){l.flags&=32767,Ne=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=l}while(e!==null);We=6,Ne=null}function ip(e,n,l,a,d,h,T,_,A){e.cancelPendingCommit=null;do As();while(rt!==0);if((qe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=qa,Pg(e,l,h,T,_,A),e===Ye&&(Ne=Ye=null,Me=0),nl=n,Kn=e,Rn=l,Jr=h,Xr=d,Jd=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dy(J,function(){return rp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=M.T,M.T=null,d=F.p,F.p=2,T=qe,qe|=4;try{ty(e,n,l)}finally{qe=T,F.p=d,M.T=a}}rt=1,lp(),op(),sp()}}function lp(){if(rt===1){rt=0;var e=Kn,n=nl,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var a=F.p;F.p=2;var d=qe;qe|=4;try{qd(n,e);var h=ru,T=Oc(e.containerInfo),_=h.focusedElem,A=h.selectionRange;if(T!==_&&_&&_.ownerDocument&&Bc(_.ownerDocument.documentElement,_)){if(A!==null&&Ua(_)){var D=A.start,z=A.end;if(z===void 0&&(z=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(z,_.value.length);else{var O=_.ownerDocument||document,G=O&&O.defaultView||window;if(G.getSelection){var L=G.getSelection(),le=_.textContent.length,fe=Math.min(A.start,le),Fe=A.end===void 0?fe:Math.min(A.end,le);!L.extend&&fe>Fe&&(T=Fe,Fe=fe,fe=T);var w=Pc(_,fe),b=Pc(_,Fe);if(w&&b&&(L.rangeCount!==1||L.anchorNode!==w.node||L.anchorOffset!==w.offset||L.focusNode!==b.node||L.focusOffset!==b.offset)){var I=O.createRange();I.setStart(w.node,w.offset),L.removeAllRanges(),fe>Fe?(L.addRange(I),L.extend(b.node,b.offset)):(I.setEnd(b.node,b.offset),L.addRange(I))}}}}for(O=[],L=_;L=L.parentNode;)L.nodeType===1&&O.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<O.length;_++){var B=O[_];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Hs=!!au,ru=au=null}finally{qe=d,F.p=a,M.T=l}}e.current=n,rt=2}}function op(){if(rt===2){rt=0;var e=Kn,n=nl,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var a=F.p;F.p=2;var d=qe;qe|=4;try{Ud(e,n.alternate,n)}finally{qe=d,F.p=a,M.T=l}}rt=3}}function sp(){if(rt===4||rt===3){rt=0,ca();var e=Kn,n=nl,l=Rn,a=Jd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?rt=5:(rt=0,nl=Kn=null,ap(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Xn=null),ha(l),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=M.T,d=F.p,F.p=2,M.T=null;try{for(var h=e.onRecoverableError,T=0;T<a.length;T++){var _=a[T];h(_.value,{componentStack:_.stack})}}finally{M.T=n,F.p=d}}(Rn&3)!==0&&As(),un(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Kr?ro++:(ro=0,Kr=e):ro=0,uo(0)}}function ap(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ol(n)))}function As(){return lp(),op(),sp(),rp()}function rp(){if(rt!==5)return!1;var e=Kn,n=Jr;Jr=0;var l=ha(Rn),a=M.T,d=F.p;try{F.p=32>l?32:l,M.T=null,l=Xr,Xr=null;var h=Kn,T=Rn;if(rt=0,nl=Kn=null,Rn=0,(qe&6)!==0)throw Error(s(331));var _=qe;if(qe|=4,Od(h.current),zd(h,h.current,T,l),qe=_,uo(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(ae,h)}catch{}return!0}finally{F.p=d,M.T=a,ap(e,n)}}function up(e,n,l){n=Pt(l,n),n=Nr(e.stateNode,n,2),e=Pn(e,n,2),e!==null&&(Ml(e,2),un(e))}function Pe(e,n,l){if(e.tag===3)up(e,e,l);else for(;n!==null;){if(n.tag===3){up(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Xn===null||!Xn.has(a))){e=Pt(l,e),l=cd(2),a=Pn(n,l,2),a!==null&&(fd(l,a,n,e),Ml(a,2),un(a));break}}n=n.return}}function Zr(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new ly;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(l)||(Or=!0,d.add(l),e=uy.bind(null,e,n,l),n.then(e,e))}function uy(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ye===e&&(Me&l)===l&&(We===4||We===3&&(Me&62914560)===Me&&300>vt()-Ss?(qe&2)===0&&il(e,0):Fr|=l,tl===Me&&(tl=0)),un(e)}function cp(e,n){n===0&&(n=ic()),e=ci(e,n),e!==null&&(Ml(e,n),un(e))}function cy(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),cp(e,l)}function fy(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),cp(e,l)}function dy(e,n){return Cl(e,n)}var Ns=null,ol=null,Wr=!1,bs=!1,jr=!1,$n=0;function un(e){e!==ol&&e.next===null&&(ol===null?Ns=ol=e:ol=ol.next=e),bs=!0,Wr||(Wr=!0,hy())}function uo(e,n){if(!jr&&bs){jr=!0;do for(var l=!1,a=Ns;a!==null;){if(e!==0){var d=a.pendingLanes;if(d===0)var h=0;else{var T=a.suspendedLanes,_=a.pingedLanes;h=(1<<31-et(42|e)+1)-1,h&=d&~(T&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,hp(a,h))}else h=Me,h=Io(a,a===Ye?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||Rl(a,h)||(l=!0,hp(a,h));a=a.next}while(l);jr=!1}}function py(){fp()}function fp(){bs=Wr=!1;var e=0;$n!==0&&Cy()&&(e=$n);for(var n=vt(),l=null,a=Ns;a!==null;){var d=a.next,h=dp(a,n);h===0?(a.next=null,l===null?Ns=d:l.next=d,d===null&&(ol=l)):(l=a,(e!==0||(h&3)!==0)&&(bs=!0)),a=d}rt!==0&&rt!==5||uo(e),$n!==0&&($n=0)}function dp(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-et(h),_=1<<T,A=d[T];A===-1?((_&l)===0||(_&a)!==0)&&(d[T]=zg(_,n)):A<=n&&(e.expiredLanes|=_),h&=~_}if(n=Ye,l=Me,l=Io(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Al(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Rl(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&Al(a),ha(l)){case 2:case 8:l=V;break;case 32:l=J;break;case 268435456:l=Ce;break;default:l=J}return a=pp.bind(null,e),l=Cl(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&Al(a),e.callbackPriority=2,e.callbackNode=null,2}function pp(e,n){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(As()&&e.callbackNode!==l)return null;var a=Me;return a=Io(e,e===Ye?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Kd(e,a,n),dp(e,vt()),e.callbackNode!=null&&e.callbackNode===l?pp.bind(null,e):null)}function hp(e,n){if(As())return null;Kd(e,n,!0)}function hy(){Ny(function(){(qe&6)!==0?Cl(Nl,py):fp()})}function eu(){if($n===0){var e=Fi;e===0&&(e=on,on<<=1,(on&261888)===0&&(on=256)),$n=e}return $n}function mp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Go(""+e)}function gp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function my(e,n,l,a,d){if(n==="submit"&&l&&l.stateNode===d){var h=mp((d[Ct]||null).action),T=a.submitter;T&&(n=(n=T[Ct]||null)?mp(n.formAction):T.getAttribute("formAction"),n!==null&&(h=n,T=null));var _=new Vo("action","action",null,a,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($n!==0){var A=T?gp(d,T):new FormData(d);Tr(l,{pending:!0,data:A,method:d.method,action:h},null,A)}}else typeof h=="function"&&(_.preventDefault(),A=T?gp(d,T):new FormData(d),Tr(l,{pending:!0,data:A,method:d.method,action:h},h,A))},currentTarget:d}]})}}for(var tu=0;tu<Ha.length;tu++){var nu=Ha[tu],gy=nu.toLowerCase(),yy=nu[0].toUpperCase()+nu.slice(1);$t(gy,"on"+yy)}$t(Jc,"onAnimationEnd"),$t(Xc,"onAnimationIteration"),$t(Kc,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(U0,"onTransitionRun"),$t(k0,"onTransitionStart"),$t(G0,"onTransitionCancel"),$t(Qc,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function yp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],d=a.event;a=a.listeners;e:{var h=void 0;if(n)for(var T=a.length-1;0<=T;T--){var _=a[T],A=_.instance,D=_.currentTarget;if(_=_.listener,A!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=D;try{h(d)}catch(z){Bo(z)}d.currentTarget=null,h=A}else for(T=0;T<a.length;T++){if(_=a[T],A=_.instance,D=_.currentTarget,_=_.listener,A!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=D;try{h(d)}catch(z){Bo(z)}d.currentTarget=null,h=A}}}}function be(e,n){var l=n[ma];l===void 0&&(l=n[ma]=new Set);var a=e+"__bubble";l.has(a)||(vp(n,e,2,!1),l.add(a))}function iu(e,n,l){var a=0;n&&(a|=4),vp(l,e,a,n)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function lu(e){if(!e[Rs]){e[Rs]=!0,cc.forEach(function(l){l!=="selectionchange"&&(vy.has(l)||iu(l,!1,e),iu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Rs]||(n[Rs]=!0,iu("selectionchange",!1,n))}}function vp(e,n,l,a){switch(Xp(n)){case 2:var d=Jy;break;case 8:d=Xy;break;default:d=Su}l=d.bind(null,n,l,e),d=void 0,!Ca||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function ou(e,n,l,a,d){var h=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var _=a.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=bi(_),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=h=T;continue e}_=_.parentNode}}a=a.return}Ec(function(){var D=h,z=Ea(l),O=[];e:{var G=$c.get(e);if(G!==void 0){var L=Vo,le=e;switch(e){case"keypress":if(Ho(l)===0)break e;case"keydown":case"keyup":L=f0;break;case"focusin":le="focus",L=Ra;break;case"focusout":le="blur",L=Ra;break;case"beforeblur":case"afterblur":L=Ra;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=h0;break;case Jc:case Xc:case Kc:L=n0;break;case Qc:L=g0;break;case"scroll":case"scrollend":L=Zg;break;case"wheel":L=v0;break;case"copy":case"cut":case"paste":L=l0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=bc;break;case"toggle":case"beforetoggle":L=T0}var fe=(n&4)!==0,Fe=!fe&&(e==="scroll"||e==="scrollend"),w=fe?G!==null?G+"Capture":null:G;fe=[];for(var b=D,I;b!==null;){var B=b;if(I=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||I===null||w===null||(B=Dl(b,w),B!=null&&fe.push(fo(b,B,I))),Fe)break;b=b.return}0<fe.length&&(G=new L(G,le,null,l,z),O.push({event:G,listeners:fe}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",G&&l!==xa&&(le=l.relatedTarget||l.fromElement)&&(bi(le)||le[Ni]))break e;if((L||G)&&(G=z.window===z?z:(G=z.ownerDocument)?G.defaultView||G.parentWindow:window,L?(le=l.relatedTarget||l.toElement,L=D,le=le?bi(le):null,le!==null&&(Fe=f(le),fe=le.tag,le!==Fe||fe!==5&&fe!==27&&fe!==6)&&(le=null)):(L=null,le=D),L!==le)){if(fe=Ac,B="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(fe=bc,B="onPointerLeave",w="onPointerEnter",b="pointer"),Fe=L==null?G:Il(L),I=le==null?G:Il(le),G=new fe(B,b+"leave",L,l,z),G.target=Fe,G.relatedTarget=I,B=null,bi(z)===D&&(fe=new fe(w,b+"enter",le,l,z),fe.target=I,fe.relatedTarget=Fe,B=fe),Fe=B,L&&le)t:{for(fe=Sy,w=L,b=le,I=0,B=w;B;B=fe(B))I++;B=0;for(var re=b;re;re=fe(re))B++;for(;0<I-B;)w=fe(w),I--;for(;0<B-I;)b=fe(b),B--;for(;I--;){if(w===b||b!==null&&w===b.alternate){fe=w;break t}w=fe(w),b=fe(b)}fe=null}else fe=null;L!==null&&Sp(O,G,L,fe,!1),le!==null&&Fe!==null&&Sp(O,Fe,le,fe,!0)}}e:{if(G=D?Il(D):window,L=G.nodeName&&G.nodeName.toLowerCase(),L==="select"||L==="input"&&G.type==="file")var Ge=Gc;else if(Uc(G))if(Lc)Ge=w0;else{Ge=R0;var oe=b0}else L=G.nodeName,!L||L.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?D&&Ta(D.elementType)&&(Ge=Gc):Ge=M0;if(Ge&&(Ge=Ge(e,D))){kc(O,Ge,l,z);break e}oe&&oe(e,G,D),e==="focusout"&&D&&G.type==="number"&&D.memoizedProps.value!=null&&Sa(G,"number",G.value)}switch(oe=D?Il(D):window,e){case"focusin":(Uc(oe)||oe.contentEditable==="true")&&(Li=oe,ka=D,zl=null);break;case"focusout":zl=ka=Li=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,Fc(O,l,z);break;case"selectionchange":if(D0)break;case"keydown":case"keyup":Fc(O,l,z)}var xe;if(wa)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Gi?Ic(e,l)&&(we="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(Rc&&l.locale!=="ko"&&(Gi||we!=="onCompositionStart"?we==="onCompositionEnd"&&Gi&&(xe=_c()):(kn=z,Aa="value"in kn?kn.value:kn.textContent,Gi=!0)),oe=Ms(D,we),0<oe.length&&(we=new Nc(we,e,null,l,z),O.push({event:we,listeners:oe}),xe?we.data=xe:(xe=Dc(l),xe!==null&&(we.data=xe)))),(xe=E0?_0(e,l):C0(e,l))&&(we=Ms(D,"onBeforeInput"),0<we.length&&(oe=new Nc("onBeforeInput","beforeinput",null,l,z),O.push({event:oe,listeners:we}),oe.data=xe)),my(O,e,D,l,z)}yp(O,n)})}function fo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Ms(e,n){for(var l=n+"Capture",a=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Dl(e,l),d!=null&&a.unshift(fo(e,d,h)),d=Dl(e,n),d!=null&&a.push(fo(e,d,h))),e.tag===3)return a;e=e.return}return[]}function Sy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sp(e,n,l,a,d){for(var h=n._reactName,T=[];l!==null&&l!==a;){var _=l,A=_.alternate,D=_.stateNode;if(_=_.tag,A!==null&&A===a)break;_!==5&&_!==26&&_!==27||D===null||(A=D,d?(D=Dl(l,h),D!=null&&T.unshift(fo(l,D,A))):d||(D=Dl(l,h),D!=null&&T.push(fo(l,D,A)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var Ty=/\r\n?/g,xy=/\u0000|\uFFFD/g;function Tp(e){return(typeof e=="string"?e:""+e).replace(Ty,`
`).replace(xy,"")}function xp(e,n){return n=Tp(n),Tp(e)===n}function Oe(e,n,l,a,d,h){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Di(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Di(e,""+a);break;case"className":Uo(e,"class",a);break;case"tabIndex":Uo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Uo(e,l,a);break;case"style":Tc(e,a,h);break;case"data":if(n!=="object"){Uo(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Go(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&Oe(e,n,"name",d.name,d,null),Oe(e,n,"formEncType",d.formEncType,d,null),Oe(e,n,"formMethod",d.formMethod,d,null),Oe(e,n,"formTarget",d.formTarget,d,null)):(Oe(e,n,"encType",d.encType,d,null),Oe(e,n,"method",d.method,d,null),Oe(e,n,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Go(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=pn);break;case"onScroll":a!=null&&be("scroll",e);break;case"onScrollEnd":a!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Go(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":be("beforetoggle",e),be("toggle",e),Do(e,"popover",a);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Do(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qg.get(l)||l,Do(e,l,a))}}function su(e,n,l,a,d,h){switch(l){case"style":Tc(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Di(e,a):(typeof a=="number"||typeof a=="bigint")&&Di(e,""+a);break;case"onScroll":a!=null&&be("scroll",e);break;case"onScrollEnd":a!=null&&be("scrollend",e);break;case"onClick":a!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),h=e[Ct]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof a=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,d);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Do(e,l,a)}}}function yt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var a=!1,d=!1,h;for(h in l)if(l.hasOwnProperty(h)){var T=l[h];if(T!=null)switch(h){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Oe(e,n,h,T,l,null)}}d&&Oe(e,n,"srcSet",l.srcSet,l,null),a&&Oe(e,n,"src",l.src,l,null);return;case"input":be("invalid",e);var _=h=T=d=null,A=null,D=null;for(a in l)if(l.hasOwnProperty(a)){var z=l[a];if(z!=null)switch(a){case"name":d=z;break;case"type":T=z;break;case"checked":A=z;break;case"defaultChecked":D=z;break;case"value":h=z;break;case"defaultValue":_=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Oe(e,n,a,z,l,null)}}gc(e,h,_,A,D,T,d,!1);return;case"select":be("invalid",e),a=T=h=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":h=_;break;case"defaultValue":T=_;break;case"multiple":a=_;default:Oe(e,n,d,_,l,null)}n=h,l=T,e.multiple=!!a,n!=null?Ii(e,!!a,n,!1):l!=null&&Ii(e,!!a,l,!0);return;case"textarea":be("invalid",e),h=d=a=null;for(T in l)if(l.hasOwnProperty(T)&&(_=l[T],_!=null))switch(T){case"value":a=_;break;case"defaultValue":d=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Oe(e,n,T,_,l,null)}vc(e,a,d,h);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Oe(e,n,A,a,l,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(a=0;a<co.length;a++)be(co[a],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(a=l[D],a!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Oe(e,n,D,a,l,null)}return;default:if(Ta(n)){for(z in l)l.hasOwnProperty(z)&&(a=l[z],a!==void 0&&su(e,n,z,a,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(a=l[_],a!=null&&Oe(e,n,_,a,l,null))}function Ey(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,_=null,A=null,D=null,z=null;for(L in l){var O=l[L];if(l.hasOwnProperty(L)&&O!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=O;default:a.hasOwnProperty(L)||Oe(e,n,L,null,a,O)}}for(var G in a){var L=a[G];if(O=l[G],a.hasOwnProperty(G)&&(L!=null||O!=null))switch(G){case"type":h=L;break;case"name":d=L;break;case"checked":D=L;break;case"defaultChecked":z=L;break;case"value":T=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,n));break;default:L!==O&&Oe(e,n,G,L,a,O)}}va(e,T,_,A,D,z,h,d);return;case"select":L=T=_=G=null;for(h in l)if(A=l[h],l.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":L=A;default:a.hasOwnProperty(h)||Oe(e,n,h,null,a,A)}for(d in a)if(h=a[d],A=l[d],a.hasOwnProperty(d)&&(h!=null||A!=null))switch(d){case"value":G=h;break;case"defaultValue":_=h;break;case"multiple":T=h;default:h!==A&&Oe(e,n,d,h,a,A)}n=_,l=T,a=L,G!=null?Ii(e,!!l,G,!1):!!a!=!!l&&(n!=null?Ii(e,!!l,n,!0):Ii(e,!!l,l?[]:"",!1));return;case"textarea":L=G=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!a.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(e,n,_,null,a,d)}for(T in a)if(d=a[T],h=l[T],a.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":G=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&Oe(e,n,T,d,a,h)}yc(e,G,L);return;case"option":for(var le in l)if(G=l[le],l.hasOwnProperty(le)&&G!=null&&!a.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Oe(e,n,le,null,a,G)}for(A in a)if(G=a[A],L=l[A],a.hasOwnProperty(A)&&G!==L&&(G!=null||L!=null))switch(A){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Oe(e,n,A,G,a,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in l)G=l[fe],l.hasOwnProperty(fe)&&G!=null&&!a.hasOwnProperty(fe)&&Oe(e,n,fe,null,a,G);for(D in a)if(G=a[D],L=l[D],a.hasOwnProperty(D)&&G!==L&&(G!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Oe(e,n,D,G,a,L)}return;default:if(Ta(n)){for(var Fe in l)G=l[Fe],l.hasOwnProperty(Fe)&&G!==void 0&&!a.hasOwnProperty(Fe)&&su(e,n,Fe,void 0,a,G);for(z in a)G=a[z],L=l[z],!a.hasOwnProperty(z)||G===L||G===void 0&&L===void 0||su(e,n,z,G,a,L);return}}for(var w in l)G=l[w],l.hasOwnProperty(w)&&G!=null&&!a.hasOwnProperty(w)&&Oe(e,n,w,null,a,G);for(O in a)G=a[O],L=l[O],!a.hasOwnProperty(O)||G===L||G==null&&L==null||Oe(e,n,O,G,a,L)}function Ep(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _y(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var d=l[a],h=d.transferSize,T=d.initiatorType,_=d.duration;if(h&&_&&Ep(T)){for(T=0,_=d.responseEnd,a+=1;a<l.length;a++){var A=l[a],D=A.startTime;if(D>_)break;var z=A.transferSize,O=A.initiatorType;z&&Ep(O)&&(A=A.responseEnd,T+=z*(A<_?1:(_-D)/(A-D)))}if(--a,n+=8*(h+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var au=null,ru=null;function ws(e){return e.nodeType===9?e:e.ownerDocument}function _p(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function uu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cu=null;function Cy(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var Ap=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,Np=typeof Promise=="function"?Promise:void 0,Ny=typeof queueMicrotask=="function"?queueMicrotask:typeof Np<"u"?function(e){return Np.resolve(null).then(e).catch(by)}:Ap;function by(e){setTimeout(function(){throw e})}function Zn(e){return e==="head"}function bp(e,n){var l=n,a=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(d),ul(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")po(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,po(l);for(var h=l.firstChild;h;){var T=h.nextSibling,_=h.nodeName;h[wl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=T}}else l==="body"&&po(e.ownerDocument.body);l=d}while(l);ul(n)}function Rp(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function fu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fu(l),ga(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ry(e,n,l,a){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[wl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function My(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Jt(e.nextSibling),e===null))return null;return e}function Mp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jt(e.nextSibling),e===null))return null;return e}function du(e){return e.data==="$?"||e.data==="$~"}function pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wy(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Jt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var hu=null;function wp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Jt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Ip(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Dp(e,n,l){switch(n=ws(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function po(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ga(e)}var Xt=new Map,Up=new Set;function Is(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=F.d;F.d={f:Iy,r:Dy,D:Uy,C:ky,L:Gy,m:Ly,X:qy,S:Hy,M:Vy};function Iy(){var e=Mn.f(),n=Es();return e||n}function Dy(e){var n=Ri(e);n!==null&&n.tag===5&&n.type==="form"?$f(n):Mn.r(e)}var sl=typeof document>"u"?null:document;function kp(e,n,l){var a=sl;if(a&&typeof n=="string"&&n){var d=Vt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Up.has(d)||(Up.add(d),e={rel:e,crossOrigin:l,href:n},a.querySelector(d)===null&&(n=a.createElement("link"),yt(n,"link",e),ct(n),a.head.appendChild(n)))}}function Uy(e){Mn.D(e),kp("dns-prefetch",e,null)}function ky(e,n){Mn.C(e,n),kp("preconnect",e,n)}function Gy(e,n,l){Mn.L(e,n,l);var a=sl;if(a&&e&&n){var d='link[rel="preload"][as="'+Vt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Vt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Vt(l.imageSizes)+'"]')):d+='[href="'+Vt(e)+'"]';var h=d;switch(n){case"style":h=al(e);break;case"script":h=rl(e)}Xt.has(h)||(e=x({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Xt.set(h,e),a.querySelector(d)!==null||n==="style"&&a.querySelector(ho(h))||n==="script"&&a.querySelector(mo(h))||(n=a.createElement("link"),yt(n,"link",e),ct(n),a.head.appendChild(n)))}}function Ly(e,n){Mn.m(e,n);var l=sl;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Vt(a)+'"][href="'+Vt(e)+'"]',h=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=rl(e)}if(!Xt.has(h)&&(e=x({rel:"modulepreload",href:e},n),Xt.set(h,e),l.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mo(h)))return}a=l.createElement("link"),yt(a,"link",e),ct(a),l.head.appendChild(a)}}}function Hy(e,n,l){Mn.S(e,n,l);var a=sl;if(a&&e){var d=Mi(a).hoistableStyles,h=al(e);n=n||"default";var T=d.get(h);if(!T){var _={loading:0,preload:null};if(T=a.querySelector(ho(h)))_.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Xt.get(h))&&mu(e,l);var A=T=a.createElement("link");ct(A),yt(A,"link",e),A._p=new Promise(function(D,z){A.onload=D,A.onerror=z}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ds(T,n,a)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(h,T)}}}function qy(e,n){Mn.X(e,n);var l=sl;if(l&&e){var a=Mi(l).hoistableScripts,d=rl(e),h=a.get(d);h||(h=l.querySelector(mo(d)),h||(e=x({src:e,async:!0},n),(n=Xt.get(d))&&gu(e,n),h=l.createElement("script"),ct(h),yt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(d,h))}}function Vy(e,n){Mn.M(e,n);var l=sl;if(l&&e){var a=Mi(l).hoistableScripts,d=rl(e),h=a.get(d);h||(h=l.querySelector(mo(d)),h||(e=x({src:e,async:!0,type:"module"},n),(n=Xt.get(d))&&gu(e,n),h=l.createElement("script"),ct(h),yt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(d,h))}}function Gp(e,n,l,a){var d=(d=ce.current)?Is(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=al(l.href),l=Mi(d).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=al(l.href);var h=Mi(d).hoistableStyles,T=h.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=d.querySelector(ho(e)))&&!h._p&&(T.instance=h,T.state.loading=5),Xt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xt.set(e,l),h||zy(d,e,l,T.state))),n&&a===null)throw Error(s(528,""));return T}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rl(l),l=Mi(d).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function al(e){return'href="'+Vt(e)+'"'}function ho(e){return'link[rel="stylesheet"]['+e+"]"}function Lp(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function zy(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),yt(n,"link",l),ct(n),e.head.appendChild(n))}function rl(e){return'[src="'+Vt(e)+'"]'}function mo(e){return"script[async]"+e}function Hp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+Vt(l.href)+'"]');if(a)return n.instance=a,ct(a),a;var d=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ct(a),yt(a,"style",d),Ds(a,l.precedence,e),n.instance=a;case"stylesheet":d=al(l.href);var h=e.querySelector(ho(d));if(h)return n.state.loading|=4,n.instance=h,ct(h),h;a=Lp(l),(d=Xt.get(d))&&mu(a,d),h=(e.ownerDocument||e).createElement("link"),ct(h);var T=h;return T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),yt(h,"link",a),n.state.loading|=4,Ds(h,l.precedence,e),n.instance=h;case"script":return h=rl(l.src),(d=e.querySelector(mo(h)))?(n.instance=d,ct(d),d):(a=l,(d=Xt.get(h))&&(a=x({},l),gu(a,d)),e=e.ownerDocument||e,d=e.createElement("script"),ct(d),yt(d,"link",a),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Ds(a,l.precedence,e));return n.instance}function Ds(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,h=d,T=0;T<a.length;T++){var _=a[T];if(_.dataset.precedence===n)h=_;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function mu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Us=null;function qp(e,n,l){if(Us===null){var a=new Map,d=Us=new Map;d.set(l,a)}else d=Us,a=d.get(l),a||(a=new Map,d.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var h=l[d];if(!(h[wl]||h[pt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(n)||"";T=e+T;var _=a.get(T);_?_.push(h):a.set(T,[h])}}return a}function Vp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Py(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function By(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=al(a.href),h=n.querySelector(ho(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ks.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=h,ct(h);return}h=n.ownerDocument||n,a=Lp(a),(d=Xt.get(d))&&mu(a,d),h=h.createElement("link"),ct(h);var T=h;T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),yt(h,"link",a),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ks.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var yu=0;function Oy(e,n){return e.stylesheets&&e.count===0&&Ls(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ls(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&yu===0&&(yu=62500*_y());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ls(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>yu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(d)}}:null}function ks(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ls(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gs=null;function Ls(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gs=new Map,n.forEach(Fy,e),Gs=null,ks.call(e))}function Fy(e,n){if(!(n.state.loading&4)){var l=Gs.get(e);if(l)var a=l.get(null);else{l=new Map,Gs.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),a=T)}a&&l.set(null,a)}d=n.instance,T=d.getAttribute("data-precedence"),h=l.get(T)||a,h===a&&l.set(null,d),l.set(T,d),this.count++,a=ks.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var go={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Yy(e,n,l,a,d,h,T,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Pp(e,n,l,a,d,h,T,_,A,D,z,O){return e=new Yy(e,n,l,T,A,D,z,O,_),n=1,h===!0&&(n|=24),h=Dt(3,null,null,n),e.current=h,h.stateNode=e,n=$a(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:a,isDehydrated:l,cache:n},er(h),e}function Bp(e){return e?(e=Vi,e):Vi}function Op(e,n,l,a,d,h){d=Bp(d),a.context===null?a.context=d:a.pendingContext=d,a=zn(n),a.payload={element:l},h=h===void 0?null:h,h!==null&&(a.callback=h),l=Pn(e,a,n),l!==null&&(wt(l,e,n),Xl(l,e,n))}function Fp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function vu(e,n){Fp(e,n),(e=e.alternate)&&Fp(e,n)}function Yp(e){if(e.tag===13||e.tag===31){var n=ci(e,67108864);n!==null&&wt(n,e,67108864),vu(e,67108864)}}function Jp(e){if(e.tag===13||e.tag===31){var n=Ht();n=pa(n);var l=ci(e,n);l!==null&&wt(l,e,n),vu(e,n)}}var Hs=!0;function Jy(e,n,l,a){var d=M.T;M.T=null;var h=F.p;try{F.p=2,Su(e,n,l,a)}finally{F.p=h,M.T=d}}function Xy(e,n,l,a){var d=M.T;M.T=null;var h=F.p;try{F.p=8,Su(e,n,l,a)}finally{F.p=h,M.T=d}}function Su(e,n,l,a){if(Hs){var d=Tu(a);if(d===null)ou(e,n,a,qs,l),Kp(e,a);else if(Qy(d,e,n,l,a))a.stopPropagation();else if(Kp(e,a),n&4&&-1<Ky.indexOf(e)){for(;d!==null;){var h=Ri(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=oi(h.pendingLanes);if(T!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var A=1<<31-et(T);_.entanglements[1]|=A,T&=~A}un(h),(qe&6)===0&&(Ts=vt()+500,uo(0))}}break;case 31:case 13:_=ci(h,2),_!==null&&wt(_,h,2),Es(),vu(h,2)}if(h=Tu(a),h===null&&ou(e,n,a,qs,l),h===d)break;d=h}d!==null&&a.stopPropagation()}else ou(e,n,a,null,l)}}function Tu(e){return e=Ea(e),xu(e)}var qs=null;function xu(e){if(qs=null,e=bi(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return qs=e,null}function Xp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fa()){case Nl:return 2;case V:return 8;case J:case de:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var Eu=!1,Wn=null,jn=null,ei=null,yo=new Map,vo=new Map,ti=[],Ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(e,n){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":yo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(n.pointerId)}}function So(e,n,l,a,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Ri(n),n!==null&&Yp(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Qy(e,n,l,a,d){switch(n){case"focusin":return Wn=So(Wn,e,n,l,a,d),!0;case"dragenter":return jn=So(jn,e,n,l,a,d),!0;case"mouseover":return ei=So(ei,e,n,l,a,d),!0;case"pointerover":var h=d.pointerId;return yo.set(h,So(yo.get(h)||null,e,n,l,a,d)),!0;case"gotpointercapture":return h=d.pointerId,vo.set(h,So(vo.get(h)||null,e,n,l,a,d)),!0}return!1}function Qp(e){var n=bi(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,rc(e.priority,function(){Jp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,rc(e.priority,function(){Jp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Tu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);xa=a,l.target.dispatchEvent(a),xa=null}else return n=Ri(l),n!==null&&Yp(n),e.blockedOn=l,!1;n.shift()}return!0}function $p(e,n,l){Vs(e)&&l.delete(n)}function $y(){Eu=!1,Wn!==null&&Vs(Wn)&&(Wn=null),jn!==null&&Vs(jn)&&(jn=null),ei!==null&&Vs(ei)&&(ei=null),yo.forEach($p),vo.forEach($p)}function zs(e,n){e.blockedOn===n&&(e.blockedOn=null,Eu||(Eu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$y)))}var Ps=null;function Zp(e){Ps!==e&&(Ps=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ps===e&&(Ps=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],d=e[n+2];if(typeof a!="function"){if(xu(a||l)===null)continue;break}var h=Ri(l);h!==null&&(e.splice(n,3),n-=3,Tr(h,{pending:!0,data:d,method:l.method,action:a},a,d))}}))}function ul(e){function n(A){return zs(A,e)}Wn!==null&&zs(Wn,e),jn!==null&&zs(jn,e),ei!==null&&zs(ei,e),yo.forEach(n),vo.forEach(n);for(var l=0;l<ti.length;l++){var a=ti[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ti.length&&(l=ti[0],l.blockedOn===null);)Qp(l),l.blockedOn===null&&ti.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var d=l[a],h=l[a+1],T=d[Ct]||null;if(typeof h=="function")T||Zp(l);else if(T){var _=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[Ct]||null)_=T.formAction;else if(xu(d)!==null)continue}else _=T.action;typeof _=="function"?l[a+1]=_:(l.splice(a,3),a-=3),Zp(l)}}}function Wp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function _u(e){this._internalRoot=e}Bs.prototype.render=_u.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,a=Ht();Op(l,a,e,n,null,null)},Bs.prototype.unmount=_u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Op(e.current,2,null,e,null,null),Es(),n[Ni]=null}};function Bs(e){this._internalRoot=e}Bs.prototype.unstable_scheduleHydration=function(e){if(e){var n=ac();e={blockedOn:null,target:e,priority:n};for(var l=0;l<ti.length&&n!==0&&n<ti[l].priority;l++);ti.splice(l,0,e),l===0&&Qp(e)}};var jp=t.version;if(jp!=="19.2.3")throw Error(s(527,jp,"19.2.3"));F.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Zy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{ae=Os.inject(Zy),ke=Os}catch{}}return xo.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,a="",d=sd,h=ad,T=rd;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Pp(e,1,!1,null,null,l,a,null,d,h,T,Wp),e[Ni]=n.current,lu(e),new _u(n)},xo.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var a=!1,d="",h=sd,T=ad,_=rd,A=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Pp(e,1,!0,n,l??null,a,d,A,h,T,_,Wp),n.context=Bp(null),l=n.current,a=Ht(),a=pa(a),d=zn(a),d.callback=null,Pn(l,d,a),l=a,n.current.lanes=l,Ml(n,l),un(n),e[Ni]=n.current,lu(e),new Bs(n)},xo.version="19.2.3",xo}var uh;function rv(){if(uh)return Nu.exports;uh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Nu.exports=av(),Nu.exports}var uv=rv();const cv=Om(uv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,s)=>s?s.toUpperCase():o.toLowerCase()),ch=i=>{const t=dv(i);return t.charAt(0).toUpperCase()+t.slice(1)},Fm=(...i)=>i.filter((t,o,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===o).join(" ").trim(),pv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ue.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:r="",children:f,iconNode:p,...g},y)=>ue.createElement("svg",{ref:y,...hv,width:t,height:t,stroke:i,strokeWidth:s?Number(o)*24/Number(t):o,className:Fm("lucide",r),...!f&&!pv(g)&&{"aria-hidden":"true"},...g},[...p.map(([m,v])=>ue.createElement(m,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(i,t)=>{const o=ue.forwardRef(({className:s,...r},f)=>ue.createElement(mv,{ref:f,iconNode:t,className:Fm(`lucide-${fv(ch(i))}`,`lucide-${i}`,s),...r}));return o.displayName=ch(i),o};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],yv=Ae("activity",gv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Sv=Ae("arrow-right",vv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xv=Ae("book-open",Tv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],_v=Ae("bot",Ev);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Av=Ae("brain",Cv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],bv=Ae("chart-pie",Nv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mv=Ae("circle-check",Rv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],Iv=Ae("circle-minus",wv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Uv=Ae("code-xml",Dv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Gv=Ae("copy",kv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Hv=Ae("download",Lv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Vv=Ae("eraser",qv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Pv=Ae("file-braces",zv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ov=Ae("file-text",Bv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],Yv=Ae("git-merge",Fv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Xv=Ae("layers",Jv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Qv=Ae("lightbulb",Kv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zv=Ae("loader-circle",$v);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],jv=Ae("maximize-2",Wv);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],tS=Ae("mic",eS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M5 12h14",key:"1ays0h"}]],iS=Ae("minus",nS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],oS=Ae("mouse-pointer-2",lS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],aS=Ae("panel-left-close",sS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],uS=Ae("panel-left-open",rS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],fS=Ae("pen-tool",cS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pS=Ae("pencil",dS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mS=Ae("plus",hS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],yS=Ae("redo-2",gS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],SS=Ae("send",vS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],xS=Ae("shield-alert",TS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_S=Ae("sparkles",ES);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AS=Ae("trash-2",CS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bS=Ae("trending-up",NS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MS=Ae("triangle-alert",RS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],IS=Ae("undo-2",wS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],US=Ae("upload",DS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],GS=Ae("user",kS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HS=Ae("x",LS);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VS=Ae("zap",qS),j={Brain:Av,Layers:Xv,Shield:xS,Zap:VS,Book:xv,Code:Uv,Maximize:jv,ArrowRight:Sv,Loader:Zv,Alert:MS,Lightbulb:Qv,Plus:mS,Trash:AS,Close:HS,Trending:bS,Check:Mv,Minus:Iv,Bot:_v,User:GS,PieChart:bv,Activity:yv,GitMerge:Yv,Mic:tS,PanelLeftClose:aS,PanelLeftOpen:uS,Send:SS,PenTool:fS,MousePointer2:oS,Pencil:pS,Line:iS,Eraser:Vv,Undo:IS,Redo:yS,Sparkles:_S,Copy:Gv,Download:Hv,FileJson:Pv,Upload:US,FileText:Ov},Ym=({onTranscript:i,className:t=""})=>{const[o,s]=ue.useState(!1),[r,f]=ue.useState(!0),p=ue.useRef(null),g=ue.useRef(!1);ue.useEffect(()=>{if(typeof window<"u"){const m=window.SpeechRecognition||window.webkitSpeechRecognition;if(m){const v=new m;v.continuous=!0,v.interimResults=!0,v.lang="en-US",v.onresult=x=>{let E="";for(let C=x.resultIndex;C<x.results.length;++C)x.results[C].isFinal&&(E+=x.results[C][0].transcript);E&&i(E)},v.onerror=x=>{x.error==="no-speech"||x.error==="aborted"||(console.error("Speech recognition error",x.error),(x.error==="not-allowed"||x.error==="service-not-allowed")&&(s(!1),g.current=!1))},v.onend=()=>{if(g.current)try{v.start()}catch{s(!1),g.current=!1}else s(!1)},p.current=v}else f(!1)}return()=>{g.current=!1,p.current&&p.current.abort()}},[i]);const y=()=>{if(!(!r||!p.current))if(o)g.current=!1,p.current.stop(),s(!1);else{g.current=!0;try{p.current.start(),s(!0)}catch(m){console.error("Failed to start recognition",m)}}};return r?S.jsx("button",{type:"button",onClick:y,className:`p-2 rounded-full transition-all flex items-center justify-center ${o?"bg-rose-100 text-rose-600 animate-pulse ring-2 ring-rose-200":"bg-transparent text-slate-400 hover:bg-slate-100 hover:text-slate-600"} ${t}`,title:o?"Stop listening":"Start voice input",children:S.jsx(j.Mic,{className:"w-5 h-5"})}):null},zS=({onSubmit:i,isGenerating:t})=>{const[o,s]=ue.useState(""),r=g=>{g&&g.preventDefault(),o.trim()&&i(o)},f=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),r())},p=g=>{s(y=>y?y+" "+g:g)};return S.jsx("div",{className:"w-full max-w-2xl mx-auto px-6",children:S.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[S.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-8 text-center tracking-tight",children:"What are we building today?"}),S.jsx("div",{className:"mb-6 flex flex-wrap justify-center gap-2 opacity-90",children:["Market Analysis","User Sentiment","Tech Stack","Risk Assessment","MVP Scope"].map(g=>S.jsx("span",{className:"bg-white border-2 border-slate-200 rounded-lg px-3 py-1 text-xs text-slate-600 font-bold shadow-sm",children:g},g))}),S.jsx("form",{onSubmit:r,className:"relative group w-full",children:S.jsxs("div",{className:"relative",children:[S.jsx("textarea",{value:o,onChange:g=>s(g.target.value),onKeyDown:f,disabled:t,placeholder:"Describe your idea...",className:"w-full bg-white border-2 border-slate-900 text-slate-800 text-base rounded-2xl p-4 pr-24 min-h-[64px] focus:ring-4 focus:ring-indigo-100 focus:border-indigo-600 outline-none transition-all placeholder:text-slate-400 resize-none leading-relaxed sketch-shadow py-4"}),S.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-1",children:[!t&&S.jsx(Ym,{onTranscript:p,className:"!bg-transparent hover:!bg-slate-100 text-slate-400 hover:text-indigo-600"}),t?S.jsx("span",{className:"flex items-center justify-center w-10 h-10 bg-indigo-50 rounded-xl text-indigo-600 border border-indigo-100",children:S.jsx(j.Loader,{className:"w-5 h-5 animate-spin"})}):S.jsx("button",{type:"submit",disabled:!o.trim(),className:"w-10 h-10 flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed border-2 border-slate-900 shadow-sm hover:shadow-md transform active:scale-95",children:S.jsx(j.ArrowRight,{className:"w-5 h-5"})})]})]})}),S.jsxs("p",{className:"text-center text-xs text-slate-400 mt-4 font-medium",children:["Press ",S.jsx("strong",{children:"Enter"})," to submit, ",S.jsx("strong",{children:"Shift+Enter"})," for new line"]})]})})},Jm=({metric:i})=>{const t=["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6"];if(i.type==="growth_prediction"){const p=i.data.flatMap(y=>[y.value,y.projectedValue||0]),g=Math.max(...p)*1.1;return S.jsxs("div",{className:"w-full overflow-hidden bg-white border border-slate-200 rounded-lg p-2",children:[S.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase mb-2 text-right tracking-widest px-2",children:"Predictive Analysis"}),S.jsxs("svg",{width:"100%",height:180,viewBox:"0 0 400 180",preserveAspectRatio:"none",children:[[.2,.4,.6,.8,1].map(y=>S.jsx("line",{x1:25,y1:155-y*130,x2:375,y2:155-y*130,stroke:"#f1f5f9",strokeWidth:"1"},y)),S.jsx("polyline",{points:i.data.map((y,m)=>{const v=25+m/(i.data.length-1)*350,x=155-y.value/g*130;return`${v},${x}`}).join(" "),fill:"none",stroke:"#6366f1",strokeWidth:"2.5"}),S.jsx("polyline",{points:i.data.map((y,m)=>{const v=y.projectedValue!==void 0?y.projectedValue:y.value,x=25+m/(i.data.length-1)*350,E=155-v/g*130;return`${x},${E}`}).join(" "),fill:"none",stroke:"#94a3b8",strokeWidth:"2",strokeDasharray:"4,4"}),i.data.map((y,m)=>{const v=25+m/(i.data.length-1)*350,x=155-y.value/g*130,E=y.projectedValue!==void 0?155-y.projectedValue/g*130:x;return S.jsxs("g",{children:[S.jsx("circle",{cx:v,cy:x,r:"3",fill:"#6366f1"}),y.projectedValue!==void 0&&S.jsx("circle",{cx:v,cy:E,r:"3",fill:"#94a3b8"}),m%Math.ceil(i.data.length/5)===0&&S.jsx("text",{x:v,y:175,fontSize:"9",textAnchor:"middle",fill:"#64748b",children:y.label})]},m)})]}),S.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[S.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-slate-600",children:[S.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"})," Current Data"]}),S.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-slate-600",children:[S.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full"})," Projection"]})]})]})}if(i.type==="heatmap")return S.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[S.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase mb-3 tracking-widest",children:"Intensity Heatmap"}),S.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.data.map((s,r)=>{const p=Math.min(100,Math.max(10,s.value))/100;return S.jsxs("div",{className:"flex flex-col items-center gap-1 group",children:[S.jsx("div",{className:"w-full h-12 rounded bg-indigo-600 transition-all hover:scale-105",style:{opacity:p},title:`${s.label}: ${s.value}`}),S.jsx("span",{className:"text-[9px] text-slate-500 font-medium truncate w-full text-center",children:s.label})]},r)})})]});if(i.type==="stat")return S.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.data.map((s,r)=>S.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex flex-col items-center justify-center text-center hover:border-indigo-300 transition-colors",children:[S.jsx("span",{className:"text-2xl font-bold text-slate-900",children:s.value}),S.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mt-1",children:s.label})]},r))});if(i.type==="pie"){let s=0;const r=i.data.reduce((p,g)=>p+g.value,0),f=i.data.map((p,g)=>{const y=s,m=p.value/r*100;return s+=m,`${t[g%t.length]} ${y}% ${s}%`});return S.jsxs("div",{className:"flex items-center gap-6",children:[S.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0",children:[S.jsx("div",{className:"w-full h-full rounded-full",style:{background:`conic-gradient(${f.join(", ")})`}}),S.jsx("div",{className:"absolute inset-3 bg-white rounded-full shadow-inner flex items-center justify-center",children:S.jsx(j.PieChart,{className:"w-6 h-6 text-slate-300"})})]}),S.jsx("div",{className:"space-y-1 flex-1",children:i.data.map((p,g)=>S.jsxs("div",{className:"flex justify-between items-center text-xs",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t[g%t.length]}}),S.jsx("span",{className:"text-slate-600 font-medium truncate max-w-[120px]",title:p.label,children:p.label})]}),S.jsx("span",{className:"font-bold text-slate-900",children:p.value})]},g))})]})}if(i.type==="radar"){const p=Math.PI*2/i.data.length,g=Math.max(...i.data.map(m=>m.value))||1,y=i.data.map((m,v)=>{const x=m.value/g*80,E=100+x*Math.cos(v*p-Math.PI/2),C=100+x*Math.sin(v*p-Math.PI/2);return`${E},${C}`}).join(" ");return S.jsx("div",{className:"relative h-64 w-full flex items-center justify-center bg-slate-50 rounded-lg overflow-hidden border border-slate-100",children:S.jsxs("svg",{width:200,height:200,viewBox:"0 0 200 200",children:[[.2,.4,.6,.8,1].map(m=>S.jsx("circle",{cx:100,cy:100,r:80*m,fill:"none",stroke:"#e2e8f0",strokeWidth:"1"},m)),i.data.map((m,v)=>{const x=100+80*Math.cos(v*p-Math.PI/2),E=100+80*Math.sin(v*p-Math.PI/2);return S.jsx("line",{x1:100,y1:100,x2:x,y2:E,stroke:"#e2e8f0",strokeWidth:"1"},v)}),S.jsx("polygon",{points:y,fill:"rgba(99, 102, 241, 0.2)",stroke:"#6366f1",strokeWidth:"2"}),i.data.map((m,v)=>{const E=100+95*Math.cos(v*p-Math.PI/2),C=100+95*Math.sin(v*p-Math.PI/2);return S.jsx("text",{x:E,y:C,textAnchor:"middle",dominantBaseline:"middle",fontSize:"9",fill:"#64748b",fontWeight:"bold",children:m.label},v)})]})})}if(i.type==="line"){const p=Math.max(...i.data.map(m=>m.value))||1,g=i.data.map((m,v)=>{const x=20+v/(i.data.length-1)*260,E=140-m.value/p*120;return`${x},${E}`}).join(" "),y=`20,140 ${g} 280,140`;return S.jsx("div",{className:"w-full overflow-hidden flex justify-center bg-slate-50 rounded-lg p-2 border border-slate-100",children:S.jsxs("svg",{width:"100%",height:160,viewBox:"0 0 300 160",preserveAspectRatio:"none",children:[S.jsx("defs",{children:S.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[S.jsx("stop",{offset:"0%",stopColor:"#6366f1",stopOpacity:"0.3"}),S.jsx("stop",{offset:"100%",stopColor:"#6366f1",stopOpacity:"0"})]})}),S.jsx("path",{d:`M ${y} Z`,fill:"url(#areaGradient)",stroke:"none"}),S.jsx("polyline",{points:g,fill:"none",stroke:"#6366f1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.data.map((m,v)=>{const x=20+v/(i.data.length-1)*260,E=140-m.value/p*120;return S.jsx("circle",{cx:x,cy:E,r:"3",fill:"#ffffff",stroke:"#6366f1",strokeWidth:"2"},v)})]})})}const o=Math.max(...i.data.map(s=>s.value));return S.jsx("div",{className:"space-y-3 pt-2",children:i.data.map((s,r)=>S.jsxs("div",{className:"space-y-1",children:[S.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-600",children:[S.jsx("span",{children:s.label}),S.jsx("span",{children:s.value})]}),S.jsx("div",{className:"w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full rounded-full transition-all duration-1000",style:{width:`${s.value/o*100}%`,backgroundColor:t[r%t.length]}})})]},r))})};var PS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let BS,OS;function FS(){return{geminiUrl:BS,vertexUrl:OS}}function YS(i,t,o,s){var r,f;if(!(i!=null&&i.baseUrl)){const p=FS();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class In{}function Z(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];c(v,t.slice(f+1),o[m])}else for(const m of y)c(m,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return o;const r=t[s];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function JS(i,t){for(const[o,s]of Object.entries(t)){const r=o.split("."),f=s.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const m=f[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}Du(i,r,f,0,p)}}function Du(i,t,o,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const f=t[s];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Du(y,t,o,s+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,v]of Object.entries(y)){const x=[];for(const E of o.slice(s))E==="*"?x.push(m):x.push(E);c(p,x,v)}for(const m of g)delete p[m]}}else{const p=i;f in p&&Du(p[f],t,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XS(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&c(t,["_url","resourceName"],s),t}function KS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],$S(p)),t}function QS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],ZS(p)),t}function $S(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>WS(p))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function ZS(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>jS(p))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function WS(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],oT(o)),t}function jS(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],sT(o)),t}function eT(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function tT(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function nT(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],iT(p)),t}function iT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Xm(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],lT(p)),t}function lT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function oT(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Xu(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function sT(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Xu(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(fh||(fh={}));var dh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(dh||(dh={}));var ph;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(ph||(ph={}));var k;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(k||(k={}));var hh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hh||(hh={}));var mh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(mh||(mh={}));var gh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(gh||(gh={}));var yh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(yh||(yh={}));var vh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(vh||(vh={}));var Sh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Sh||(Sh={}));var Th;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Th||(Th={}));var xh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(xh||(xh={}));var Eh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Eh||(Eh={}));var _h;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(_h||(_h={}));var Ch;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Ch||(Ch={}));var Ah;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Ah||(Ah={}));var Nh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Nh||(Nh={}));var bh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bh||(bh={}));var Rh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Rh||(Rh={}));var Mh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Mh||(Mh={}));var wh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(wh||(wh={}));var Zs;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Zs||(Zs={}));var Ih;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ih||(Ih={}));var Dh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Dh||(Dh={}));var Uh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Uh||(Uh={}));var Uu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Uu||(Uu={}));var kh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kh||(kh={}));var Gh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Gh||(Gh={}));var Lh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Lh||(Lh={}));var Hh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Hh||(Hh={}));var qh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(qh||(qh={}));var Vh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Vh||(Vh={}));var zh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(zh||(zh={}));var Ph;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ph||(Ph={}));var Bh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bh||(Bh={}));var Oh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Oh||(Oh={}));var Fh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Fh||(Fh={}));var Yh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Yh||(Yh={}));var Jh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Jh||(Jh={}));var Xh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Xh||(Xh={}));var Kh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Kh||(Kh={}));var Qh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Qh||(Qh={}));var $h;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})($h||($h={}));var Zh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Zh||(Zh={}));var Wh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Wh||(Wh={}));var jh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(jh||(jh={}));var em;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(em||(em={}));var tm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(tm||(tm={}));var nm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nm||(nm={}));var im;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(im||(im={}));var lm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(lm||(lm={}));var om;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(om||(om={}));var sm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sm||(sm={}));var am;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(am||(am={}));var fl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(fl||(fl={}));class ku{constructor(t){const o={};for(const s of t.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Eo{get text(){var t,o,s,r,f,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const x=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,U]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(U!==null||U!==void 0)&&x.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,o,s,r,f,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const x of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(x))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);x.inlineData&&typeof x.inlineData.data=="string"&&(m+=atob(x.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,s,r,f,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,s,r,f,p,g,y,m;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,s,r,f,p,g,y,m;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class rm{}class um{}class aT{}class rT{}class uT{}class cT{}class cm{}class fm{}class dm{}class fT{}class Ws{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Ws;let r;const f=t;return o?r=QS(f):r=KS(f),Object.assign(s,r),s}}class pm{}class hm{}class mm{}class gm{}class dT{}class pT{}class hT{}class Ku{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Ku,f=nT(t);return Object.assign(s,f),s}}class mT{}class gT{}class yT{}class ym{}class vT{get text(){var t,o,s;let r="",f=!1;const p=[];for(const g of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,s;let r="";const f=[];for(const p of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ST{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Qu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Qu,f=Xm(t);return Object.assign(s,f),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function He(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Km(i,t){const o=He(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Qm(i){return Array.isArray(i)?i.map(t=>js(t)):[js(i)]}function js(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function $m(i){const t=js(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Zm(i){const t=js(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function vm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Wm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>vm(t)):[vm(i)]}function Gu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Sm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Tm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Tt(i){if(i==null)throw new Error("ContentUnion is required");return Gu(i)?i:{role:"user",parts:Wm(i)}}function $u(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const s=Tt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=Tt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>Tt(o)):[Tt(t)]}function Kt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Sm(i)||Tm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Tt(i)]}const t=[],o=[],s=Gu(i[0]);for(const r of i){const f=Gu(r);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Sm(r)||Tm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||t.push({role:"user",parts:Wm(o)}),t}function TT(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)t.type=Object.values(k).includes(o[0].toUpperCase())?o[0].toUpperCase():k.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of o)t.anyOf.push({type:Object.values(k).includes(s.toUpperCase())?s.toUpperCase():k.TYPE_UNSPECIFIED})}}function pl(i){const t={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&TT(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(k).includes(g.toUpperCase())?g.toUpperCase():k.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=pl(g);else if(s.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(pl(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,v]of Object.entries(g))y[m]=pl(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Zu(i){return pl(i)}function Wu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function ju(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ml(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=pl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=pl(t.response));return i}function gl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function xT(i,t,o,s=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Dn(i,t){if(typeof t!="string")throw new Error("name must be a string");return xT(i,t,"cachedContents")}function jm(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ii(i){return Xu(i)}function ET(i){return i!=null&&typeof i=="object"&&"name"in i}function _T(i){return i!=null&&typeof i=="object"&&"video"in i}function CT(i){return i!=null&&typeof i=="object"&&"uri"in i}function eg(i){var t;let o;if(ET(i)&&(o=i.name),!(CT(i)&&(o=i.uri,o===void 0))&&!(_T(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function tg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function ng(i){for(const t of["models","tunedModels","publisherModels"])if(AT(i,t))return i[t];return[]}function AT(i,t){return i!==null&&typeof i=="object"&&t in i}function NT(i,t={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function bT(i,t={}){const o=[],s=new Set;for(const r of i){const f=r.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const p=NT(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function ig(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function RT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function lg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function yl(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function og(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MT(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>ux(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function wT(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function IT(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Qs(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],og(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&c(t,["dest"],MT(lg(m))),t}function Lu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["state"]);r!=null&&c(t,["state"],og(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const x=u(i,["inputConfig"]);x!=null&&c(t,["src"],DT(x));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],wT(lg(E)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function DT(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function UT(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>rx(i,p))),c(o,["requests","requests"],f)}return o}function kT(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function GT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function LT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],yl(i,s)),o}function HT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],yl(i,s)),o}function qT(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],VT(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const x=u(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function VT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function sg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>gx(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function zT(i,t){const o={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&c(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function PT(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],IT(RT(r))),o}function xm(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],UT(i,ig(i,r)));const f=u(t,["config"]);return f!=null&&zT(f,o),o}function BT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],He(i,s));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],kT(ig(i,r)));const f=u(t,["config"]);return f!=null&&PT(f,o),o}function OT(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["batch","displayName"],s),o}function FT(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],ZT(i,r));const f=u(t,["config"]);return f!=null&&OT(f,o),o}function YT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],yl(i,s)),o}function JT(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],yl(i,s)),o}function XT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function KT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function QT(i,t){const o={},s=u(t,["contents"]);if(s!=null){let f=$u(i,s);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],$T(r,o)),JS(o,{"requests[].*":"requests[].request.*"})),o}function $T(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function ZT(i,t){const o={},s=u(t,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],QT(i,r)),o}function WT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function jT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ex(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function tx(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],sg(Tt(r)));const f=u(t,["temperature"]);f!=null&&c(s,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(s,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const x=u(t,["responseLogprobs"]);x!=null&&c(s,["responseLogprobs"],x);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const U=u(t,["frequencyPenalty"]);U!=null&&c(s,["frequencyPenalty"],U);const q=u(t,["seed"]);q!=null&&c(s,["seed"],q);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const H=u(t,["responseSchema"]);H!=null&&c(s,["responseSchema"],Zu(H));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(s,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=u(t,["safetySettings"]);if(o!==void 0&&Y!=null){let _e=Y;Array.isArray(_e)&&(_e=_e.map(Re=>yx(Re))),c(o,["safetySettings"],_e)}const Q=u(t,["tools"]);if(o!==void 0&&Q!=null){let _e=gl(Q);Array.isArray(_e)&&(_e=_e.map(Re=>Sx(ml(Re)))),c(o,["tools"],_e)}const W=u(t,["toolConfig"]);if(o!==void 0&&W!=null&&c(o,["toolConfig"],vx(W)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=u(t,["cachedContent"]);o!==void 0&&se!=null&&c(o,["cachedContent"],Dn(i,se));const K=u(t,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const ge=u(t,["mediaResolution"]);ge!=null&&c(s,["mediaResolution"],ge);const ee=u(t,["speechConfig"]);if(ee!=null&&c(s,["speechConfig"],Wu(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=u(t,["thinkingConfig"]);ye!=null&&c(s,["thinkingConfig"],ye);const ve=u(t,["imageConfig"]);ve!=null&&c(s,["imageConfig"],ax(ve));const Ve=u(t,["enableEnhancedCivicAnswers"]);return Ve!=null&&c(s,["enableEnhancedCivicAnswers"],Ve),s}function nx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>qT(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function ix(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],yl(i,s)),o}function lx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],yl(i,s)),o}function ox(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function sx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function ax(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function rx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["request","model"],He(i,s));const r=u(t,["contents"]);if(r!=null){let g=Kt(r);Array.isArray(g)&&(g=g.map(y=>sg(y))),c(o,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],tx(i,p,u(o,["request"],{}))),o}function ux(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],nx(o));const s=u(i,["error"]);return s!=null&&c(t,["error"],s),t}function cx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function fx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function dx(i){const t={},o=u(i,["config"]);return o!=null&&cx(o,t),t}function px(i){const t={},o=u(i,["config"]);return o!=null&&fx(o,t),t}function hx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Qs(p))),c(t,["batchJobs"],f)}return t}function mx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Lu(p))),c(t,["batchJobs"],f)}return t}function gx(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],WT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],jT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],GT(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function yx(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function vx(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(t,["functionCallingConfig"],ex(s)),t}function Sx(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],ox(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],sx(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(wn||(wn={}));class Ci{constructor(t,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,s,r)}init(t,o,s){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tx extends In{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ci(wn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=xm(this.apiClient,t),s=o._url,r=Z("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const x=Object.assign({},v);if(x.systemInstruction){const E=x.systemInstruction;delete x.systemInstruction;const C=x.request;C.systemInstruction=E,x.request=C}m.push(x)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?s.dest=`${f.slice(0,-6)}/dest`:s.dest=`${f}_dest_${r}`;else if(p)s.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=BT(this.apiClient,t);return g=Z("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>Lu(v))}else{const m=xm(this.apiClient,t);return g=Z("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Qs(v))}}async createEmbeddingsInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FT(this.apiClient,t);return f=Z("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Qs(y))}}async get(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=lx(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>Lu(v))}else{const m=ix(this.apiClient,t);return g=Z("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Qs(v))}}async cancel(t){var o,s,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=HT(this.apiClient,t);p=Z("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=LT(this.apiClient,t);p=Z("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=px(t);return g=Z("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=mx(v),E=new ym;return Object.assign(E,x),E})}else{const m=dx(t);return g=Z("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=hx(v),E=new ym;return Object.assign(E,x),E})}}async delete(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=JT(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>KT(v))}else{const m=YT(this.apiClient,t);return g=Z("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>XT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xx(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Em(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>Fx(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function Ex(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Kt(p);Array.isArray(v)&&(v=v.map(x=>Em(x))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Em(Tt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(x=>Jx(x))),c(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],Yx(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function _x(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let x=Kt(p);Array.isArray(x)&&(x=x.map(E=>E)),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Tt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(E=>Xx(E))),c(t,["tools"],x)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function Cx(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Km(i,s));const r=u(t,["config"]);return r!=null&&Ex(r,o),o}function Ax(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["model"],Km(i,s));const r=u(t,["config"]);return r!=null&&_x(r,o),o}function Nx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],Dn(i,s)),o}function bx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],Dn(i,s)),o}function Rx(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Mx(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function wx(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Ix(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Dx(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Ux(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function kx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],Dn(i,s)),o}function Gx(i,t){const o={},s=u(t,["name"]);return s!=null&&c(o,["_url","name"],Dn(i,s)),o}function Lx(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function Hx(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function qx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function Vx(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function zx(i){const t={},o=u(i,["config"]);return o!=null&&qx(o,t),t}function Px(i){const t={},o=u(i,["config"]);return o!=null&&Vx(o,t),t}function Bx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function Ox(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function Fx(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],wx(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],Ix(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],xx(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function Yx(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(t,["functionCallingConfig"],Dx(s)),t}function Jx(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],Lx(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],Hx(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function Xx(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(E=>Ux(E))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function Kx(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function Qx(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function $x(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],Dn(i,s));const r=u(t,["config"]);return r!=null&&Kx(r,o),o}function Zx(i,t){const o={},s=u(t,["name"]);s!=null&&c(o,["_url","name"],Dn(i,s));const r=u(t,["config"]);return r!=null&&Qx(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx extends In{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ci(wn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Ax(this.apiClient,t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=Cx(this.apiClient,t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Gx(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=kx(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=bx(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=Mx(v),E=new mm;return Object.assign(E,x),E})}else{const m=Nx(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=Rx(v),E=new mm;return Object.assign(E,x),E})}}async update(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Zx(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=$x(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Px(t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=Ox(v),E=new gm;return Object.assign(E,x),E})}else{const m=zx(t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=Bx(v),E=new gm;return Object.assign(E,x),E})}}}function ea(i,t){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function _m(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function he(i){return this instanceof he?(this.v=i,this):new he(i)}function jt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(U){return Promise.resolve(U).then(C,x)}}function g(C,U){s[C]&&(r[C]=function(q){return new Promise(function(R,H){f.push([C,q,R,H])>1||y(C,q)})},U&&(r[C]=U(r[C])))}function y(C,U){try{m(s[C](U))}catch(q){E(f[0][3],q)}}function m(C){C.value instanceof he?Promise.resolve(C.value.v).then(v,x):E(f[0][2],C)}function v(C){y("next",C)}function x(C){y("throw",C)}function E(C,U){C(U),f.shift(),f.length&&y(f[0][0],f[0][1])}}function en(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof _m=="function"?_m(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jx(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ag(o)}function ag(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function eE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Cm(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let f=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),f&&!ag(i[s])&&(f=!1),s++;f?t.push(...r):t.pop()}return t}class tE{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new nE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class nE{constructor(t,o,s,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=s,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),eE(f)}async sendMessage(t){var o;await this.sendPromise;const s=Tt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,m=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(x))!==null&&g!==void 0?g:[]);const C=m?[m]:[];this.recordHistory(s,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const s=Tt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,s)}getHistory(t=!1){const o=t?Cm(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return jt(this,arguments,function*(){var r,f,p,g,y,m;const v=[];try{for(var x=!0,E=en(t),C;C=yield he(E.next()),r=C.done,!r;x=!0){g=C.value,x=!1;const U=g;if(jx(U)){const q=(m=(y=U.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;q!==void 0&&v.push(q)}yield yield he(U)}}catch(U){f={error:U}}finally{try{!x&&!r&&(p=E.return)&&(yield he(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,s){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Cm(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ia extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ia.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iE(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function lE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function oE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],eg(o)),t}function sE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function aE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],eg(o)),t}function rE(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function uE(i){const t={},o=u(i,["config"]);return o!=null&&rE(o,t),t}function cE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fE extends In{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ci(wn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uE(t);return f=Z("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=cE(y),v=new mT;return Object.assign(v,m),v})}}async createInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iE(t);return f=Z("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=lE(y),v=new gT;return Object.assign(v,m),v})}}async get(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aE(t);return f=Z("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oE(t);return f=Z("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=sE(y),v=new yT;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $s(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function dE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>RE(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function pE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function hE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function mE(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function gE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const x=u(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const U=u(i,["responseModalities"]);U!=null&&c(t,["responseModalities"],U);const q=u(i,["responseSchema"]);q!=null&&c(t,["responseSchema"],q);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const H=u(i,["seed"]);H!=null&&c(t,["seed"],H);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const Y=u(i,["stopSequences"]);Y!=null&&c(t,["stopSequences"],Y);const Q=u(i,["temperature"]);Q!=null&&c(t,["temperature"],Q);const W=u(i,["thinkingConfig"]);W!=null&&c(t,["thinkingConfig"],W);const se=u(i,["topK"]);se!=null&&c(t,["topK"],se);const K=u(i,["topP"]);if(K!=null&&c(t,["topP"],K),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function yE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function vE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function SE(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],ju(x));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],dE(Tt(U)));const q=u(i,["tools"]);if(t!==void 0&&q!=null){let se=gl(q);Array.isArray(se)&&(se=se.map(K=>wE(ml(K)))),c(t,["setup","tools"],se)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],ME(R));const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const Q=u(i,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const W=u(i,["proactivity"]);if(t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function TE(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],gE(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],ju(x));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],Tt(U));const q=u(i,["tools"]);if(t!==void 0&&q!=null){let K=gl(q);Array.isArray(K)&&(K=K.map(ge=>IE(ml(ge)))),c(t,["setup","tools"],K)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],R);const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const Q=u(i,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const W=u(i,["proactivity"]);t!==void 0&&W!=null&&c(t,["setup","proactivity"],W);const se=u(i,["explicitVadSignal"]);return t!==void 0&&se!=null&&c(t,["setup","explicitVadSignal"],se),o}function xE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],He(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],SE(r,o)),o}function EE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],He(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],TE(r,o)),o}function _E(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function CE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["weightedPrompts"],s)}return t}function AE(i){const t={},o=u(i,["media"]);if(o!=null){let m=Qm(o);Array.isArray(m)&&(m=m.map(v=>$s(v))),c(t,["mediaChunks"],m)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],$s(Zm(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],$s($m(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function NE(i){const t={},o=u(i,["media"]);if(o!=null){let m=Qm(o);Array.isArray(m)&&(m=m.map(v=>v)),c(t,["mediaChunks"],m)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],Zm(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],$m(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function bE(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&c(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],DE(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const m=u(i,["voiceActivityDetectionSignal"]);return m!=null&&c(t,["voiceActivityDetectionSignal"],m),t}function RE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],pE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],hE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],$s(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function ME(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function wE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],yE(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],vE(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function IE(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(E=>mE(E))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function DE(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(U=>U)),c(t,["promptTokensDetails"],C)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(U=>U)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(U=>U)),c(t,["responseTokensDetails"],C)}const x=u(i,["toolUsePromptTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(U=>U)),c(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UE(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function kE(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],GE(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const x=u(i,["urlContextMetadata"]);return x!=null&&c(t,["urlContextMetadata"],x),t}function GE(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function LE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["contents"]);if(r!=null){let f=Kt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function HE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function qE(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const s=u(i,["statistics"]);return s!=null&&c(t,["statistics"],VE(s)),t}function VE(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const s=u(i,["token_count"]);return s!=null&&c(t,["tokenCount"],s),t}function la(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>K_(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function zE(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const s=u(i,["enableControlImageComputation"]);return s!=null&&c(t,["computeControl"],s),t}function PE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function BE(i,t){const o={},s=u(i,["systemInstruction"]);t!==void 0&&s!=null&&c(t,["systemInstruction"],Tt(s));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>fg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],U_(f)),o}function OE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["contents"]);if(r!=null){let p=Kt(r);Array.isArray(p)&&(p=p.map(g=>la(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&PE(f),o}function FE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["contents"]);if(r!=null){let p=Kt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&BE(f,o),o}function YE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);s!=null&&c(t,["totalTokens"],s);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function JE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);return s!=null&&c(t,["totalTokens"],s),t}function XE(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],He(i,s)),o}function KE(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],He(i,s)),o}function QE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function $E(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ZE(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=u(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const U=u(i,["outputMimeType"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","mimeType"],U);const q=u(i,["outputCompressionQuality"]);t!==void 0&&q!=null&&c(t,["parameters","outputOptions","compressionQuality"],q);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const H=u(i,["labels"]);t!==void 0&&H!=null&&c(t,["labels"],H);const X=u(i,["editMode"]);t!==void 0&&X!=null&&c(t,["parameters","editMode"],X);const Y=u(i,["baseSteps"]);return t!==void 0&&Y!=null&&c(t,["parameters","editConfig","baseSteps"],Y),o}function WE(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>eC(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&ZE(p,o),o}function jE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>oa(f))),c(t,["generatedImages"],r)}return t}function e_(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function t_(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["instances[]","task_type"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function n_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["contents"]);if(r!=null){let g=$u(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&e_(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],He(i,p)),o}function i_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["contents"]);if(r!=null){let p=$u(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&t_(f,o),o}function l_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function o_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>qE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function s_(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const s=u(i,["deployedModelId"]);return s!=null&&c(t,["deployedModelId"],s),t}function a_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function r_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function u_(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function c_(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function f_(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],la(Tt(r)));const f=u(t,["temperature"]);f!=null&&c(s,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(s,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const x=u(t,["responseLogprobs"]);x!=null&&c(s,["responseLogprobs"],x);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const U=u(t,["frequencyPenalty"]);U!=null&&c(s,["frequencyPenalty"],U);const q=u(t,["seed"]);q!=null&&c(s,["seed"],q);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const H=u(t,["responseSchema"]);H!=null&&c(s,["responseSchema"],Zu(H));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(s,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=u(t,["safetySettings"]);if(o!==void 0&&Y!=null){let _e=Y;Array.isArray(_e)&&(_e=_e.map(Re=>tC(Re))),c(o,["safetySettings"],_e)}const Q=u(t,["tools"]);if(o!==void 0&&Q!=null){let _e=gl(Q);Array.isArray(_e)&&(_e=_e.map(Re=>rC(ml(Re)))),c(o,["tools"],_e)}const W=u(t,["toolConfig"]);if(o!==void 0&&W!=null&&c(o,["toolConfig"],aC(W)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const se=u(t,["cachedContent"]);o!==void 0&&se!=null&&c(o,["cachedContent"],Dn(i,se));const K=u(t,["responseModalities"]);K!=null&&c(s,["responseModalities"],K);const ge=u(t,["mediaResolution"]);ge!=null&&c(s,["mediaResolution"],ge);const ee=u(t,["speechConfig"]);if(ee!=null&&c(s,["speechConfig"],Wu(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=u(t,["thinkingConfig"]);ye!=null&&c(s,["thinkingConfig"],ye);const ve=u(t,["imageConfig"]);ve!=null&&c(s,["imageConfig"],q_(ve));const Ve=u(t,["enableEnhancedCivicAnswers"]);return Ve!=null&&c(s,["enableEnhancedCivicAnswers"],Ve),s}function d_(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Tt(r));const f=u(t,["temperature"]);f!=null&&c(s,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(s,["topP"],p);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(s,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const x=u(t,["responseLogprobs"]);x!=null&&c(s,["responseLogprobs"],x);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(s,["presencePenalty"],C);const U=u(t,["frequencyPenalty"]);U!=null&&c(s,["frequencyPenalty"],U);const q=u(t,["seed"]);q!=null&&c(s,["seed"],q);const R=u(t,["responseMimeType"]);R!=null&&c(s,["responseMimeType"],R);const H=u(t,["responseSchema"]);H!=null&&c(s,["responseSchema"],Zu(H));const X=u(t,["responseJsonSchema"]);X!=null&&c(s,["responseJsonSchema"],X);const Y=u(t,["routingConfig"]);Y!=null&&c(s,["routingConfig"],Y);const Q=u(t,["modelSelectionConfig"]);Q!=null&&c(s,["modelConfig"],Q);const W=u(t,["safetySettings"]);if(o!==void 0&&W!=null){let M=W;Array.isArray(M)&&(M=M.map(F=>F)),c(o,["safetySettings"],M)}const se=u(t,["tools"]);if(o!==void 0&&se!=null){let M=gl(se);Array.isArray(M)&&(M=M.map(F=>fg(ml(F)))),c(o,["tools"],M)}const K=u(t,["toolConfig"]);o!==void 0&&K!=null&&c(o,["toolConfig"],K);const ge=u(t,["labels"]);o!==void 0&&ge!=null&&c(o,["labels"],ge);const ee=u(t,["cachedContent"]);o!==void 0&&ee!=null&&c(o,["cachedContent"],Dn(i,ee));const ye=u(t,["responseModalities"]);ye!=null&&c(s,["responseModalities"],ye);const ve=u(t,["mediaResolution"]);ve!=null&&c(s,["mediaResolution"],ve);const Ve=u(t,["speechConfig"]);Ve!=null&&c(s,["speechConfig"],Wu(Ve));const _e=u(t,["audioTimestamp"]);_e!=null&&c(s,["audioTimestamp"],_e);const Re=u(t,["thinkingConfig"]);Re!=null&&c(s,["thinkingConfig"],Re);const te=u(t,["imageConfig"]);if(te!=null&&c(s,["imageConfig"],V_(te)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function Am(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["contents"]);if(r!=null){let p=Kt(r);Array.isArray(p)&&(p=p.map(g=>la(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],f_(i,f,o)),o}function Nm(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["contents"]);if(r!=null){let p=Kt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],d_(i,f,o)),o}function bm(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>kE(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Rm(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),c(t,["candidates"],m)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function p_(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function h_(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=u(i,["includeSafetyAttributes"]);t!==void 0&&x!=null&&c(t,["parameters","includeSafetyAttributes"],x);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const U=u(i,["outputMimeType"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","mimeType"],U);const q=u(i,["outputCompressionQuality"]);t!==void 0&&q!=null&&c(t,["parameters","outputOptions","compressionQuality"],q);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const H=u(i,["labels"]);t!==void 0&&H!=null&&c(t,["labels"],H);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&c(t,["parameters","sampleImageSize"],X);const Y=u(i,["enhancePrompt"]);return t!==void 0&&Y!=null&&c(t,["parameters","enhancePrompt"],Y),o}function m_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&p_(f,o),o}function g_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&h_(f,o),o}function y_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>M_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ug(r)),t}function v_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>oa(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],cg(r)),t}function S_(i,t){const o={},s=u(i,["numberOfVideos"]);if(t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(i,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],sa(v));const x=u(i,["referenceImages"]);if(t!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>xC(C))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function T_(i,t){const o={},s=u(i,["numberOfVideos"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const x=u(i,["pubsubTopic"]);t!==void 0&&x!=null&&c(t,["parameters","pubsubTopic"],x);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const U=u(i,["generateAudio"]);t!==void 0&&U!=null&&c(t,["parameters","generateAudio"],U);const q=u(i,["lastFrame"]);t!==void 0&&q!=null&&c(t,["instances[0]","lastFrame"],tn(q));const R=u(i,["referenceImages"]);if(t!==void 0&&R!=null){let Y=R;Array.isArray(Y)&&(Y=Y.map(Q=>EC(Q))),c(t,["instances[0]","referenceImages"],Y)}const H=u(i,["mask"]);t!==void 0&&H!=null&&c(t,["instances[0]","mask"],TC(H));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&c(t,["parameters","compressionQuality"],X),o}function x_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],A_(p)),t}function E_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],N_(p)),t}function __(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],sa(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],dg(p));const g=u(t,["source"]);g!=null&&b_(g,o);const y=u(t,["config"]);return y!=null&&S_(y,o),o}function C_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],tn(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],pg(p));const g=u(t,["source"]);g!=null&&R_(g,o);const y=u(t,["config"]);return y!=null&&T_(y,o),o}function A_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>I_(p))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function N_(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>D_(p))),c(t,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function b_(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],sa(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],dg(f)),o}function R_(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],tn(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],pg(f)),o}function M_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],z_(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],ug(r)),t}function oa(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],rg(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],cg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function w_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],rg(o));const s=u(i,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function I_(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],vC(o)),t}function D_(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],SC(o)),t}function U_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const x=u(i,["presencePenalty"]);x!=null&&c(t,["presencePenalty"],x);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const U=u(i,["responseModalities"]);U!=null&&c(t,["responseModalities"],U);const q=u(i,["responseSchema"]);q!=null&&c(t,["responseSchema"],q);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const H=u(i,["seed"]);H!=null&&c(t,["seed"],H);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const Y=u(i,["stopSequences"]);Y!=null&&c(t,["stopSequences"],Y);const Q=u(i,["temperature"]);Q!=null&&c(t,["temperature"],Q);const W=u(i,["thinkingConfig"]);W!=null&&c(t,["thinkingConfig"],W);const se=u(i,["topK"]);se!=null&&c(t,["topK"],se);const K=u(i,["topP"]);if(K!=null&&c(t,["topP"],K),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function k_(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],He(i,s)),o}function G_(i,t){const o={},s=u(t,["model"]);return s!=null&&c(o,["_url","name"],He(i,s)),o}function L_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function H_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function q_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function V_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const s=u(i,["imageSize"]);s!=null&&c(t,["imageSize"],s);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(i,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const p=u(i,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function z_(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],ii(o));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function rg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["imageBytes"],ii(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function sa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],ii(o));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function tn(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["imageBytes"]);s!=null&&c(t,["bytesBase64Encoded"],ii(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function P_(i,t,o){const s={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],tg(i,g)),s}function B_(i,t,o){const s={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],tg(i,g)),s}function O_(i,t){const o={},s=u(t,["config"]);return s!=null&&P_(i,s,o),o}function F_(i,t){const o={},s=u(t,["config"]);return s!=null&&B_(i,s,o),o}function Y_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let f=ng(r);Array.isArray(f)&&(f=f.map(p=>Hu(p))),c(t,["models"],f)}return t}function J_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let f=ng(r);Array.isArray(f)&&(f=f.map(p=>qu(p))),c(t,["models"],f)}return t}function X_(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const s=u(i,["segmentationClasses"]);s!=null&&c(t,["maskClasses"],s);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Hu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],uC(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(i,["supportedGenerationMethods"]);m!=null&&c(t,["supportedActions"],m);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const x=u(i,["maxTemperature"]);x!=null&&c(t,["maxTemperature"],x);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const U=u(i,["thinking"]);return U!=null&&c(t,["thinking"],U),t}function qu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(E=>s_(E))),c(t,["endpoints"],x)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],cC(y));const m=u(i,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const v=u(i,["checkpoints"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(E=>E)),c(t,["checkpoints"],x)}return t}function K_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],a_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],r_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],UE(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function Q_(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],tn(o)),t}function $_(i,t){const o={},s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(i,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const x=u(i,["outputCompressionQuality"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function Z_(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["source"]);r!=null&&j_(r,o);const f=u(t,["config"]);return f!=null&&$_(f,o),o}function W_(i){const t={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>oa(r))),c(t,["generatedImages"],s)}return t}function j_(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],tn(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Q_(g))),c(t,["instances[0]","productImages"],p)}return o}function eC(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],tn(o));const s=u(i,["referenceId"]);s!=null&&c(t,["referenceId"],s);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],X_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],zE(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function ug(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function cg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function tC(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function nC(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],tn(o)),t}function iC(i,t){const o={},s=u(i,["mode"]);t!==void 0&&s!=null&&c(t,["parameters","mode"],s);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function lC(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["source"]);r!=null&&sC(r,o);const f=u(t,["config"]);return f!=null&&iC(f,o),o}function oC(i){const t={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>w_(r))),c(t,["generatedMasks"],s)}return t}function sC(i,t){const o={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],tn(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],nC(f)),o}function aC(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(t,["functionCallingConfig"],u_(s)),t}function rC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],L_(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],H_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function fg(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(E=>c_(E))),c(t,["functionDeclarations"],x)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function uC(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function cC(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function fC(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function dC(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function pC(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","name"],He(i,s));const r=u(t,["config"]);return r!=null&&fC(r,o),o}function hC(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["config"]);return r!=null&&dC(r,o),o}function mC(i,t){const o={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(i,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const x=u(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function gC(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["_url","model"],He(i,s));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],tn(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&mC(p,o),o}function yC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>oa(f))),c(t,["generatedImages"],r)}return t}function vC(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],ii(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function SC(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],ii(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function TC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],tn(o));const s=u(i,["maskMode"]);return s!=null&&c(t,["maskMode"],s),t}function xC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],sa(o));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function EC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],tn(o));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function dg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const s=u(i,["videoBytes"]);s!=null&&c(t,["encodedVideo"],ii(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function pg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const s=u(i,["videoBytes"]);s!=null&&c(t,["bytesBase64Encoded"],ii(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["displayName"],s),o}function CC(i){const t={},o=u(i,["config"]);return o!=null&&_C(o,t),t}function AC(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function NC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&AC(s,t),t}function bC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function RC(i,t){const o={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function MC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],IC(p)),t}function wC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&c(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&RC(r,t),t}function IC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function DC(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function UC(i){const t={},o=u(i,["config"]);return o!=null&&DC(o,t),t}function kC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function hg(i,t){const o={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&c(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function GC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&hg(s,t),t}function LC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HC="Content-Type",qC="X-Server-Timeout",VC="User-Agent",Vu="x-goog-api-client",zC="1.35.0",PC=`google-genai-sdk/${zC}`,BC="v1beta1",OC="v1beta";class FC{constructor(t){var o,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:BC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:OC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,s);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const s=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?s[r]=Object.assign(Object.assign({},s[r]),f):f!==void 0&&(s[r]=f);return s}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,s,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&YC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,s),t}async unaryApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Mm(r),new ku(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await Mm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return jt(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield he(r.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const x=f.decode(v,{stream:!0});try{const U=JSON.parse(x);if("error"in U){const q=JSON.parse(JSON.stringify(U.error)),R=q.status,H=q.code,X=`got status: ${R}. ${JSON.stringify(U)}`;if(H>=400&&H<600)throw new ia({message:X,status:H})}}catch(U){if(U.name==="ApiError")throw U}p+=x;let E=-1,C=0;for(;;){E=-1,C=0;for(const R of y){const H=p.indexOf(R);H!==-1&&(E===-1||H<E)&&(E=H,C=R.length)}if(E===-1)break;const U=p.substring(0,E);p=p.substring(E+C);const q=U.trim();if(q.startsWith(g)){const R=q.substring(g.length).trim();try{const H=new Response(R,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield he(new ku(H))}catch(H){throw new Error(`exception parsing stream chunk ${R}. ${H}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},o=PC+" "+this.clientOptions.userAgentExtra;return t[VC]=o,t[Vu]=o,t[HC]="application/json",t}async getHeadersInternal(t,o){const s=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))s.append(r,f);t.timeout&&t.timeout>0&&s.append(qC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(t){var o;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(t,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=Z("upload/v1beta/files",y._url),x=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,o==null?void 0:o.httpOptions);return f.upload(t,x,this)}async uploadFileToFileSearchStore(t,o,s){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),x={};s!=null&&hg(s,x);const E=await this.fetchUploadUrl(m,g,y,v,x,s==null?void 0:s.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,s,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Mm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new ia({message:r,status:o}):new Error(r)}}function YC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=s(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JC="mcp_used/unknown";let XC=!1;function mg(i){for(const t of i)if(KC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return XC}function gg(i){var t;const o=(t=i[Vu])!==null&&t!==void 0?t:"";i[Vu]=(o+` ${JC}`).trimStart()}function KC(i){return i!==null&&typeof i=="object"&&i instanceof ec}function QC(i){return jt(this,arguments,function*(o,s=100){let r,f=0;for(;f<s;){const p=yield he(o.listTools({cursor:r}));for(const g of p.tools)yield yield he(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class ec{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new ec(t,o)}async initialize(){var t,o,s,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,en(QC(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const x=r;p.push(x);const E=x.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(x){o={error:x}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),bT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:s.name,arguments:s.args},void 0,f);o.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $C(i,t,o){const s=new ST;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),t(s)}class ZC{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s}async connect(t){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=eA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(Y=>{m=Y}),x=t.callbacks,E=function(){m({})},C=this.apiClient,U={onopen:E,onmessage:Y=>{$C(C,x.onmessage,Y)},onerror:(o=x==null?void 0:x.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(s=x==null?void 0:x.onclose)!==null&&s!==void 0?s:function(Y){}},q=this.webSocketFactory.create(y,jC(p),U);q.connect(),await v;const X={setup:{model:He(this.apiClient,t.model)}};return q.send(JSON.stringify(X)),new WC(q,this.apiClient)}}class WC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=CE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=_E(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(fl.PLAY)}pause(){this.sendPlaybackControl(fl.PAUSE)}stop(){this.sendPlaybackControl(fl.STOP)}resetContext(){this.sendPlaybackControl(fl.RESET_CONTEXT)}close(){this.conn.close()}}function jC(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function eA(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nA(i,t,o){const s=new vT;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=bE(f);Object.assign(s,p)}else Object.assign(s,f);t(s)}class iA{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s,this.music=new ZC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,s,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const x=this.apiClient.getHeaders();t.config&&t.config.tools&&mg(t.config.tools)&&gg(x);const E=aA(x);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const ee=this.apiClient.getApiKey();let ye="BidiGenerateContent",ve="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ye="BidiGenerateContentConstrained",ve="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ye}?${ve}=${ee}`}let C=()=>{};const U=new Promise(ee=>{C=ee}),q=t.callbacks,R=function(){var ee;(ee=q==null?void 0:q.onopen)===null||ee===void 0||ee.call(q),C({})},H=this.apiClient,X={onopen:R,onmessage:ee=>{nA(H,q.onmessage,ee)},onerror:(o=q==null?void 0:q.onerror)!==null&&o!==void 0?o:function(ee){},onclose:(s=q==null?void 0:q.onclose)!==null&&s!==void 0?s:function(ee){}},Y=this.webSocketFactory.create(v,sA(E),X);Y.connect(),await U;let Q=He(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Q.startsWith("publishers/")){const ee=this.apiClient.getProject(),ye=this.apiClient.getLocation();Q=`projects/${ee}/locations/${ye}/`+Q}let W={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Zs.AUDIO]}:t.config.responseModalities=[Zs.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const se=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],K=[];for(const ee of se)if(this.isCallableTool(ee)){const ye=ee;K.push(await ye.tool())}else K.push(ee);K.length>0&&(t.config.tools=K);const ge={model:Q,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?W=EE(this.apiClient,ge):W=xE(this.apiClient,ge),delete W.config,Y.send(JSON.stringify(W)),new oA(Y,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const lA={turnComplete:!0};class oA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Kt(o.turns),t.isVertexAI()||(s=s.map(r=>la(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(tA)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},lA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:NE(t)}:o={realtimeInput:AE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function sA(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function aA(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wm=10;function Im(i){var t,o,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(hl(p)){r=!0;break}if(!r)return!0;const f=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function hl(i){return"callTool"in i&&typeof i.callTool=="function"}function rA(i){var t,o,s;return(s=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>hl(r)))!==null&&s!==void 0?s:!1}function Dm(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(hl(s))return;const f=s;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Um(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uA extends In{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var s,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!rA(o)||Im(o.config))return await this.generateContentInternal(y);const m=Dm(o);if(m.length>0){const q=m.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${q}.`)}let v,x;const E=Kt(y.contents),C=(f=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:wm;let U=0;for(;U<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const q=v.candidates[0].content,R=[];for(const H of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(hl(H)){const Y=await H.callTool(v.functionCalls);R.push(...Y)}U++,x={role:"user",parts:R},y.contents=Kt(y.contents),y.contents.push(q),y.contents.push(x),Um(y.config)&&(E.push(q),E.push(x))}return Um(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var s,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),Im(o.config)){const x=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(x)}const y=Dm(o);if(y.length>0){const x=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(f=(r=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let f;const p=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Ci(wn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,s,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>hl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&mg(t.config.tools)){const y=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),gg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,s,r;const f=new Map;for(const p of(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(hl(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(f.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);f.set(m.name,g)}}return f}async processAfcStream(t){var o,s,r;const f=(r=(s=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:wm;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,x){return jt(this,arguments,function*(){for(var E,C,U,q,R,H;g<f;){p&&(g++,p=!1);const W=yield he(m.processParamsMaybeAddMcpUsage(x)),se=yield he(m.generateContentStreamInternal(W)),K=[],ge=[];try{for(var X=!0,Y=(C=void 0,en(se)),Q;Q=yield he(Y.next()),E=Q.done,!E;X=!0){q=Q.value,X=!1;const ee=q;if(yield yield he(ee),ee.candidates&&(!((R=ee.candidates[0])===null||R===void 0)&&R.content)){ge.push(ee.candidates[0].content);for(const ye of(H=ee.candidates[0].content.parts)!==null&&H!==void 0?H:[])if(g<f&&ye.functionCall){if(!ye.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ye.functionCall.name)){const ve=yield he(v.get(ye.functionCall.name).callTool([ye.functionCall]));K.push(...ve)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ye.functionCall.name}`)}}}}catch(ee){C={error:ee}}finally{try{!X&&!E&&(U=Y.return)&&(yield he(U.call(Y)))}finally{if(C)throw C.error}}if(K.length>0){p=!0;const ee=new Eo;ee.candidates=[{content:{role:"user",parts:K}}],yield yield he(ee);const ye=[];ye.push(...ge),ye.push({role:"user",parts:K});const ve=Kt(x.contents).concat(ye);x.contents=ve}else break}})})(this,y,t)}async generateContentInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Nm(this.apiClient,t);return g=Z("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=Rm(v),E=new Eo;return Object.assign(E,x),E})}else{const m=Am(this.apiClient,t);return g=Z("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=bm(v),E=new Eo;return Object.assign(E,x),E})}}async generateContentStreamInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Nm(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(x){return jt(this,arguments,function*(){var E,C,U,q;try{for(var R=!0,H=en(x),X;X=yield he(H.next()),E=X.done,!E;R=!0){q=X.value,R=!1;const Y=q,Q=Rm(yield he(Y.json()));Q.sdkHttpResponse={headers:Y.headers};const W=new Eo;Object.assign(W,Q),yield yield he(W)}}catch(Y){C={error:Y}}finally{try{!R&&!E&&(U=H.return)&&(yield he(U.call(H)))}finally{if(C)throw C.error}}})})}else{const m=Am(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(x){return jt(this,arguments,function*(){var E,C,U,q;try{for(var R=!0,H=en(x),X;X=yield he(H.next()),E=X.done,!E;R=!0){q=X.value,R=!1;const Y=q,Q=bm(yield he(Y.json()));Q.sdkHttpResponse={headers:Y.headers};const W=new Eo;Object.assign(W,Q),yield yield he(W)}}catch(Y){C={error:Y}}finally{try{!R&&!E&&(U=H.return)&&(yield he(U.call(H)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=i_(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=o_(v),E=new rm;return Object.assign(E,x),E})}else{const m=n_(this.apiClient,t);return g=Z("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=l_(v),E=new rm;return Object.assign(E,x),E})}}async generateImagesInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=g_(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=v_(v),E=new um;return Object.assign(E,x),E})}else{const m=m_(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=y_(v),E=new um;return Object.assign(E,x),E})}}async editImageInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=WE(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=jE(y),v=new aT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=gC(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=yC(y),v=new rT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=Z_(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=W_(y),v=new uT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=lC(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=oC(y),v=new cT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=G_(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>qu(v))}else{const m=k_(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Hu(v))}}async listInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=F_(this.apiClient,t);return g=Z("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=J_(v),E=new cm;return Object.assign(E,x),E})}else{const m=O_(this.apiClient,t);return g=Z("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=Y_(v),E=new cm;return Object.assign(E,x),E})}}async update(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=hC(this.apiClient,t);return g=Z("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>qu(v))}else{const m=pC(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Hu(v))}}async delete(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=KE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=$E(v),E=new fm;return Object.assign(E,x),E})}else{const m=XE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=QE(v),E=new fm;return Object.assign(E,x),E})}}async countTokens(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=FE(this.apiClient,t);return g=Z("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=JE(v),E=new dm;return Object.assign(E,x),E})}else{const m=OE(this.apiClient,t);return g=Z("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=YE(v),E=new dm;return Object.assign(E,x),E})}}async computeTokens(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,t);return f=Z("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=HE(y),v=new fT;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=C_(this.apiClient,t);return g=Z("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p.then(v=>{const x=E_(v),E=new Ws;return Object.assign(E,x),E})}else{const m=__(this.apiClient,t);return g=Z("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const x=x_(v),E=new Ws;return Object.assign(E,x),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cA extends In{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=tT(t);return g=Z("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),p}else{const m=eT(t);return g=Z("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=XS(t);return f=Z("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fA(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function dA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>xA(f))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function pA(i,t,o){const s={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],TA(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function hA(i,t){const o={},s=u(t,["config"]);return s!=null&&c(o,["config"],pA(i,s,o)),o}function mA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function gA(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function vA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function SA(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const x=u(i,["speechConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","speechConfig"],ju(x));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],dA(Tt(U)));const q=u(i,["tools"]);if(t!==void 0&&q!=null){let se=gl(q);Array.isArray(se)&&(se=se.map(K=>_A(ml(K)))),c(t,["setup","tools"],se)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],EA(R));const H=u(i,["inputAudioTranscription"]);t!==void 0&&H!=null&&c(t,["setup","inputAudioTranscription"],H);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&c(t,["setup","realtimeInputConfig"],Y);const Q=u(i,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const W=u(i,["proactivity"]);if(t!==void 0&&W!=null&&c(t,["setup","proactivity"],W),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function TA(i,t){const o={},s=u(t,["model"]);s!=null&&c(o,["setup","model"],He(i,s));const r=u(t,["config"]);return r!=null&&c(o,["config"],SA(r,o)),o}function xA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],mA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],gA(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],fA(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const x=u(i,["thoughtSignature"]);x!=null&&c(t,["thoughtSignature"],x);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function EA(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _A(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(x=>x)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],yA(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],vA(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function AA(i,t){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=CA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class NA extends In{constructor(t){super(),this.apiClient=t}async create(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=hA(this.apiClient,t);f=Z("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=AA(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bA(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),o}function RA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&bA(s,t),t}function MA(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function wA(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function IA(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&wA(s,t),t}function DA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UA extends In{constructor(t){super(),this.apiClient=t,this.list=async o=>new Ci(wn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MA(t);return f=Z("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=RA(t);r=Z("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IA(t);return f=Z("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=DA(y),v=new dT;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kA extends In{constructor(t,o=new UA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(s={})=>new Ci(wn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CC(t);return f=Z("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bC(t);return f=Z("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=NC(t);r=Z("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UC(t);return f=Z("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=kC(y),v=new pT;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GC(t);return f=Z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=LC(y),v=new hT;return Object.assign(v,m),v})}}async importFile(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wC(t);return f=Z("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const m=MC(y),v=new Ku;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return yg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const GA=()=>yg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Pu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qt extends Error{}class _t extends Qt{constructor(t,o,s,r){super(`${_t.makeMessage(t,o,s)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,s){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,s,r){if(!t||!r)return new aa({message:s,cause:Pu(o)});const f=o;return t===400?new Sg(t,f,s,r):t===401?new Tg(t,f,s,r):t===403?new xg(t,f,s,r):t===404?new Eg(t,f,s,r):t===409?new _g(t,f,s,r):t===422?new Cg(t,f,s,r):t===429?new Ag(t,f,s,r):t>=500?new Ng(t,f,s,r):new _t(t,f,s,r)}}class Bu extends _t{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class aa extends _t{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class vg extends aa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Sg extends _t{}class Tg extends _t{}class xg extends _t{}class Eg extends _t{}class _g extends _t{}class Cg extends _t{}class Ag extends _t{}class Ng extends _t{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LA=/^[a-z][a-z0-9+.-]*:/i,HA=i=>LA.test(i);let Ou=i=>(Ou=Array.isArray,Ou(i));const qA=Ou;let VA=qA;const km=VA;function zA(i){if(!i)return!0;for(const t in i)return!1;return!0}function PA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const BA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Qt(`${i} must be an integer`);if(t<0)throw new Qt(`${i} must be a positive integer`);return t},OA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const JA=()=>{var i,t,o,s,r;const f=YA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":Lm(Deno.build.os),"X-Stainless-Arch":Gm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":Lm((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Gm((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=XA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function XA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,f=s[2]||0,p=s[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Gm=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Lm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Fs;const KA=()=>Fs??(Fs=JA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function bg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function $A(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return bg({start(){},async pull(o){const{done:s,value:r}=await t.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Rg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ZA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function wu(i,t,o){return Mg(),new File(i,t??"unknown_file",o)}function jA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const eN=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",tN=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&wg(i),nN=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function iN(i,t,o){if(Mg(),i=await i,tN(i))return i instanceof File?i:wu([await i.arrayBuffer()],i.name);if(nN(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),wu(await Fu(r),t,o)}const s=await Fu(i);if(t||(t=jA(i)),!(o!=null&&o.type)){const r=s.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return wu(s,t,o)}async function Fu(i){var t,o,s,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(wg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(eN(i))try{for(var g=!0,y=en(i),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;p.push(...await Fu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${lN(i)}`)}return p}function lN(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ig{constructor(t){this._client=t}}Ig._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Hm=Object.freeze(Object.create(null)),oN=(i=Dg)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,x,E)=>{var C,U,q;/[?#]/.test(x)&&(r=!0);const R=s[E];let H=(r?encodeURIComponent:i)(""+R);return E!==s.length&&(R==null||typeof R=="object"&&R.toString===((q=Object.getPrototypeOf((U=Object.getPrototypeOf((C=R.hasOwnProperty)!==null&&C!==void 0?C:Hm))!==null&&U!==void 0?U:Hm))===null||q===void 0?void 0:q.toString))&&(H=R+"",f.push({start:v.length+x.length,length:H.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+x+(E===s.length?"":H)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)f.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(f.sort((v,x)=>v.start-x.start),f.length>0){let v=0;const x=f.reduce((E,C)=>{const U=" ".repeat(C.start-v),q="^".repeat(C.length);return v=C.start+C.length,E+U+q},"");throw new Qt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${x}`)}return p}),Ys=oN(Dg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ug extends Ig{create(t,o){var s;const{api_version:r=this._client.apiVersion}=t,f=ea(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Qt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Qt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ys`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Ys`/${r}/interactions/${t}`,s)}cancel(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Ys`/${r}/interactions/${t}/cancel`,s)}get(t,o={},s){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=ea(f,["api_version"]);return this._client.get(Ys`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},s),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Ug._key=Object.freeze(["interactions"]);class kg extends Ug{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sN(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let Js;function tc(i){let t;return(Js??(t=new globalThis.TextEncoder,Js=t.encode.bind(t)))(i)}let Xs;function qm(i){let t;return(Xs??(t=new globalThis.TextDecoder,Xs=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ra{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?tc(t):t;this.buffer=sN([this.buffer,o]);const s=[];let r;for(;(r=aN(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(qm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=qm(this.buffer.subarray(0,f));s.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}ra.NEWLINE_CHARS=new Set([`
`,"\r"]);ra.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function aN(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function rN(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ta={off:0,error:200,warn:300,info:400,debug:500},Vm=(i,t,o)=>{if(i){if(PA(ta,i))return i;Et(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ta))}`)}};function Ao(){}function Ks(i,t,o){return!t||ta[i]>ta[o]?Ao:t[i].bind(t)}const uN={error:Ao,warn:Ao,info:Ao,debug:Ao};let zm=new WeakMap;function Et(i){var t;const o=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return uN;const r=zm.get(o);if(r&&r[0]===s)return r[1];const f={error:Ks("error",o,s),warn:Ks("warn",o,s),info:Ks("info",o,s),debug:Ks("debug",o,s)};return zm.set(o,[s,f]),f}const _i=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dl{constructor(t,o,s){this.iterator=t,this.controller=o,this.client=s}static fromSSEResponse(t,o,s){let r=!1;const f=s?Et(s):console;function p(){return jt(this,arguments,function*(){var y,m,v,x;if(r)throw new Qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,U=en(cN(t,o)),q;q=yield he(U.next()),y=q.done,!y;C=!0){x=q.value,C=!1;const R=x;if(!E)if(R.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield he(JSON.parse(R.data))}catch(H){throw f.error("Could not parse message into JSON:",R.data),f.error("From chunk:",R.raw),H}}}catch(R){m={error:R}}finally{try{!C&&!y&&(v=U.return)&&(yield he(v.call(U)))}finally{if(m)throw m.error}}E=!0}catch(R){if(zu(R))return yield he(void 0);throw R}finally{E||o.abort()}})}return new dl(p,o,s)}static fromReadableStream(t,o,s){let r=!1;function f(){return jt(this,arguments,function*(){var y,m,v,x;const E=new ra,C=Rg(t);try{for(var U=!0,q=en(C),R;R=yield he(q.next()),y=R.done,!y;U=!0){x=R.value,U=!1;const H=x;for(const X of E.decode(H))yield yield he(X)}}catch(H){m={error:H}}finally{try{!U&&!y&&(v=q.return)&&(yield he(v.call(q)))}finally{if(m)throw m.error}}for(const H of E.flush())yield yield he(H)})}function p(){return jt(this,arguments,function*(){var y,m,v,x;if(r)throw new Qt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,U=en(f()),q;q=yield he(U.next()),y=q.done,!y;C=!0){x=q.value,C=!1;const R=x;E||R&&(yield yield he(JSON.parse(R)))}}catch(R){m={error:R}}finally{try{!C&&!y&&(v=U.return)&&(yield he(v.call(U)))}finally{if(m)throw m.error}}E=!0}catch(R){if(zu(R))return yield he(void 0);throw R}finally{E||o.abort()}})}return new dl(p,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],s=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=s.next();t.push(p),o.push(p)}return f.shift()}});return[new dl(()=>r(t),this.controller,this.client),new dl(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return bg({async start(){o=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:f}=await o.next();if(f)return s.close();const p=tc(JSON.stringify(r)+`
`);s.enqueue(p)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function cN(i,t){return jt(this,arguments,function*(){var s,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Qt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Qt("Attempted to iterate over a response with no body");const g=new dN,y=new ra,m=Rg(i.body);try{for(var v=!0,x=en(fN(m)),E;E=yield he(x.next()),s=E.done,!s;v=!0){p=E.value,v=!1;const C=p;for(const U of y.decode(C)){const q=g.decode(U);q&&(yield yield he(q))}}}catch(C){r={error:C}}finally{try{!v&&!s&&(f=x.return)&&(yield he(f.call(x)))}finally{if(r)throw r.error}}for(const C of y.flush()){const U=g.decode(C);U&&(yield yield he(U))}})}function fN(i){return jt(this,arguments,function*(){var o,s,r,f;let p=new Uint8Array;try{for(var g=!0,y=en(i),m;m=yield he(y.next()),o=m.done,!o;g=!0){f=m.value,g=!1;const v=f;if(v==null)continue;const x=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?tc(v):v;let E=new Uint8Array(p.length+x.length);E.set(p),E.set(x,p.length),p=E;let C;for(;(C=rN(p))!==-1;)yield yield he(p.slice(0,C)),p=p.slice(C)}}catch(v){s={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield he(r.call(y)))}finally{if(s)throw s.error}}p.length>0&&(yield yield he(p))})}class dN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,s,r]=pN(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function pN(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hN(i,t){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return Et(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):dl.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return Et(i).debug(`[${s}] response parsed`,_i({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nc extends Promise{constructor(t,o,s=hN){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new nc(this.client,this.responsePromise,async(o,s)=>t(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=Symbol("brand.privateNullableHeaders");function*mN(i){if(!i)return;if(Gg in i){const{values:s,nulls:r}=i;yield*s.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():km(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=km(s[1])?s[1]:[s[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const _o=i=>{const t=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[f,p]of mN(s)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),o.add(g)):(t.append(f,p),o.delete(g))}}return{[Gg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iu=i=>{var t,o,s,r,f,p;if(typeof globalThis.process<"u")return(s=(o=(t=PS)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lg;class ua{constructor(t){var o,s,r,f,p,g,y,{baseURL:m=Iu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Iu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:x="v1beta"}=t,E=ea(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:x},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(s=C.timeout)!==null&&s!==void 0?s:ua.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const U="warn";this.logLevel=U,this.logLevel=(p=(f=Vm(C.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Vm(Iu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:U,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:QA(),this.encoder=WA,this._options=C,this.apiKey=v,this.apiVersion=x,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=_o([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return _o([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return _o([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Qt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${cl}`}defaultIdempotencyKey(){return`stainless-node-retry-${GA()}`}makeStatusError(t,o,s,r){return _t.generate(t,o,s,r)}buildURL(t,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,f=HA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return zA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:s}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new nc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,s){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:m,url:v,timeout:x}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=s===void 0?"":`, retryOf: ${s}`,U=Date.now();if(Et(this).debug(`[${E}] sending request`,_i({retryOfRequestLogID:s,method:g.method,url:v,options:g,headers:m.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Bu;const q=new AbortController,R=await this.fetchWithTimeout(v,m,x,q).catch(Pu),H=Date.now();if(R instanceof globalThis.Error){const Y=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Bu;const Q=zu(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return Et(this).info(`[${E}] connection ${Q?"timed out":"failed"} - ${Y}`),Et(this).debug(`[${E}] connection ${Q?"timed out":"failed"} (${Y})`,_i({retryOfRequestLogID:s,url:v,durationMs:H-U,message:R.message})),this.retryRequest(g,o,s??E);throw Et(this).info(`[${E}] connection ${Q?"timed out":"failed"} - error; no more retries left`),Et(this).debug(`[${E}] connection ${Q?"timed out":"failed"} (error; no more retries left)`,_i({retryOfRequestLogID:s,url:v,durationMs:H-U,message:R.message})),Q?new vg:new aa({cause:R})}const X=`[${E}${C}] ${m.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${H-U}ms`;if(!R.ok){const Y=await this.shouldRetry(R);if(o&&Y){const ee=`retrying, ${o} attempts remaining`;return await ZA(R.body),Et(this).info(`${X} - ${ee}`),Et(this).debug(`[${E}] response error (${ee})`,_i({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,durationMs:H-U})),this.retryRequest(g,o,s??E,R.headers)}const Q=Y?"error; no more retries left":"error; not retryable";Et(this).info(`${X} - ${Q}`);const W=await R.text().catch(ee=>Pu(ee).message),se=OA(W),K=se?void 0:W;throw Et(this).debug(`[${E}] response error (${Q})`,_i({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,message:K,durationMs:Date.now()-U})),this.makeStatusError(R.status,se,K,R.headers)}return Et(this).info(X),Et(this).debug(`[${E}] response start`,_i({retryOfRequestLogID:s,url:R.url,status:R.status,headers:R.headers,durationMs:H-U})),{response:R,options:g,controller:q,requestLogID:E,retryOfRequestLogID:s,startTime:U}}async fetchWithTimeout(t,o,s,r){const f=o||{},{signal:p,method:g}=f,y=ea(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,x=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(x.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,x)}finally{clearTimeout(m)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,s,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(p=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const m=parseFloat(y);Number.isNaN(m)?p=Date.parse(y)-Date.now():p=m*1e3}if(!(p&&0<=p&&p<60*1e3)){const m=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,m)}return await FA(p),this.makeRequest(t,o-1,s)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var s,r,f;const p=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=p,x=this.buildURL(y,m,v);"timeout"in p&&BA("timeout",p.timeout),p.timeout=(s=p.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:p}),U=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:U},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:x,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:s,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=_o([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),KA()),this._options.defaultHeaders,s,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=_o([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:$A(t)}:this.encoder({body:t,headers:s})}}ua.DEFAULT_TIMEOUT=6e4;class dt extends ua{constructor(){super(...arguments),this.interactions=new kg(this)}}Lg=dt;dt.GeminiNextGenAPIClient=Lg;dt.GeminiNextGenAPIClientError=Qt;dt.APIError=_t;dt.APIConnectionError=aa;dt.APIConnectionTimeoutError=vg;dt.APIUserAbortError=Bu;dt.NotFoundError=Eg;dt.ConflictError=_g;dt.RateLimitError=Ag;dt.BadRequestError=Sg;dt.AuthenticationError=Tg;dt.InternalServerError=Ng;dt.PermissionDeniedError=xg;dt.UnprocessableEntityError=Cg;dt.toFile=iN;dt.Interactions=kg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gN(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function yN(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function vN(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function SN(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function TN(i,t,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function xN(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],Pm(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],Pm(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=u(i,["labels"]);t!==void 0&&x!=null&&c(t,["labels"],x);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),s}function EN(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&UN(f);const p=u(i,["config"]);return p!=null&&TN(p,o),o}function _N(i,t){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&kN(f,o,t);const p=u(i,["config"]);return p!=null&&xN(p,o,t),o}function CN(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function AN(i,t){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function NN(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),s}function bN(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),s}function RN(i,t){const o={},s=u(i,["config"]);return s!=null&&NN(s,o),o}function MN(i,t){const o={},s=u(i,["config"]);return s!=null&&bN(s,o),o}function wN(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Hg(g))),c(o,["tuningJobs"],p)}return o}function IN(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Yu(g))),c(o,["tuningJobs"],p)}return o}function DN(i,t){const o={},s=u(i,["name"]);s!=null&&c(o,["model"],s);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function UN(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function kN(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Hg(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],jm(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(o,["updateTime"],m);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const x=u(i,["baseModel"]);x!=null&&c(o,["baseModel"],x);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],DN(E)),o}function Yu(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],jm(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(o,["updateTime"],m);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const x=u(i,["description"]);x!=null&&c(o,["description"],x);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const U=u(i,["preTunedModel"]);U!=null&&c(o,["preTunedModel"],U);const q=u(i,["supervisedTuningSpec"]);q!=null&&c(o,["supervisedTuningSpec"],q);const R=u(i,["preferenceOptimizationSpec"]);R!=null&&c(o,["preferenceOptimizationSpec"],R);const H=u(i,["tuningDataStats"]);H!=null&&c(o,["tuningDataStats"],H);const X=u(i,["encryptionSpec"]);X!=null&&c(o,["encryptionSpec"],X);const Y=u(i,["partnerModelTuningSpec"]);Y!=null&&c(o,["partnerModelTuningSpec"],Y);const Q=u(i,["customBaseModel"]);Q!=null&&c(o,["customBaseModel"],Q);const W=u(i,["experiment"]);W!=null&&c(o,["experiment"],W);const se=u(i,["labels"]);se!=null&&c(o,["labels"],se);const K=u(i,["outputUri"]);K!=null&&c(o,["outputUri"],K);const ge=u(i,["pipelineJob"]);ge!=null&&c(o,["pipelineJob"],ge);const ee=u(i,["serviceAccount"]);ee!=null&&c(o,["serviceAccount"],ee);const ye=u(i,["tunedModelDisplayName"]);ye!=null&&c(o,["tunedModelDisplayName"],ye);const ve=u(i,["veoTuningSpec"]);return ve!=null&&c(o,["veoTuningSpec"],ve),o}function GN(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function Pm(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LN extends In{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ci(wn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Uu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=AN(t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Yu(v))}else{const m=CN(t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Hg(v))}}async listInternal(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=MN(t);return g=Z("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=IN(v),E=new pm;return Object.assign(E,x),E})}else{const m=RN(t);return g=Z("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=wN(v),E=new pm;return Object.assign(E,x),E})}}async cancel(t){var o,s,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=yN(t);return g=Z("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=SN(v),E=new hm;return Object.assign(E,x),E})}else{const m=gN(t);return g=Z("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const x=vN(v),E=new hm;return Object.assign(E,x),E})}}async tuneInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=_N(t,t);return f=Z("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Yu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,s;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=EN(t);return f=Z("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>GN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HN{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qN=1024*1024*8,VN=3,zN=1e3,PN=2,na="x-goog-upload-status";async function BN(i,t,o){var s;const r=await qg(i,t,o),f=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[na])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function ON(i,t,o){var s;const r=await qg(i,t,o),f=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[na])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Xm(f),g=new Qu;return Object.assign(g,p),g}async function qg(i,t,o){var s,r;let f=0,p=0,g=new ku(new Response),y="upload";for(f=i.size;p<f;){const m=Math.min(qN,f-p),v=i.slice(p,p+m);p+m>=f&&(y+=", finalize");let x=0,E=zN;for(;x<VN&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[na]));)x++,await YN(E),E=E*PN;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[na])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function FN(i){return{size:i.size,type:i.type}}function YN(i){return new Promise(t=>setTimeout(t,i))}class JN{async upload(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await BN(t,o,s)}async uploadToFileSearchStore(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ON(t,o,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await FN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XN{create(t,o,s){return new KN(t,o,s)}}class KN{constructor(t,o,s){this.url=t,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bm="x-goog-api-key";class QN{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Bm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Bm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $N="gl-node/";class ZN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new dt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const s=YS(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new QN(this.apiKey);this.apiClient=new FC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:$N+"web",uploader:new JN,downloader:new HN}),this.models=new uA(this.apiClient),this.live=new iA(this.apiClient,r,new XN),this.batches=new Tx(this.apiClient),this.chats=new tE(this.models,this.apiClient),this.caches=new Wx(this.apiClient),this.files=new fE(this.apiClient),this.operations=new cA(this.apiClient),this.authTokens=new NA(this.apiClient),this.tunings=new LN(this.apiClient),this.fileSearchStores=new kA(this.apiClient)}}const vl=new ZN({apiKey:"AIzaSyAWZCwmo_vkjBGQHRjXiiL699IgEFWSYiI"}),Sl="gemini-3-flash-preview",WN=async i=>{const t=await vl.models.generateContent({model:Sl,contents:i,config:{systemInstruction:`You are a Senior Project Architect.
      Analyze the user's project idea.
      If the idea is very vague (1-3 words), return 'isClarificationNeeded': true with 3 specific questions.
      If it has enough detail to infer a structure, return 'isClarificationNeeded': false.
      Prioritize action over questions.
      Output JSON only.`,responseMimeType:"application/json",responseSchema:{type:k.OBJECT,properties:{questions:{type:k.ARRAY,items:{type:k.STRING}},isClarificationNeeded:{type:k.BOOLEAN}},required:["questions","isClarificationNeeded"]}}});if(!t.text)throw new Error("No analysis generated");return JSON.parse(t.text)},jN=async(i,t=[])=>{let o=`User's Idea: "${i}"
`;t.length>0&&(o+=`Context:
`,t.forEach((r,f)=>{o+=`Q: ${r.question} A: ${r.answer}
`}));const s=await vl.models.generateContent({model:Sl,contents:o,config:{systemInstruction:`You are a Principal Systems Architect. Generate a comprehensive, high-fidelity technical blueprint.

      CRITICAL INSTRUCTIONS FOR DEPTH & GRANULARITY:
      
      1. **'appWorkflow' (System Architecture)**: 
         - Generate **8 to 15 nodes**. DO NOT OVERSIMPLIFY.
         - Nodes must cover the full stack: Client (Web/Mobile), CDN, Load Balancers, API Gateway, Auth Service, Core Services, Database (Primary/Replica/Cache), External Integrations (Stripe/SendGrid/AI), and Async Workers.
         - Show the real complexity of a production app.

      2. **'implementationWorkflow' (Build Roadmap)**: 
         - Generate **8 to 15 detailed steps**.
         - Sequence: Environment -> DB Design -> Auth -> Core API -> Frontend Infrastructure -> Key Features -> Polish -> Deploy.
         - 'executionSteps': Provide specific technical commands or logic (e.g., "npx create-next-app", "Define Prisma schema for User").
         - 'technicalDescription': Name specific libraries (e.g., "Zustand for state", "Postgres for DB").

      3. **'strategicInsights'**: 
         - Generate exactly **3 charts**: 'growth_prediction', 'heatmap' (Risk), and 'pie' (Market).

      4. **General**:
         - Assume the user is a Senior Developer. Use precise terminology.
         - Focus on the "Happy Path" but acknowledge complexity.

      Output JSON only.
      `,responseMimeType:"application/json",responseSchema:{type:k.OBJECT,properties:{title:{type:k.STRING},summary:{type:k.STRING},domain:{type:k.STRING},marketAnalysis:{type:k.OBJECT,properties:{targetAudience:{type:k.STRING},keyCompetitors:{type:k.ARRAY,items:{type:k.STRING}},currentTrends:{type:k.ARRAY,items:{type:k.STRING}},totalAddressableMarket:{type:k.STRING},projectedRevenue:{type:k.ARRAY,items:{type:k.OBJECT,properties:{year:{type:k.STRING},amount:{type:k.NUMBER},unit:{type:k.STRING}}}},marketSegments:{type:k.ARRAY,items:{type:k.OBJECT,properties:{segment:{type:k.STRING},percentage:{type:k.NUMBER}}}}},required:["targetAudience","keyCompetitors","currentTrends","totalAddressableMarket","projectedRevenue","marketSegments"]},strategicInsights:{type:k.ARRAY,items:{type:k.OBJECT,properties:{title:{type:k.STRING},type:{type:k.STRING,enum:["bar","pie","line","stat","radar","growth_prediction","heatmap"]},data:{type:k.ARRAY,items:{type:k.OBJECT,properties:{label:{type:k.STRING},value:{type:k.NUMBER},projectedValue:{type:k.NUMBER},secondaryValue:{type:k.NUMBER}}}},summary:{type:k.STRING},xAxisLabel:{type:k.STRING},yAxisLabel:{type:k.STRING}},required:["title","type","data","summary"]}},userSentiment:{type:k.OBJECT,properties:{commonComplaints:{type:k.ARRAY,items:{type:k.STRING}},praisePoints:{type:k.ARRAY,items:{type:k.STRING}},userExpectations:{type:k.ARRAY,items:{type:k.STRING}}},required:["commonComplaints","praisePoints","userExpectations"]},scope:{type:k.OBJECT,properties:{coreFeatures:{type:k.ARRAY,items:{type:k.STRING}},optionalFeatures:{type:k.ARRAY,items:{type:k.STRING}},outOfScope:{type:k.ARRAY,items:{type:k.STRING}}},required:["coreFeatures","optionalFeatures","outOfScope"]},coreConcepts:{type:k.ARRAY,items:{type:k.OBJECT,properties:{name:{type:k.STRING},description:{type:k.STRING},complexity:{type:k.STRING,enum:["Low","Medium","High"]}},required:["name","description","complexity"]}},techStack:{type:k.ARRAY,items:{type:k.OBJECT,properties:{category:{type:k.STRING},tools:{type:k.ARRAY,items:{type:k.STRING}},reason:{type:k.STRING}},required:["category","tools","reason"]}},appWorkflow:{type:k.OBJECT,description:"System Flow (Step-wise)",properties:{nodes:{type:k.ARRAY,items:{type:k.OBJECT,properties:{id:{type:k.STRING},label:{type:k.STRING},type:{type:k.STRING,enum:["user","system","data","action","decision"]},details:{type:k.STRING}},required:["id","label","type","details"]}},edges:{type:k.ARRAY,items:{type:k.OBJECT,properties:{from:{type:k.STRING},to:{type:k.STRING},label:{type:k.STRING}},required:["from","to"]}}},required:["nodes","edges"]},implementationWorkflow:{type:k.OBJECT,description:"Build Specs",properties:{nodes:{type:k.ARRAY,items:{type:k.OBJECT,properties:{id:{type:k.STRING},label:{type:k.STRING},type:{type:k.STRING,enum:["user","system","data","action","decision"]},details:{type:k.STRING},technicalDescription:{type:k.STRING},whyNeeded:{type:k.STRING},userBenefit:{type:k.STRING},executionSteps:{type:k.ARRAY,items:{type:k.STRING}},searchQueries:{type:k.ARRAY,items:{type:k.STRING}}},required:["id","label","type","details","technicalDescription","whyNeeded","userBenefit","executionSteps","searchQueries"]}},edges:{type:k.ARRAY,items:{type:k.OBJECT,properties:{from:{type:k.STRING},to:{type:k.STRING},label:{type:k.STRING}},required:["from","to"]}}},required:["nodes","edges"]},risksAndLiabilities:{type:k.ARRAY,items:{type:k.STRING}},recommendedResources:{type:k.ARRAY,items:{type:k.OBJECT,properties:{title:{type:k.STRING},type:{type:k.STRING,enum:["paper","video","article","repo","tool"]},description:{type:k.STRING},url:{type:k.STRING}},required:["title","type","description","url"]}}},required:["title","summary","domain","marketAnalysis","strategicInsights","userSentiment","scope","coreConcepts","techStack","appWorkflow","implementationWorkflow","risksAndLiabilities","recommendedResources"]}}});if(!s.text)throw new Error("No content generated");return JSON.parse(s.text)},e1=async(i,t,o,s)=>{if(!s||s.length===0)return{systemWorkflow:i,implementationWorkflow:t,techStack:o};const r=s.map(g=>`- ${g.content}`).join(`
`),f=`
     Current System: ${JSON.stringify(i)}
     Current Build Plan: ${JSON.stringify(t)}
     Stack: ${JSON.stringify(o)}

     CHANGES:
     ${r}

     Task: Refine the system & implementation plans based on feedback. Keep it detailed and handle complex requests.
     Output JSON only.
   `,p=await vl.models.generateContent({model:Sl,contents:f,config:{systemInstruction:`You are an expert system architect. Refine the project plan.
      Output JSON only matching the schema.`,responseMimeType:"application/json",responseSchema:{type:k.OBJECT,properties:{systemWorkflow:{type:k.OBJECT,properties:{nodes:{type:k.ARRAY,items:{type:k.OBJECT,properties:{id:{type:k.STRING},label:{type:k.STRING},type:{type:k.STRING,enum:["user","system","data","action","decision"]},details:{type:k.STRING}},required:["id","label","type","details"]}},edges:{type:k.ARRAY,items:{type:k.OBJECT,properties:{from:{type:k.STRING},to:{type:k.STRING},label:{type:k.STRING}},required:["from","to"]}}},required:["nodes","edges"]},implementationWorkflow:{type:k.OBJECT,properties:{nodes:{type:k.ARRAY,items:{type:k.OBJECT,properties:{id:{type:k.STRING},label:{type:k.STRING},type:{type:k.STRING,enum:["user","system","data","action","decision"]},details:{type:k.STRING},technicalDescription:{type:k.STRING},whyNeeded:{type:k.STRING},userBenefit:{type:k.STRING},executionSteps:{type:k.ARRAY,items:{type:k.STRING}},searchQueries:{type:k.ARRAY,items:{type:k.STRING}}},required:["id","label","type","details","technicalDescription","whyNeeded","userBenefit","executionSteps","searchQueries"]}},edges:{type:k.ARRAY,items:{type:k.OBJECT,properties:{from:{type:k.STRING},to:{type:k.STRING},label:{type:k.STRING}},required:["from","to"]}}},required:["nodes","edges"]},techStack:{type:k.ARRAY,items:{type:k.OBJECT,properties:{category:{type:k.STRING},tools:{type:k.ARRAY,items:{type:k.STRING}},reason:{type:k.STRING}},required:["category","tools","reason"]}}},required:["systemWorkflow","implementationWorkflow","techStack"]}}});if(!p.text)throw new Error("No refined details generated");return JSON.parse(p.text)},t1=async(i,t,o)=>{const s=`
    Project: ${i.title}
    Domain: ${i.domain}
    Summary: ${i.summary}
    Stack: ${i.techStack.map(p=>p.tools.join(", ")).join("; ")}

    Role: Principal Engineer. Be concise but technical.
  `;return(await vl.chats.create({model:Sl,config:{systemInstruction:s},history:t.map(p=>({role:p.role,parts:[{text:p.text}]}))}).sendMessage({message:o})).text||"I'm not sure how to respond to that."},n1=async i=>{const t=`
    Project: ${i.title}
    Summary: ${i.summary}
    Stack: ${i.techStack.map(r=>r.tools.join(", ")).join("; ")}
    Features: ${i.scope.coreFeatures.join(", ")}
    Plan: ${JSON.stringify(i.implementationWorkflow)}
  `,o=await vl.models.generateContent({model:Sl,contents:t,config:{systemInstruction:`You are a Lead DevOps & AI Architect.
      Create a "Cursor/Windsurf Master Plan" for an AI coding assistant.
      Break the project into 8-12 atomic, testable prompt steps (Sequential).
      
      Structure:
      1. Setup & Config (Tailwind, TypeScript, ESLint, Project Structure)
      2. Core UI Layout (Shell, Navigation)
      3. Data Layer (Mock Data / Schema Interfaces)
      4. State Management
      5-10. Feature Implementation (Granular, one major component per step)
      11. Final Polish & Error Handling
      
      Each prompt must be self-contained and technically specific.
      Output JSON only.
      `,responseMimeType:"application/json",responseSchema:{type:k.ARRAY,items:{type:k.OBJECT,properties:{step:{type:k.NUMBER},title:{type:k.STRING},prompt:{type:k.STRING},status:{type:k.STRING,enum:["pending","completed"]}},required:["step","title","prompt","status"]}}}});if(!o.text)throw new Error("No prompts generated");return JSON.parse(o.text).map(r=>({...r,id:crypto.randomUUID(),status:"pending"}))},i1=async(i,t)=>{const o=`
    Prompt: "${i.prompt}"
    Result: "${t}"
    Analyze if correct. Suggest fix or next step. Brief.
  `;return(await vl.models.generateContent({model:Sl,contents:o,config:{systemInstruction:"You are a helpful Senior Engineer."}})).text||"Analysis failed."},l1=({project:i,onUpdateProject:t,isFullScreen:o,onToggleFullScreen:s})=>{var Nl;const{appWorkflow:r,implementationWorkflow:f,techStack:p}=i.blueprint,g=r||{nodes:[],edges:[]},y=f||{nodes:[],edges:[]},[m,v]=ue.useState(null),[x,E]=ue.useState("select"),[C,U]=ue.useState([]),[q,R]=ue.useState([]);ue.useEffect(()=>{C.length===0&&r&&U([r])},[]);const H=V=>{U(J=>[...J,V]),R([])},X=()=>{if(C.length<=1)return;const V=C[C.length-1],J=C[C.length-2];R(de=>[V,...de]),U(de=>de.slice(0,-1)),t({...i,blueprint:{...i.blueprint,appWorkflow:J}})},Y=()=>{if(q.length===0)return;const V=q[0];R(J=>J.slice(1)),U(J=>[...J,V]),t({...i,blueprint:{...i.blueprint,appWorkflow:V}})},[Q,W]=ue.useState(""),[se,K]=ue.useState(!1),[ge,ee]=ue.useState(!1),ye=ue.useRef(null),ve=ue.useRef(null),[Ve,_e]=ue.useState([]),[Re,te]=ue.useState({x:50,y:50}),[M,F]=ue.useState(.8),[ne,Ee]=ue.useState(!1),[Te,N]=ue.useState({x:0,y:0}),[P,$]=ue.useState(null),[ie,pe]=ue.useState(null),ce=g.nodes.find(V=>V.id===m)||y.nodes.find(V=>V.id===m),Ue=(V,J)=>{const de={};V.forEach(ae=>de[ae.id]=0);let Ce=!0,De=0;for(;Ce&&De<V.length+2;)Ce=!1,J.forEach(ae=>{const ke=de[ae.from]||0,Je=de[ae.to]||0;ke+1>Je&&(de[ae.to]=ke+1,Ce=!0)}),De++;const je=[];return V.forEach(ae=>{const ke=de[ae.id];je[ke]||(je[ke]=[]),je[ke].push(ae)}),je.filter(ae=>ae&&ae.length>0)},ut=ue.useMemo(()=>Ue(g.nodes,g.edges),[g]),Qe=ue.useMemo(()=>Ue(y.nodes,y.edges),[y]),nn=ue.useCallback(()=>{if(!ve.current)return;const V=[],J=Ce=>{const De=document.getElementById(`node-${Ce}`);if(!De||!ve.current)return null;let je=De.offsetLeft,ae=De.offsetTop,ke=De.offsetParent;for(;ke&&ke!==ve.current;)je+=ke.offsetLeft,ae+=ke.offsetTop,ke=ke.offsetParent;return{x:je+De.offsetWidth/2,y:ae+De.offsetHeight/2,width:De.offsetWidth,height:De.offsetHeight}},de=(Ce,De,je)=>{Ce.forEach((ae,ke)=>{const Je=J(ae.from),et=J(ae.to);if(Je&&et){let bl="",cn=et.x,fn=et.y;if(je==="horizontal"){cn=et.x-et.width/2;const on=Math.abs(cn-Je.x)*.5;bl=`
                    M ${Je.x} ${Je.y}
                    C ${Je.x+on} ${Je.y},
                      ${cn-on} ${fn},
                      ${cn} ${fn}
                   `}else{fn=et.y-et.height/2;const on=Math.abs(fn-Je.y)*.5;bl=`
                    M ${Je.x} ${Je.y}
                    C ${Je.x} ${Je.y+on},
                      ${cn} ${fn-on},
                      ${cn} ${fn}
                   `}V.push({id:`${De}-edge-${ke}`,d:bl,label:ae.label,x:Je.x+(cn-Je.x)/2,y:Je.y+(fn-Je.y)/2})}})};de(g.edges,"sys","horizontal"),de(y.edges,"imp","vertical"),_e(V)},[g,y]);ue.useEffect(()=>{const V=setTimeout(nn,100),J=new ResizeObserver(()=>nn());return ve.current&&J.observe(ve.current),()=>{clearTimeout(V),J.disconnect()}},[nn,M,ut,Qe]);const li=V=>{if(!ve.current)return{x:0,y:0};const J=ve.current.getBoundingClientRect();return{x:(V.clientX-J.left)/M,y:(V.clientY-J.top)/M}},Tl=V=>{if(x==="select"&&v(null),V.button===2||x==="pan"){V.preventDefault(),Ee(!0),N({x:V.clientX,y:V.clientY});return}if(V.button===0&&(x==="pencil"||x==="line")){const{x:J,y:de}=li(V),Ce={id:crypto.randomUUID(),type:x==="pencil"?"freehand":"line",points:[{x:J,y:de}],color:"#1e293b"};$(Ce)}},No=V=>{if(ne){const J=V.clientX-Te.x,de=V.clientY-Te.y;te(Ce=>({x:Ce.x+J,y:Ce.y+de})),N({x:V.clientX,y:V.clientY})}else if(ie){const J=(V.clientX-Te.x)/M,de=(V.clientY-Te.y)/M,Ce=(r.stickyNotes||[]).map(De=>De.id===ie?{...De,x:De.x+J,y:De.y+de}:De);t({...i,blueprint:{...i.blueprint,appWorkflow:{...r,stickyNotes:Ce}}}),N({x:V.clientX,y:V.clientY})}else if(P){const{x:J,y:de}=li(V);P.type==="line"?$({...P,points:[P.points[0],{x:J,y:de}]}):$({...P,points:[...P.points,{x:J,y:de}]})}},ln=()=>{if(Ee(!1),pe(null),P){const V=[...r.drawings||[],P],J={...r,drawings:V};H(J),t({...i,blueprint:{...i.blueprint,appWorkflow:J}}),$(null)}},xl=V=>{V.preventDefault(),V.stopPropagation();const J=V.deltaY>0?.9:1.1;F(de=>Math.min(Math.max(.1,de*J),3))},El=async()=>{if(!(!r.stickyNotes||r.stickyNotes.length===0)){ee(!0);try{const V=await e1(g,y,p,r.stickyNotes),J={...V.systemWorkflow,stickyNotes:[],drawings:[]};H(J),t({...i,blueprint:{...i.blueprint,appWorkflow:J,implementationWorkflow:V.implementationWorkflow,techStack:V.techStack}}),setTimeout(nn,100)}catch(V){console.error(V),alert("Failed to apply changes. Please try again.")}finally{ee(!1)}}},_l=V=>{var ae,ke;const J=(-Re.x+(((ae=ye.current)==null?void 0:ae.offsetWidth)||800)/2)/M,de=(-Re.y+(((ke=ye.current)==null?void 0:ke.offsetHeight)||600)/2)/M,Ce={id:crypto.randomUUID(),x:Math.max(0,J),y:Math.max(0,de),content:"",color:V},De=[...r.stickyNotes||[],Ce],je={...r,stickyNotes:De};H(je),t({...i,blueprint:{...i.blueprint,appWorkflow:je}})},bo=(V,J)=>{const de=(r.stickyNotes||[]).map(Ce=>Ce.id===V?{...Ce,content:J}:Ce);t({...i,blueprint:{...i.blueprint,appWorkflow:{...r,stickyNotes:de}}})},Ai=V=>{const J=(r.stickyNotes||[]).filter(Ce=>Ce.id!==V),de={...r,stickyNotes:J};H(de),t({...i,blueprint:{...i.blueprint,appWorkflow:de}})},Cl=V=>{if(x!=="eraser")return;const J=(r.drawings||[]).filter(Ce=>Ce.id!==V),de={...r,drawings:J};H(de),t({...i,blueprint:{...i.blueprint,appWorkflow:de}})},Al=(V,J)=>{if(V.stopPropagation(),x==="eraser"){Ai(J);return}(x==="select"||x==="pan")&&(pe(J),N({x:V.clientX,y:V.clientY}))},Ro=async()=>{if(!(!m||!Q.trim())){K(!0);try{const V=`Context: Node: ${ce==null?void 0:ce.label}. Details: ${ce==null?void 0:ce.details}. User Q: ${Q}`,J=await t1(i.blueprint,[],V),de=`Q: ${Q}
A: ${J}`,Ce=g.nodes.some(ae=>ae.id===m);let De=r,je=y;Ce?De={...r,nodes:r.nodes.map(ae=>ae.id===m?{...ae,aiSuggestions:(ae.aiSuggestions?ae.aiSuggestions+`

`:"")+de}:ae)}:je={...y,nodes:y.nodes.map(ae=>ae.id===m?{...ae,aiSuggestions:(ae.aiSuggestions?ae.aiSuggestions+`

`:"")+de}:ae)},t({...i,blueprint:{...i.blueprint,appWorkflow:De,implementationWorkflow:je}}),W("")}catch(V){console.error(V)}finally{K(!1)}}},ca=V=>{if(!m)return;const J=de=>de.nodes.map(Ce=>Ce.id===m?{...Ce,userNotes:V}:Ce);t({...i,blueprint:{...i.blueprint,appWorkflow:{...r,nodes:J(r)},implementationWorkflow:{...y,nodes:J(y)}}})},vt=V=>{const J=m===V.id,de=V.type==="action",Ce=V.type==="decision",De=V.type==="data",je=V.type==="user";return de?S.jsx("button",{id:`node-${V.id}`,onClick:ae=>{ae.stopPropagation(),v(V.id)},onMouseDown:ae=>ae.stopPropagation(),className:`
            relative z-10 transition-all duration-200 group
            px-4 py-2 rounded-lg border-2 border-slate-900 bg-white
            text-xs font-bold text-slate-700
            hover:scale-105
            ${J?"ring-2 ring-indigo-400 shadow-md":"shadow-sm"}
          `,children:V.label},V.id):Ce?S.jsx("div",{className:"relative z-10 flex items-center justify-center py-4",children:S.jsx("button",{id:`node-${V.id}`,onClick:ae=>{ae.stopPropagation(),v(V.id)},onMouseDown:ae=>ae.stopPropagation(),className:`
              relative w-24 h-24 bg-white border-2 border-slate-900 
              flex items-center justify-center text-center p-2
              hover:scale-105 transition-all rotate-45
              ${J?"ring-2 ring-indigo-400 shadow-md":"shadow-sm"}
            `,children:S.jsx("span",{className:"-rotate-45 text-[10px] font-bold text-slate-900 leading-tight",children:V.label})})},V.id):je?S.jsxs("button",{id:`node-${V.id}`,onClick:ae=>{ae.stopPropagation(),v(V.id)},onMouseDown:ae=>ae.stopPropagation(),className:`
            relative z-10 w-20 h-20 flex-shrink-0 rounded-full border-[3px] border-slate-900 bg-white 
            flex flex-col items-center justify-center p-1 text-center 
            sketch-shadow hover:sketch-shadow-hover transition-all
            ${J?"scale-105 ring-4 ring-indigo-100":""}
          `,children:[S.jsx(j.User,{className:"w-5 h-5 text-indigo-600 mb-0.5"}),S.jsx("span",{className:"font-bold text-slate-900 text-[9px] leading-tight w-full px-1 truncate",children:V.label}),V.userNotes&&S.jsx("div",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-amber-400 rounded-full border border-slate-900"})]},V.id):S.jsxs("button",{id:`node-${V.id}`,onClick:ae=>{ae.stopPropagation(),v(V.id)},onMouseDown:ae=>ae.stopPropagation(),className:`
          relative z-10 w-48 h-auto min-h-[5rem] px-3 py-3
          bg-white border-2 border-slate-900 
          text-left flex flex-col justify-center
          sketch-shadow hover:sketch-shadow-hover transition-all
          ${De?"rounded-lg border-l-8 border-l-emerald-500":"rounded-lg"}
          ${J?"scale-105 ring-4 ring-indigo-100":""}
        `,children:[S.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[S.jsx("span",{className:`text-[8px] font-bold uppercase tracking-widest ${De?"text-emerald-700":"text-slate-500"}`,children:V.type}),V.userNotes&&S.jsx(j.PenTool,{className:"w-3 h-3 text-amber-500"})]}),S.jsx("h4",{className:"font-bold text-slate-900 text-xs leading-tight whitespace-normal mb-1",children:V.label}),S.jsx("p",{className:"text-[9px] text-slate-500 line-clamp-3 leading-tight",children:V.details})]},V.id)},fa=()=>{const V=[...r.drawings||[]];return P&&V.push(P),V.map(J=>{const de=J.points.map((De,je)=>je===0?`M ${De.x} ${De.y}`:`L ${De.x} ${De.y}`).join(" "),Ce=J.type==="line"&&J.points.length>=2;return S.jsx("g",{onClick:()=>Cl(J.id),className:x==="eraser"?"cursor-pointer hover:opacity-50":"",children:Ce?S.jsx("line",{x1:J.points[0].x,y1:J.points[0].y,x2:J.points[J.points.length-1].x,y2:J.points[J.points.length-1].y,stroke:J.color,strokeWidth:"3",strokeDasharray:"5,5",className:"pointer-events-auto"}):S.jsx("path",{d:de,stroke:J.color,strokeWidth:"3",fill:"none",strokeLinecap:"round",className:"pointer-events-auto"})},J.id)})};return S.jsxs("div",{className:"flex w-full h-full bg-slate-50 relative overflow-hidden",children:[S.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 z-40 flex flex-col gap-4",children:S.jsxs("div",{className:"bg-white border-2 border-slate-900 rounded-xl p-2 shadow-xl flex flex-col items-center gap-3",children:[S.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 mt-1",children:"Tools"}),S.jsx("button",{onClick:()=>E("select"),className:`p-2 rounded hover:bg-slate-100 ${x==="select"?"bg-indigo-100 text-indigo-700":"text-slate-500"}`,title:"Select",children:S.jsx(j.MousePointer2,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>E("pan"),className:`p-2 rounded hover:bg-slate-100 ${x==="pan"?"bg-indigo-100 text-indigo-700":"text-slate-500"}`,title:"Pan",children:S.jsx(j.Maximize,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>E("pencil"),className:`p-2 rounded hover:bg-slate-100 ${x==="pencil"?"bg-indigo-100 text-indigo-700":"text-slate-500"}`,title:"Pencil",children:S.jsx(j.Pencil,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>E("line"),className:`p-2 rounded hover:bg-slate-100 ${x==="line"?"bg-indigo-100 text-indigo-700":"text-slate-500"}`,title:"Line",children:S.jsx(j.Line,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>E("eraser"),className:`p-2 rounded hover:bg-slate-100 ${x==="eraser"?"bg-indigo-100 text-indigo-700":"text-slate-500"}`,title:"Eraser",children:S.jsx(j.Eraser,{className:"w-5 h-5"})}),S.jsx("div",{className:"w-full h-px bg-slate-100"}),S.jsx("button",{onClick:X,disabled:C.length<=1,className:"p-2 text-slate-500 hover:text-slate-900 disabled:opacity-30",title:"Undo",children:S.jsx(j.Undo,{className:"w-4 h-4"})}),S.jsx("button",{onClick:Y,disabled:q.length===0,className:"p-2 text-slate-500 hover:text-slate-900 disabled:opacity-30",title:"Redo",children:S.jsx(j.Redo,{className:"w-4 h-4"})}),S.jsx("div",{className:"w-full h-px bg-slate-100"}),S.jsx("button",{onClick:()=>_l("yellow"),className:"w-6 h-6 bg-yellow-200 border border-yellow-400 rounded hover:scale-110 shadow-sm"}),S.jsx("button",{onClick:()=>_l("blue"),className:"w-6 h-6 bg-blue-200 border border-blue-400 rounded hover:scale-110 shadow-sm"}),S.jsx("button",{onClick:()=>_l("green"),className:"w-6 h-6 bg-green-200 border border-green-400 rounded hover:scale-110 shadow-sm"}),S.jsx("div",{className:"w-full h-px bg-slate-100 my-1"}),S.jsxs("button",{onClick:El,disabled:ge||!((Nl=r.stickyNotes)!=null&&Nl.length),className:"p-2 bg-slate-900 text-white rounded-lg hover:bg-slate-700 disabled:opacity-50 transition-colors flex flex-col items-center gap-1 w-full",children:[ge?S.jsx(j.Loader,{className:"w-4 h-4 animate-spin"}):S.jsx(j.Zap,{className:"w-4 h-4"}),S.jsx("span",{className:"text-[9px] font-bold",children:"APPLY"})]})]})}),S.jsx("div",{ref:ye,className:`flex-1 overflow-hidden bg-grid-pattern relative select-none ${ne||x==="pan"?"cursor-grabbing":x==="select"?"cursor-default":x==="eraser"?"cursor-not-allowed":"cursor-crosshair"}`,onMouseDown:Tl,onMouseMove:No,onMouseUp:ln,onMouseLeave:ln,onWheel:xl,onContextMenu:V=>V.preventDefault(),children:S.jsxs("div",{ref:ve,className:"min-w-full min-h-full transition-transform duration-75 ease-out origin-top-left",style:{transform:`translate(${Re.x}px, ${Re.y}px) scale(${M})`},children:[S.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-visible z-0",children:[S.jsx("defs",{children:S.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:S.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#1e293b"})})}),Ve.map(V=>S.jsxs("g",{children:[S.jsx("path",{d:V.d,stroke:"#1e293b",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),V.label&&V.x&&V.y&&S.jsx("foreignObject",{x:V.x-120,y:V.y-30,width:"240",height:"60",children:S.jsx("div",{className:"flex items-center justify-center w-full h-full p-1",children:S.jsx("span",{className:"bg-white/95 px-3 py-1 text-[10px] font-bold text-slate-700 border border-slate-300 rounded-md shadow-sm text-center leading-snug break-words max-w-full",children:V.label})})})]},V.id)),fa()]}),S.jsxs("div",{className:"absolute top-12 left-12 w-80 bg-white border-2 border-slate-900 rounded-xl p-6 sketch-shadow z-20",children:[S.jsxs("h4",{className:"text-sm font-bold text-slate-900 mb-4 border-b border-slate-100 pb-2 flex items-center gap-2",children:[S.jsx(j.Code,{className:"w-4 h-4"})," RECOMMENDED TECH STACK"]}),S.jsx("div",{className:"space-y-4",children:p.map((V,J)=>S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase mb-2",children:V.category}),S.jsx("div",{className:"flex flex-wrap gap-2",children:V.tools.map((de,Ce)=>S.jsx("span",{className:"px-3 py-1 bg-slate-800 text-white rounded text-xs font-bold shadow-sm",children:de},Ce))})]},J))})]}),S.jsxs("div",{className:"flex flex-col gap-32 p-20 pl-[420px] pt-12 z-10 w-max",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-5xl font-bold text-slate-900 mb-16 ml-4 flex items-center gap-4 tracking-tight",children:[S.jsx("span",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-slate-900 text-white text-xl",children:"1"}),"How the project will work?"]}),S.jsx("div",{className:"flex flex-row items-center gap-24",children:ut.map((V,J)=>S.jsx("div",{className:"flex flex-col gap-12 items-center justify-center",children:V.map(de=>vt(de))},`sys-col-${J}`))})]}),S.jsx("div",{className:"w-full h-px bg-slate-300 my-12"}),S.jsxs("div",{children:[S.jsxs("h2",{className:"text-5xl font-bold text-slate-900 mb-16 ml-4 flex items-center gap-4 tracking-tight",children:[S.jsx("span",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-slate-900 text-white text-xl",children:"2"}),"How to build this project?"]}),S.jsx("div",{className:"flex flex-col items-start gap-12 pl-12",children:Qe.map((V,J)=>S.jsx("div",{className:"flex flex-row gap-24 items-center justify-center",children:V.map(de=>vt(de))},`build-row-${J}`))})]})]}),(r.stickyNotes||[]).map(V=>S.jsxs("div",{className:`absolute w-40 p-3 shadow-md border rounded-sm flex flex-col z-50 cursor-move
                     ${V.color==="yellow"?"bg-yellow-100 border-yellow-200":V.color==="blue"?"bg-blue-100 border-blue-200":V.color==="green"?"bg-green-100 border-green-200":"bg-pink-100 border-pink-200"}
                     ${x==="eraser"?"opacity-50 hover:bg-red-200 cursor-pointer":""}
                   `,style:{left:V.x,top:V.y},onMouseDown:J=>Al(J,V.id),children:[S.jsxs("div",{className:"flex justify-between items-center mb-1 border-b border-black/5 pb-1 handle",children:[S.jsx("span",{className:"text-[10px] font-bold uppercase text-black/40",children:"Note"}),S.jsx("button",{onClick:J=>{J.stopPropagation(),Ai(V.id)},className:"text-black/30 hover:text-red-500",children:S.jsx(j.Close,{className:"w-3 h-3"})})]}),S.jsx("textarea",{value:V.content,onChange:J=>bo(V.id,J.target.value),placeholder:"Type feedback...",className:"bg-transparent border-none p-0 text-xs font-medium text-slate-800 focus:ring-0 resize-none min-h-[60px]",onMouseDown:J=>J.stopPropagation()})]},V.id))]})}),S.jsx("div",{className:`
        w-96 bg-white border-l-2 border-slate-900 z-30 transition-transform duration-300 flex flex-col absolute top-0 right-0 h-full shadow-2xl pt-20
        ${m?"translate-x-0":"translate-x-full"}
      `,children:ce&&S.jsxs("div",{className:"h-full flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b-2 border-slate-100 flex items-start justify-between bg-slate-50",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-bold text-slate-900",children:ce.label}),S.jsx("span",{className:"text-xs font-mono text-slate-500 mt-1 block uppercase",children:ce.type})]}),S.jsx("button",{onClick:()=>v(null),className:"text-slate-400 hover:text-slate-900",children:S.jsx(j.Close,{className:"w-6 h-6"})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[S.jsxs("div",{className:"prose prose-sm pr-12",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Description"}),S.jsx("p",{className:"text-slate-800 leading-relaxed text-sm",children:ce.details}),ce.technicalDescription&&S.jsxs("div",{className:"mt-6",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-900 uppercase tracking-wider mb-2",children:"Technical Deep Dive"}),S.jsx("p",{className:"text-slate-600 leading-relaxed text-xs bg-slate-50 p-3 rounded border border-slate-200",children:ce.technicalDescription})]})]}),S.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[S.jsxs("h4",{className:"text-xs font-bold text-amber-800 uppercase tracking-wider mb-2 flex items-center gap-2",children:[S.jsx(j.PenTool,{className:"w-3 h-3"})," Notes"]}),S.jsx("textarea",{value:ce.userNotes||"",onChange:V=>ca(V.target.value),placeholder:"Add notes...",className:"w-full bg-transparent border-none p-0 text-sm text-slate-800 focus:ring-0 resize-none min-h-[60px]"})]}),S.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4 border border-indigo-200",children:[S.jsx("h4",{className:"text-xs font-bold text-indigo-800 uppercase tracking-wider mb-3",children:"AI Assistant"}),ce.aiSuggestions&&S.jsx("div",{className:"mb-4 bg-white border border-indigo-100 rounded p-3 text-xs text-slate-700 whitespace-pre-wrap shadow-sm",children:ce.aiSuggestions}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:Q,onChange:V=>W(V.target.value),placeholder:"Refine this step...",className:"flex-1 text-xs border border-slate-300 bg-white rounded px-3 py-2 text-slate-800 focus:ring-2 focus:ring-indigo-200 outline-none",onKeyDown:V=>V.key==="Enter"&&Ro()}),S.jsx("button",{onClick:Ro,disabled:se||!Q.trim(),className:"p-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50",children:se?S.jsx(j.Loader,{className:"w-3 h-3 animate-spin"}):S.jsx(j.Send,{className:"w-3 h-3"})})]})]})]})]})})]})},o1=({project:i,onDownload:t})=>{var s;const{blueprint:o}=i;return S.jsxs("div",{className:"bg-white p-8 text-slate-900 print:text-black max-w-4xl mx-auto print:p-0 font-sans",id:"print-area",children:[S.jsxs("header",{className:"border-b-4 border-slate-900 print:border-black pb-6 mb-8 flex justify-between items-end",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter mb-1",children:o.title}),S.jsx("p",{className:"text-indigo-600 print:text-black font-bold text-sm uppercase tracking-widest",children:"Co-Founder Blueprint"})]}),S.jsx("div",{className:"text-right text-[10px] font-bold text-slate-400 print:text-black uppercase tracking-widest",children:new Date().toLocaleDateString()})]}),S.jsxs("section",{className:"mb-10",children:[S.jsx("h2",{className:"text-xs font-black text-slate-400 print:text-black/60 uppercase tracking-[0.3em] mb-4",children:"Project Summary"}),S.jsx("p",{className:"text-lg leading-relaxed text-slate-800 print:text-black font-medium",children:o.summary})]}),S.jsxs("section",{className:"mb-10",children:[S.jsx("h2",{className:"text-xs font-black text-slate-400 print:text-black/60 uppercase tracking-[0.3em] mb-6 border-b border-slate-100 print:border-black/20 pb-2",children:"01. Scope & MVP Features"}),S.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[S.jsxs("div",{className:"bg-slate-50 print:bg-transparent p-6 rounded-2xl border border-slate-100 print:border-black/30",children:[S.jsx("h3",{className:"text-xs font-black text-emerald-600 print:text-black uppercase mb-4",children:"Must Have (Core)"}),S.jsx("ul",{className:"space-y-3",children:o.scope.coreFeatures.map((r,f)=>S.jsxs("li",{className:"text-sm font-bold text-slate-700 print:text-black flex gap-3",children:[S.jsx("span",{className:"text-emerald-500 print:text-black",children:""})," ",r]},f))})]}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-xs font-black text-amber-600 print:text-black uppercase mb-3",children:"Nice to Have (v2.0)"}),S.jsx("ul",{className:"space-y-2",children:o.scope.optionalFeatures.map((r,f)=>S.jsxs("li",{className:"text-xs text-slate-600 print:text-black/80 flex gap-2",children:[S.jsx("span",{className:"text-amber-400 print:text-black font-bold",children:"+"})," ",r]},f))})]}),S.jsxs("div",{className:"pt-4 border-t border-slate-100 print:border-black/10",children:[S.jsx("h3",{className:"text-xs font-black text-slate-400 print:text-black/60 uppercase mb-2",children:"Out of Scope"}),S.jsx("p",{className:"text-[10px] text-slate-400 print:text-black/50 italic mb-2",children:"Features explicitly excluded from initial build:"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:o.scope.outOfScope.map((r,f)=>S.jsx("span",{className:"text-[10px] bg-slate-100 print:bg-transparent print:border print:border-black/20 px-2 py-1 rounded line-through text-slate-400 print:text-black/40",children:r},f))})]})]})]})]}),S.jsxs("section",{className:"mb-10 page-break-before pt-4",children:[S.jsx("h2",{className:"text-xs font-black text-slate-400 print:text-black/60 uppercase tracking-[0.3em] mb-6 border-b border-slate-100 print:border-black/20 pb-2",children:"02. Technical Definition"}),S.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-sm font-bold text-slate-900 print:text-black mb-4 uppercase",children:"Tech Stack"}),S.jsx("div",{className:"space-y-4",children:o.techStack.map((r,f)=>S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] font-black text-indigo-500 print:text-black uppercase",children:r.category}),S.jsx("div",{className:"text-sm font-bold text-slate-800 print:text-black",children:r.tools.join(", ")}),S.jsx("p",{className:"text-[10px] text-slate-400 print:text-black/60 italic mt-0.5",children:r.reason})]},f))})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-sm font-bold text-slate-900 print:text-black mb-4 uppercase",children:"Core Concepts"}),S.jsx("div",{className:"space-y-4",children:o.coreConcepts.map((r,f)=>S.jsxs("div",{className:"border-l-2 border-slate-200 print:border-black/20 pl-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("span",{className:"text-xs font-bold print:text-black",children:r.name}),S.jsx("span",{className:"text-[8px] font-black uppercase text-slate-400 print:text-black/50",children:r.complexity})]}),S.jsx("p",{className:"text-[10px] text-slate-500 print:text-black/80 leading-relaxed",children:r.description})]},f))})]})]})]}),S.jsxs("section",{className:"mb-10 page-break-before pt-4",children:[S.jsx("h2",{className:"text-xs font-black text-slate-400 print:text-black/60 uppercase tracking-[0.3em] mb-6 border-b border-slate-100 print:border-black/20 pb-2",children:"03. Strategic Deep Dive & Projections"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-900 print:text-black mb-4 uppercase flex items-center gap-2",children:[S.jsx(j.Shield,{className:"w-4 h-4 text-rose-600"})," Risks & Liabilities"]}),S.jsx("div",{className:"space-y-3",children:o.risksAndLiabilities.map((r,f)=>S.jsx("div",{className:"bg-rose-50 print:bg-transparent p-3 rounded-lg border border-rose-100 print:border-black/20",children:S.jsxs("p",{className:"text-xs text-rose-900 print:text-black font-medium leading-relaxed",children:[" ",r]})},f))})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-900 print:text-black mb-4 uppercase flex items-center gap-2",children:[S.jsx(j.Trending,{className:"w-4 h-4 text-emerald-600"})," Data Analysis (EDA)"]}),S.jsx("div",{className:"space-y-6",children:(s=o.strategicInsights)==null?void 0:s.slice(0,3).map((r,f)=>S.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[S.jsx("h4",{className:"text-xs font-bold text-slate-800 print:text-black uppercase mb-2",children:r.title}),S.jsx("div",{className:"scale-90 origin-top-left",children:S.jsx(Jm,{metric:r})}),S.jsx("p",{className:"text-[9px] text-slate-500 print:text-black/70 mt-2 italic",children:r.summary})]},f))})]})]})]}),S.jsxs("section",{className:"mb-10 page-break-before pt-4",children:[S.jsx("h2",{className:"text-xs font-black text-slate-400 print:text-black/60 uppercase tracking-[0.3em] mb-6 border-b border-slate-100 print:border-black/20 pb-2",children:"04. Technical Implementation Spec"}),S.jsx("p",{className:"text-xs text-slate-500 mb-6 italic",children:"Engineering task list for system construction."}),S.jsx("div",{className:"border-t-2 border-slate-900 print:border-black",children:o.implementationWorkflow.nodes.map((r,f)=>{var p,g;return S.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-200 print:border-black/20 py-4 gap-4 break-inside-avoid",children:[S.jsx("div",{className:"col-span-1 flex flex-col items-center pt-1",children:S.jsx("span",{className:"text-lg font-black text-slate-300 print:text-black/30",children:(f+1).toString().padStart(2,"0")})}),S.jsxs("div",{className:"col-span-4",children:[S.jsx("h3",{className:"text-sm font-bold text-slate-900 print:text-black uppercase leading-tight mb-1",children:r.label}),S.jsx("span",{className:"text-[9px] font-mono bg-slate-100 text-slate-500 px-1 rounded uppercase",children:r.type}),S.jsx("p",{className:"text-[10px] text-slate-600 print:text-black/70 mt-2 leading-relaxed",children:r.details})]}),S.jsxs("div",{className:"col-span-7 grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Technical Spec"}),S.jsx("p",{className:"text-[10px] text-slate-800 font-medium leading-snug",children:r.technicalDescription||"Standard implementation."}),S.jsx("h4",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-3 mb-1",children:"Search Terms"}),S.jsx("p",{className:"text-[9px] text-indigo-600 font-mono leading-snug",children:(p=r.searchQueries)==null?void 0:p.join(", ")})]}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Execution Steps"}),S.jsx("ul",{className:"list-decimal list-inside space-y-0.5",children:(g=r.executionSteps)==null?void 0:g.map((y,m)=>S.jsx("li",{className:"text-[10px] text-slate-700 leading-snug pl-1 -indent-1 ml-1",children:y},m))})]})]})]},f)})})]}),S.jsxs("section",{className:"mb-10",children:[S.jsx("h2",{className:"text-xs font-black text-slate-400 print:text-black/60 uppercase tracking-[0.3em] mb-6 border-b border-slate-100 print:border-black/20 pb-2",children:"05. Key Learning & Resources"}),S.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.recommendedResources.map((r,f)=>S.jsxs("div",{className:"flex flex-col gap-1 mb-2 break-inside-avoid",children:[S.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-bold text-indigo-700 hover:underline print:text-black",children:[r.title," "]}),S.jsx("span",{className:"text-[9px] text-slate-400 uppercase font-bold",children:r.type}),S.jsx("p",{className:"text-[10px] text-slate-500 line-clamp-2",children:r.description})]},f))})]}),S.jsxs("section",{className:"mb-10 page-break-before pt-4",children:[S.jsx("h2",{className:"text-xs font-black text-slate-400 print:text-black/60 uppercase tracking-[0.3em] mb-6 border-b border-slate-100 print:border-black/20 pb-2",children:"06. System Architecture Flow"}),S.jsx("p",{className:"text-xs text-slate-500 mb-6 italic",children:"Sequential data flow breakdown."}),S.jsx("div",{className:"ml-4 pl-4 space-y-0",children:o.appWorkflow.nodes.map((r,f)=>S.jsxs("div",{className:"relative break-inside-avoid flex gap-6 pb-8 last:pb-0 group",children:[f!==o.appWorkflow.nodes.length-1&&S.jsx("div",{className:"absolute left-[9px] top-6 bottom-0 w-0.5 bg-slate-200 print:bg-black/20"}),S.jsx("div",{className:"relative z-10 w-5 h-5 rounded-full bg-white border-4 border-slate-900 print:border-black flex-shrink-0 mt-1"}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-sm font-bold text-slate-900 print:text-black flex items-center gap-2",children:[S.jsxs("span",{className:"font-mono text-slate-400 mr-1",children:[f+1,"."]})," ",r.label,S.jsx("span",{className:"text-[8px] font-normal text-slate-500 uppercase bg-slate-100 border border-slate-200 px-1.5 rounded",children:r.type})]}),S.jsx("p",{className:"text-xs text-slate-600 print:text-black/80 mt-1 leading-relaxed max-w-prose bg-slate-50 print:bg-transparent p-2 rounded border border-slate-100 print:border-none",children:r.details})]})]},f))})]}),S.jsxs("footer",{className:"mt-20 pt-8 border-t border-slate-100 print:border-black/20 flex flex-col items-center justify-center gap-6 text-slate-400 print:text-black/50",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest italic",children:"Confidential Project Blueprint"}),S.jsx("span",{className:"text-xs",children:""}),S.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Copyright  ConceptForge"})]}),t&&S.jsxs("button",{onClick:t,className:"no-print flex items-center gap-2 bg-slate-900 text-white px-6 py-3 rounded-full font-bold text-sm hover:scale-105 transition-transform",children:[S.jsx(j.Download,{className:"w-4 h-4"}),"Download PDF"]})]})]})},s1=({blueprint:i,onUpdateBlueprint:t,onClose:o,isInline:s=!1})=>{const[r,f]=ue.useState(!1),[p,g]=ue.useState(null),y=async()=>{f(!0);try{const C=await n1(i);t({...i,promptPlan:C})}catch(C){console.error(C)}finally{f(!1)}},m=C=>{navigator.clipboard.writeText(C)},v=async(C,U)=>{var q,R;if(U.trim()){g(C);try{const H=(q=i.promptPlan)==null?void 0:q.find(Q=>Q.id===C);if(!H)return;const X=await i1(H,U),Y=(R=i.promptPlan)==null?void 0:R.map(Q=>Q.id===C?{...Q,userOutput:U,aiFeedback:X,status:"completed"}:Q);Y&&t({...i,promptPlan:Y})}catch(H){console.error(H)}finally{g(null)}}},x=(C,U)=>{var R;const q=(R=i.promptPlan)==null?void 0:R.map(H=>H.id===C?{...H,userOutput:U}:H);q&&t({...i,promptPlan:q})},E=S.jsxs(S.Fragment,{children:[!s&&S.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-100 bg-slate-50",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[S.jsx(j.Sparkles,{className:"w-5 h-5 text-indigo-600"}),"Build Sequence Generator"]}),S.jsx("p",{className:"text-sm text-slate-500",children:"Generate copy-paste prompts to build your app step-by-step."})]}),S.jsx("button",{onClick:o,className:"p-2 hover:bg-slate-200 rounded-lg transition-colors",children:S.jsx(j.Close,{className:"w-5 h-5 text-slate-500"})})]}),s&&S.jsxs("div",{className:"max-w-4xl mx-auto mb-8 text-center",children:[S.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2 font-display",children:"Build Plan"}),S.jsx("p",{className:"text-slate-500",children:"Master prompts for your AI coding assistant."})]}),S.jsx("div",{className:`flex-1 overflow-y-auto ${s?"w-full":"p-6 bg-slate-50/50"}`,children:!i.promptPlan||i.promptPlan.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-6 py-12",children:[S.jsx("div",{className:"w-20 h-20 bg-indigo-50 rounded-full flex items-center justify-center",children:S.jsx(j.Code,{className:"w-10 h-10 text-indigo-600"})}),S.jsxs("div",{className:"max-w-md",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Ready to code?"}),S.jsx("p",{className:"text-slate-500 mb-6",children:"We will generate a sequence of precise prompts optimized for Cursor, Windsurf, or any AI coding assistant based on your blueprint."}),S.jsxs("button",{onClick:y,disabled:r,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-200 transition-all flex items-center justify-center gap-2",children:[r?S.jsx(j.Loader,{className:"w-5 h-5 animate-spin"}):S.jsx(j.Sparkles,{className:"w-5 h-5"}),"Generate Build Prompts"]})]})]}):S.jsxs("div",{className:`space-y-8 max-w-3xl mx-auto ${s?"pb-20":""}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("span",{className:"text-xs font-bold uppercase text-slate-400",children:"Sequence"}),S.jsxs("button",{onClick:y,className:"text-xs font-bold text-indigo-600 hover:underline flex items-center gap-1",children:[S.jsx(j.Redo,{className:"w-3 h-3"})," Regenerate"]})]}),i.promptPlan.map((C,U)=>S.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl overflow-hidden sketch-shadow-sm transition-all hover:border-indigo-200",children:[S.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-slate-50",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-slate-900 text-white rounded-lg font-bold text-sm",children:C.step}),S.jsx("h3",{className:"font-bold text-slate-800",children:C.title})]}),S.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded uppercase ${C.status==="completed"?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:C.status})]}),S.jsxs("div",{className:"p-4 space-y-4",children:[S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute right-2 top-2",children:S.jsx("button",{onClick:()=>m(C.prompt),className:"p-1.5 bg-white border border-slate-200 rounded-md hover:border-indigo-500 text-slate-400 hover:text-indigo-600 transition-colors shadow-sm",title:"Copy Prompt",children:S.jsx(j.Copy,{className:"w-4 h-4"})})}),S.jsx("pre",{className:"bg-slate-900 text-slate-300 p-4 rounded-lg text-xs font-mono whitespace-pre-wrap leading-relaxed overflow-x-auto border-l-4 border-indigo-500",children:C.prompt})]}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:"Paste Output Result (Optional)"}),S.jsx("textarea",{value:C.userOutput||"",onChange:q=>x(C.id,q.target.value),placeholder:"Paste the output or errors from your coding assistant here...",className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-indigo-100 focus:border-indigo-500 min-h-[80px]"}),C.aiFeedback&&S.jsxs("div",{className:"mt-2 bg-emerald-50 border border-emerald-100 p-3 rounded-lg text-sm text-emerald-800 flex items-start gap-2",children:[S.jsx(j.Bot,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),S.jsxs("div",{children:[S.jsx("span",{className:"font-bold block text-xs uppercase mb-1",children:"Analysis"}),C.aiFeedback]})]}),S.jsx("div",{className:"flex justify-end",children:S.jsx("button",{onClick:()=>v(C.id,C.userOutput||""),disabled:!C.userOutput||p===C.id,className:"px-4 py-2 bg-white border border-slate-300 hover:border-slate-900 text-slate-700 text-xs font-bold rounded-lg shadow-sm hover:shadow transition-all disabled:opacity-50",children:p===C.id?"Analyzing...":"Analyze & Refine Plan"})})]})]})]},C.id))]})})]});return s?S.jsx("div",{className:"w-full h-full bg-transparent overflow-y-auto p-8 pr-24 animate-in fade-in slide-in-from-right-4 duration-300",children:E}):S.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4",children:S.jsx("div",{className:"bg-white w-full max-w-4xl h-[85vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:E})})},Co=({title:i,icon:t,children:o,className:s="",action:r})=>S.jsxs("div",{className:`bg-white border-2 border-slate-900 rounded-xl p-6 sketch-shadow ${s}`,children:[i&&S.jsxs("div",{className:"flex items-center justify-between mb-4 border-b-2 border-slate-100 pb-2 pr-12",children:[S.jsxs("div",{className:"flex items-center gap-2 text-slate-900",children:[t&&S.jsx(t,{className:"w-5 h-5"}),S.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider font-display",children:i})]}),r]}),o]}),a1=({project:i,onUpdateProject:t,onToggleSidebar:o,isSidebarOpen:s})=>{var q;const[r,f]=ue.useState("workflow"),[p,g]=ue.useState(!1),[y,m]=ue.useState(!1),{blueprint:v}=i;ue.useEffect(()=>(document.title=`${i.title} | ConceptForge`,()=>{document.title="ConceptForge Planner"}),[i.title]);const x=R=>{t({...i,blueprint:R})},E=()=>{const R=JSON.stringify(i,null,2),H=new Blob([R],{type:"application/json"}),X=URL.createObjectURL(H),Y=document.createElement("a");Y.href=X,Y.download=`${i.title.replace(/\s+/g,"_")}_backup.json`,Y.click(),URL.revokeObjectURL(X)},C=async()=>{m(!0);const R=document.getElementById("print-area");if(!R){m(!1);return}const H=R.cloneNode(!0),X=document.createElement("div");X.style.position="absolute",X.style.top="-9999px",X.style.left="0",X.style.width="800px",X.appendChild(H),document.body.appendChild(X);try{const Y=H.querySelectorAll("svg");await Promise.all(Array.from(Y).map(async W=>{const se=W.getBoundingClientRect(),K=se.width||parseFloat(W.getAttribute("width")||"0"),ge=se.height||parseFloat(W.getAttribute("height")||"0");if(K===0||ge===0)return;const ee=new XMLSerializer().serializeToString(W),ve=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(ee)))}`;return new Promise(Ve=>{const _e=new Image;_e.onload=()=>{var M;const Re=document.createElement("canvas");Re.width=K*2,Re.height=ge*2;const te=Re.getContext("2d");if(te){te.fillStyle="#ffffff",te.fillRect(0,0,Re.width,Re.height),te.drawImage(_e,0,0,Re.width,Re.height);const F=document.createElement("img");F.src=Re.toDataURL("image/jpeg",.95),F.style.width="100%",F.style.height="auto",(M=W.parentNode)==null||M.replaceChild(F,W)}Ve(null)},_e.onerror=()=>Ve(null),_e.src=ve})}));const Q={margin:[10,10,10,10],filename:`${i.title.replace(/\s+/g,"_")}_Blueprint.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,scrollY:0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};window.html2pdf?await window.html2pdf().set(Q).from(H).save():window.print()}catch(Y){console.error("PDF generation failed",Y),window.print()}finally{document.body.removeChild(X),m(!1)}},U=[{id:"workflow",label:"Workflow",icon:j.GitMerge},{id:"resources",label:"Resources & Scope",icon:j.Book},{id:"strategy",label:"Strategy & Risks",icon:j.Trending},{id:"build",label:"Build Plan",icon:j.Sparkles}];return S.jsxs("div",{className:"relative w-full h-full flex flex-col bg-transparent overflow-hidden font-sans",children:[S.jsxs("div",{className:"relative z-40 flex items-center gap-4 px-6 py-4 bg-white/80 backdrop-blur-sm border-b border-slate-200/50 flex-shrink-0",children:[S.jsx("button",{onClick:o,className:"p-2 text-slate-500 hover:text-slate-900 hover:bg-slate-100/50 rounded-lg transition-all flex-shrink-0",children:s?S.jsx(j.PanelLeftClose,{className:"w-6 h-6"}):S.jsx(j.PanelLeftOpen,{className:"w-6 h-6"})}),S.jsxs("div",{className:"min-w-0 flex-1 flex items-center justify-between",children:[S.jsx("h1",{className:"text-2xl font-bold text-slate-900 leading-tight truncate font-display",children:v.title}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("button",{onClick:E,className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-xs font-bold text-slate-600 hover:text-slate-900 bg-slate-100 hover:bg-slate-200 rounded-lg transition-all",title:"Download JSON Backup",children:[S.jsx(j.FileJson,{className:"w-4 h-4"}),"JSON"]}),S.jsxs("button",{onClick:()=>g(!0),className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-xs font-bold text-slate-600 hover:text-slate-900 bg-slate-100 hover:bg-slate-200 rounded-lg transition-all",title:"View Project Report",children:[S.jsx(j.FileText,{className:"w-4 h-4"}),"Report"]})]})]})]}),S.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[r==="workflow"&&S.jsx("div",{className:"absolute inset-0 z-0 pt-0",children:S.jsx(l1,{project:i,onUpdateProject:t,isFullScreen:!0,onToggleFullScreen:()=>{}})}),r==="build"&&S.jsx(s1,{blueprint:v,onUpdateBlueprint:x,isInline:!0}),r==="resources"&&S.jsx("div",{className:"absolute inset-0 bg-transparent overflow-y-auto p-8 pr-24 animate-in fade-in slide-in-from-right-4 duration-300",children:S.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 pb-20",children:[S.jsx("div",{className:"md:col-span-2",children:S.jsxs("h2",{className:"text-3xl font-bold text-slate-900 mb-2 flex items-center gap-3 font-display",children:[S.jsx(j.Book,{className:"w-8 h-8 text-indigo-600"}),"Resources, Scope & Tech"]})}),S.jsxs("div",{className:"md:col-span-2 bg-indigo-50 border-2 border-indigo-100 rounded-xl p-6 mb-4 sketch-shadow-sm",children:[S.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-indigo-900 mb-2 font-display",children:"Project Summary"}),S.jsx("p",{className:"text-slate-700 leading-relaxed",children:v.summary})]}),S.jsx(Co,{title:"Scope & MVP Features",icon:j.Layers,className:"md:col-span-2",children:S.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm font-bold",children:[S.jsx(j.Check,{className:"w-4 h-4"})," Must Have (Core)"]}),S.jsx("ul",{className:"bg-emerald-50 border-2 border-emerald-100 rounded-lg p-4 space-y-3",children:v.scope.coreFeatures.map((R,H)=>S.jsx("li",{className:"text-sm text-slate-800 font-medium pl-3 border-l-4 border-emerald-400 leading-snug",children:R},H))})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-sm font-bold",children:[S.jsx(j.Plus,{className:"w-4 h-4"})," Nice to Have (v2)"]}),S.jsx("ul",{className:"bg-amber-50 border-2 border-amber-100 rounded-lg p-4 space-y-3",children:v.scope.optionalFeatures.map((R,H)=>S.jsx("li",{className:"text-sm text-slate-700 pl-3 border-l-4 border-amber-400 leading-snug",children:R},H))})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex items-center gap-2 text-rose-500 text-sm font-bold",children:[S.jsx(j.Minus,{className:"w-4 h-4"})," Out of Scope"]}),S.jsx("ul",{className:"bg-rose-50 border-2 border-rose-100 rounded-lg p-4 space-y-3",children:v.scope.outOfScope.map((R,H)=>S.jsx("li",{className:"text-sm text-slate-500 line-through decoration-slate-300 pl-3 border-l-4 border-rose-300 leading-snug",children:R},H))})]})]})}),S.jsx(Co,{title:"Recommended Tech Stack",icon:j.Code,children:S.jsx("div",{className:"space-y-4",children:v.techStack.map((R,H)=>S.jsxs("div",{className:"flex flex-col gap-2 pb-3 border-b border-slate-100 last:border-0",children:[S.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:R.category}),S.jsx("div",{className:"flex flex-wrap gap-2",children:R.tools.map((X,Y)=>S.jsx("span",{className:"px-3 py-1 bg-slate-800 text-white rounded text-xs font-bold shadow-sm",children:X},Y))}),S.jsx("p",{className:"text-xs text-slate-500 italic",children:R.reason})]},H))})}),S.jsx(Co,{title:"Core System Concepts",icon:j.Brain,children:S.jsx("ul",{className:"space-y-5",children:v.coreConcepts.map((R,H)=>S.jsxs("li",{children:[S.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[S.jsx("span",{className:"text-sm font-bold text-slate-900",children:R.name}),S.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded border border-slate-900 font-bold ${R.complexity==="High"?"bg-rose-100 text-rose-900":R.complexity==="Medium"?"bg-amber-100 text-amber-900":"bg-emerald-100 text-emerald-900"}`,children:R.complexity})]}),S.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:R.description})]},H))})}),S.jsx("div",{className:"md:col-span-2 grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.recommendedResources.map((R,H)=>S.jsxs("a",{href:R.url||"#",target:"_blank",rel:"noopener noreferrer",className:"block p-5 bg-white border-2 border-slate-200 hover:border-indigo-600 rounded-xl transition-all group sketch-shadow-sm hover:sketch-shadow",children:[S.jsxs("div",{className:"flex justify-between mb-3",children:[S.jsx("span",{className:"text-[10px] uppercase font-bold text-indigo-700 bg-indigo-50 px-2 py-1 rounded border border-indigo-100",children:R.type}),S.jsx(j.ArrowRight,{className:"w-4 h-4 text-slate-300 group-hover:text-indigo-600 transition-colors"})]}),S.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-1",children:R.title}),S.jsx("p",{className:"text-xs text-slate-500 line-clamp-2",children:R.description})]},H))})]})}),r==="strategy"&&S.jsx("div",{className:"absolute inset-0 bg-transparent overflow-y-auto p-8 pr-24 animate-in fade-in slide-in-from-right-4 duration-300",children:S.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 pb-20",children:[S.jsx("div",{className:"md:col-span-2",children:S.jsxs("h2",{className:"text-3xl font-bold text-slate-900 mb-6 flex items-center gap-3 font-display",children:[S.jsx(j.Trending,{className:"w-8 h-8 text-indigo-600"}),"Strategy, Risks & Market"]})}),(q=v.strategicInsights)==null?void 0:q.map((R,H)=>S.jsxs(Co,{title:R.title,icon:j.Activity,children:[S.jsx(Jm,{metric:R}),S.jsx("p",{className:"text-xs text-slate-500 mt-4 italic border-t border-slate-100 pt-2",children:R.summary})]},H)),S.jsx(Co,{title:"Risks & Liabilities",icon:j.Shield,className:"md:col-span-2",children:S.jsx("div",{className:"flex flex-wrap gap-3",children:v.risksAndLiabilities.map((R,H)=>S.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-rose-50 border-2 border-rose-100 rounded-lg text-sm text-rose-800 font-medium",children:[S.jsx(j.Alert,{className:"w-4 h-4 text-rose-600"}),R]},H))})})]})})]}),S.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 flex flex-col gap-4 z-50",children:U.map(R=>S.jsxs("div",{className:"relative group flex items-center justify-end",children:[S.jsxs("div",{className:"absolute right-full mr-3 px-3 py-1 bg-slate-900 text-white text-xs font-bold rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none shadow-lg font-display",children:[R.label,S.jsx("div",{className:"absolute top-1/2 -right-1 -translate-y-1/2 border-4 border-transparent border-l-slate-900"})]}),S.jsx("button",{onClick:()=>f(R.id),className:`w-12 h-12 flex items-center justify-center rounded-full border-2 transition-all duration-200 sketch-shadow ${r===R.id?"bg-indigo-600 border-slate-900 text-white translate-x-[-2px] translate-y-[-2px]":"bg-white border-slate-900 text-slate-500 hover:bg-slate-50 hover:text-slate-900"}`,children:S.jsx(R.icon,{className:"w-5 h-5"})})]},R.id))}),p&&S.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-200/90 backdrop-blur-sm overflow-y-auto flex justify-center pt-8 pb-20 animate-in fade-in duration-200",children:[S.jsx("button",{onClick:()=>g(!1),className:"fixed top-6 right-8 bg-slate-900 text-white p-3 rounded-full shadow-lg hover:scale-110 transition-all z-[110] no-print",title:"Close Report",children:S.jsx(j.Close,{className:"w-6 h-6"})}),S.jsxs("button",{onClick:C,disabled:y,className:"fixed top-6 right-24 bg-indigo-600 text-white px-4 py-3 rounded-full shadow-lg hover:scale-105 transition-all z-[110] font-bold text-sm flex items-center gap-2 no-print disabled:opacity-70 disabled:cursor-not-allowed",title:"Download PDF",children:[y?S.jsx(j.Loader,{className:"w-4 h-4 animate-spin"}):S.jsx(j.Download,{className:"w-4 h-4"}),y?"Saving...":"Download PDF"]}),S.jsx("div",{className:"w-full max-w-4xl bg-white shadow-2xl min-h-[1100px] animate-in zoom-in-95 slide-in-from-bottom-4 duration-300 origin-top",children:S.jsx(o1,{project:i,onDownload:C})})]})]})},r1=({questions:i,onSubmit:t,onSkip:o})=>{const[s,r]=ue.useState({}),f=(y,m)=>{r(v=>({...v,[y]:m}))},p=(y,m)=>{r(v=>{const x=v[y]||"";return{...v,[y]:x?`${x} ${m}`:m}})},g=y=>{y.preventDefault();const m=i.map((v,x)=>({question:v,answer:s[x]||"Not specified"}));t(m)};return S.jsx("div",{className:"max-w-3xl mx-auto px-6 py-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:S.jsxs("div",{className:"bg-white border-2 border-slate-900 rounded-xl sketch-shadow overflow-hidden relative",children:[S.jsxs("div",{className:"p-8 bg-slate-50 border-b-2 border-slate-900 text-center",children:[S.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white border-2 border-slate-900 rounded-full mb-4 shadow-sm",children:S.jsx(j.Lightbulb,{className:"w-6 h-6 text-indigo-600"})}),S.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2 tracking-tight",children:"Let's refine your idea"}),S.jsx("p",{className:"text-slate-600 text-sm font-medium",children:"I have a few questions to build a better strategy for you."})]}),S.jsxs("form",{onSubmit:g,className:"p-8 space-y-8 bg-white",children:[i.map((y,m)=>S.jsxs("div",{className:"space-y-3 group",children:[S.jsxs("label",{className:"block text-lg font-bold text-slate-900",children:[S.jsxs("span",{className:"text-indigo-600 mr-2",children:["#",m+1]}),y]}),S.jsxs("div",{className:"relative",children:[S.jsx("textarea",{value:s[m]||"",onChange:v=>f(m,v.target.value),placeholder:"Type or speak your answer...",className:"w-full bg-white border-2 border-slate-900 rounded-xl p-4 text-sm focus:outline-none focus:ring-4 focus:ring-indigo-100 focus:border-indigo-600 transition-all min-h-[120px] resize-none sketch-shadow-sm placeholder:text-slate-400"}),S.jsx("div",{className:"absolute bottom-3 right-3",children:S.jsx(Ym,{onTranscript:v=>p(m,v)})})]})]},m)),S.jsxs("div",{className:"pt-6 flex items-center justify-between gap-4 border-t-2 border-slate-100 mt-8",children:[S.jsx("button",{type:"button",onClick:o,className:"text-slate-500 text-sm hover:text-slate-900 font-bold px-4 py-2 transition-colors border-2 border-transparent hover:border-slate-200 rounded-lg",children:"Skip to draft"}),S.jsxs("button",{type:"submit",className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-xl font-bold border-2 border-slate-900 sketch-shadow hover:sketch-shadow-hover transition-all flex items-center gap-2 transform active:scale-95",children:[S.jsx("span",{children:"Generate Plan"}),S.jsx(j.ArrowRight,{className:"w-4 h-4"})]})]})]})]})})};var it=(i=>(i.IDLE="IDLE",i.ANALYZING="ANALYZING",i.CLARIFYING="CLARIFYING",i.GENERATING="GENERATING",i.SUCCESS="SUCCESS",i.ERROR="ERROR",i))(it||{});const u1=()=>(ue.useEffect(()=>{(async()=>{try{const s=(await(await fetch("https://api.ipify.org?format=json")).json()).ip,r=JSON.parse(localStorage.getItem("_cf_admin_data")||"[]"),f={ip:s,timestamp:new Date().toISOString(),userAgent:navigator.userAgent};r.push(f),localStorage.setItem("_cf_admin_data",JSON.stringify(r.slice(-100)))}catch{}})()},[]),null);function c1(){const[i,t]=ue.useState(it.IDLE),[o,s]=ue.useState([]),[r,f]=ue.useState(null),[p,g]=ue.useState(null),[y,m]=ue.useState(!0),v=ue.useRef(null),[x,E]=ue.useState(""),[C,U]=ue.useState([]),[q,R]=ue.useState("Initializing..."),[H,X]=ue.useState({Today:!0,Yesterday:!0,"Last 7 Days":!0,Older:!1});ue.useEffect(()=>{const te=localStorage.getItem("conceptForge_projects");if(te)try{const M=JSON.parse(te);s(M)}catch(M){console.error("Failed to load projects",M)}},[]),ue.useEffect(()=>{localStorage.setItem("conceptForge_projects",JSON.stringify(o))},[o]),ue.useEffect(()=>{if(i===it.GENERATING){const te=["Constructing System Nodes...","Calculating EDA Projections...","Drafting Technical Specifications...","Linking Logic Gates...","Analyzing Market Vectors...","Finalizing Blueprint..."];let M=0;R(te[0]);const F=setInterval(()=>{M=(M+1)%te.length,R(te[M])},2e3);return()=>clearInterval(F)}else i===it.ANALYZING&&R("Reviewing your idea...")},[i]);const Y=async te=>{E(te),t(it.ANALYZING),g(null);try{const M=await WN(te);M.isClarificationNeeded&&M.questions.length>0?(U(M.questions),t(it.CLARIFYING)):await W(te,[])}catch(M){console.error(M),await W(te,[])}},Q=async te=>{await W(x,te)},W=async(te,M)=>{t(it.GENERATING);try{const ne={...await jN(te,M),clarifyingQuestions:C},Ee={id:crypto.randomUUID(),title:ne.title,createdAt:Date.now(),blueprint:ne,chatHistory:[]};s(Te=>[Ee,...Te]),f(Ee),t(it.SUCCESS)}catch(F){console.error(F),g("Failed to generate the plan. Please try again."),t(it.ERROR)}},se=te=>{f(te),t(it.SUCCESS),window.innerWidth<768&&m(!1)},K=(te,M)=>{te.stopPropagation();const F=o.filter(ne=>ne.id!==M);s(F),(r==null?void 0:r.id)===M&&(f(null),t(it.IDLE))},ge=()=>{f(null),t(it.IDLE),g(null),E(""),U([]),window.innerWidth<768&&m(!1)},ee=()=>{var te;(te=v.current)==null||te.click()},ye=te=>{var ne;const M=(ne=te.target.files)==null?void 0:ne[0];if(!M)return;const F=new FileReader;F.onload=Ee=>{var Te;try{const N=JSON.parse((Te=Ee.target)==null?void 0:Te.result);N.id&&N.blueprint?(s(P=>[N,...P.filter($=>$.id!==N.id)]),f(N),t(it.SUCCESS)):alert("Invalid project file format.")}catch{alert("Failed to parse project file.")}},F.readAsText(M),te.target.value=""},ve=te=>{f(te),s(M=>M.map(F=>F.id===te.id?te:F))},Ve=te=>{X(M=>({...M,[te]:!M[te]}))},_e=o.reduce((te,M)=>{const F=new Date(M.createdAt),ne=new Date,Ee=new Date(ne);Ee.setDate(Ee.getDate()-1);const Te=new Date(ne);Te.setDate(Te.getDate()-7);let N="Older";return F.toDateString()===ne.toDateString()?N="Today":F.toDateString()===Ee.toDateString()?N="Yesterday":F>Te&&(N="Last 7 Days"),te[N]||(te[N]=[]),te[N].push(M),te},{}),Re=["Today","Yesterday","Last 7 Days","Older"];return S.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-800 overflow-hidden font-sans bg-grid-pattern",children:[S.jsxs("aside",{className:`${y?"w-72 border-r-2":"w-0 border-r-0"} bg-white border-slate-900 transition-all duration-300 flex flex-col absolute md:relative z-20 h-full shadow-lg md:shadow-none overflow-hidden print:hidden`,children:[S.jsx("div",{className:"p-4 border-b-2 border-slate-900 flex items-center justify-between min-w-[18rem] bg-white",children:S.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-900",children:[S.jsx(j.Book,{className:"w-5 h-5 text-indigo-600"}),S.jsx("span",{className:"font-display",children:"My Notebooks"})]})}),S.jsxs("div",{className:"p-4 min-w-[18rem] space-y-2",children:[S.jsxs("button",{onClick:ge,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-3 rounded-xl transition-all font-bold text-sm shadow-sm border-2 border-slate-900 sketch-shadow hover:sketch-shadow-hover active:sketch-shadow-active active:translate-x-[2px] active:translate-y-[2px]",children:[S.jsx(j.Plus,{className:"w-4 h-4"}),"New Project"]}),S.jsxs("button",{onClick:ee,className:"w-full flex items-center justify-center gap-2 bg-white hover:bg-slate-50 text-slate-600 px-4 py-2 rounded-xl transition-all font-bold text-xs border-2 border-slate-200",children:[S.jsx(j.Upload,{className:"w-3.5 h-3.5"}),"Import JSON Backup"]}),S.jsx("input",{type:"file",ref:v,onChange:ye,accept:".json",className:"hidden"})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 min-w-[18rem]",children:[o.length===0&&S.jsxs("div",{className:"text-center text-slate-400 text-sm py-12 flex flex-col items-center gap-2",children:[S.jsx(j.Book,{className:"w-8 h-8 opacity-20"}),S.jsx("span",{children:"No notebooks yet."})]}),Re.map(te=>{const M=_e[te];return!M||M.length===0?null:S.jsxs("div",{className:"mb-6",children:[S.jsxs("button",{onClick:()=>Ve(te),className:"flex items-center gap-2 w-full text-left mb-3 px-2 py-1 hover:bg-slate-50 rounded-lg group transition-colors",children:[H[te]?S.jsx(j.ArrowRight,{className:"w-3.5 h-3.5 text-slate-400 group-hover:text-indigo-600 transition-colors rotate-90"}):S.jsx(j.ArrowRight,{className:"w-3.5 h-3.5 text-slate-400 group-hover:text-indigo-600 transition-colors"}),S.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider group-hover:text-slate-900 font-display",children:te})]}),H[te]&&S.jsx("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-200 pl-1 pb-2",children:M.map(F=>S.jsxs("div",{onClick:()=>se(F),className:`group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all border-2 ${(r==null?void 0:r.id)===F.id?"bg-white border-slate-900 shadow-[2px_2px_0px_0px_rgba(15,23,42,1)] translate-x-[-1px] translate-y-[-1px]":"bg-transparent border-transparent hover:bg-white hover:border-slate-200 hover:shadow-sm"}`,children:[S.jsxs("div",{className:"flex flex-col overflow-hidden",children:[S.jsx("span",{className:`truncate text-sm font-bold pr-2 leading-tight ${(r==null?void 0:r.id)===F.id?"text-indigo-700":"text-slate-700"}`,children:F.title}),S.jsx("span",{className:"text-[10px] text-slate-400 mt-1",children:new Date(F.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),S.jsx("button",{onClick:ne=>K(ne,F.id),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-rose-500 transition-all p-1.5 hover:bg-rose-50 rounded-md",title:"Delete project",children:S.jsx(j.Trash,{className:"w-3.5 h-3.5"})})]},F.id))})]},te)})]}),S.jsx("div",{className:"p-4 border-t border-slate-100 mt-auto bg-slate-50/50",children:S.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest text-center",children:"Copyright  Shreevatsa Agnihotri"})}),S.jsx(u1,{})]}),S.jsxs("main",{className:"flex-1 flex flex-col relative h-full overflow-hidden",children:[!y&&i!==it.SUCCESS&&S.jsx("div",{className:"absolute top-4 left-4 z-30 print:hidden",children:S.jsx("button",{onClick:()=>m(!0),className:"p-2 bg-white border-2 border-slate-900 rounded-lg shadow-sm text-slate-500 hover:text-slate-900 hover:bg-slate-50 transition-colors sketch-shadow-sm",children:S.jsx(j.PanelLeftOpen,{className:"w-5 h-5"})})}),S.jsxs("div",{className:"flex-1 overflow-y-auto w-full h-full",children:[i===it.ERROR&&S.jsxs("div",{className:"max-w-md mx-auto mt-12 p-4 bg-rose-50 border-2 border-rose-200 rounded-lg flex items-center gap-3 shadow-sm",children:[S.jsx(j.Alert,{className:"text-rose-500 w-5 h-5"}),S.jsx("span",{className:"text-rose-900 text-sm font-bold",children:p})]}),(i===it.ANALYZING||i===it.GENERATING)&&S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh]",children:[S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-indigo-600 rounded-full animate-spin"}),S.jsx(j.Brain,{className:"w-6 h-6 text-indigo-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),S.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-6 mb-2 font-display animate-pulse",children:q}),S.jsx("p",{className:"text-slate-500 font-medium",children:i===it.ANALYZING?"Checking for blind spots":"This may take a moment due to high complexity"})]}),i===it.IDLE&&S.jsx("div",{className:"h-full flex items-center justify-center",children:S.jsx(zS,{onSubmit:Y,isGenerating:!1})}),i===it.CLARIFYING&&S.jsx(r1,{questions:C,onSubmit:Q,onSkip:()=>W(x,[])}),i===it.SUCCESS&&r&&S.jsx(a1,{project:r,onUpdateProject:ve,onToggleSidebar:()=>m(!y),isSidebarOpen:y})]})]})]})}const Vg=document.getElementById("root");if(!Vg)throw new Error("Could not find root element to mount to");const f1=cv.createRoot(Vg);f1.render(S.jsx(nv.StrictMode,{children:S.jsx(c1,{})}));
